/*! Copyright (c) 2015 WhatsApp Inc.  All Rights Reserved. */
webpackJsonp([88],[,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(){return h[Math.round(Math.random()*(h.length-1))]}function i(){var e=this;this.logs=[],this.localCursor=0,this.pending=void 0,this.timer=new l(function(){return e.persistIdb()})}function a(e){return this.writeLine(e,!1),_.noop}function s(e){return this.writeLine(e,!0),_.noop}var d=r(2),c=n(d),u=r(8),l=r(81),p=r(0),f=250,h="LTSXOo+_*-=.<^!#?".split(""),m=o()+o()+o()+o();i.prototype.writeLine=function(e,t){e=t?e:e?e.toString().substring(0,f):e;var r=m+" "+p().locale("en").format("YYYY-MM-DD HH:mm:ss: ")+e;this.persist(r)},i.prototype.logColor=function(e,t){return a.call(this,t)},i.prototype.log=a,i.prototype.logVerbose=s,i.prototype.info=a,i.prototype.infoVerbose=s,i.prototype.warn=a,i.prototype.warnVerbose=s,i.prototype.error=a,i.prototype.errorVerbose=s,i.prototype.trace=function(e){var t=new Error(e);return this.errorVerbose(t.stack)(t),e},i.prototype.persist=function(e){this.logs.push(e),this.logs.length>u.LOG_SIZE&&(this.logs.shift(),this.localCursor--),this.timer.debounceAndCap(250,1e3)},i.prototype.persistIdb=function(){var e=this,t=r(26),n=this.logs.slice(Math.max(this.localCursor,0),this.logs.length);n.length&&(this.pending=t.idb().then(function(t){return t.transaction("rw",t.logs,function(){var r=void 0,o=e.getCursor();return _.forEach(n,function(e,n){r=(o+n)%u.LOG_SIZE,t.logs.put({line:r,log:e})}),r})}).then(function(t){e.localCursor+=n.length,e.setCursor(t)})["catch"](function(e){})["finally"](function(){e.pending=void 0}))},i.prototype.clearLogs=function(){var e=r(26);e.idb().then(function(e){e.logs["delete"]()})["catch"](_.noop),this.setCursor(0),this.localCursor=0,this.logs=[]},i.prototype.getLogs=function(){var e=this,t=r(26),n=[this.pending];return 0!==this.timer.ts&&(this.timer.forceRun(),n.push(this.pending)),c["default"].all(n).then(function(){return t.idb()}).then(function(e){return e.logs.orderBy("line").toArray()}).then(function(t){var r=e.getCursor(),n=r<t.length-1?t.slice(r,t.length):[],o=t.slice(0,r);return _.map(n.concat(o),"log")})["catch"](function(){return e.logs})},i.prototype.getCursor=function(){var e=r(26);try{return JSON.parse(e.permanentStorage.getItem(u.KEY_LOG_CURSOR))||Math.max(this.localCursor,0)}catch(t){return Math.max(this.localCursor,0)}},i.prototype.setCursor=function(e){var t=r(26);return t.permanentStorage.setItem(u.KEY_LOG_CURSOR,e)},i.prototype.exportToWindow=function(e,t){},i.prototype.assert=function(e,t,r){if(e)return _.noop;var n=new Error("AssertError "+t+": "+r);return _.defer(function(){throw n}),this.error("Assertion Failed! "+t+" ("+e+" not truthy): "+r)},e.exports=new i},function(e,t,r){e.exports={"default":r(514),__esModule:!0}},,,,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(212),i=n(o),a=r(53),s=n(a),d=r(216),c=r(473);["webkitGetUserMedia"].forEach(function(e){var t=(0,s["default"])(navigator)[e];t&&navigator[e]!==t&&(navigator[e]=t)}),window.URL=window.URL||window.webkitURL,window.AudioContext=window.AudioContext||window.webkitAudioContext,navigator.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia,window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem;var u=(0,i["default"])({},d,{MAX_GROUP_SIZE:101,MAX_SUBJECT_LENGTH:25,IMG_MAX_EDGE:1600,IMG_MAX_BYTES:1048576,IMG_THUMB_MAX_EDGE:100,MAX_MEDIA_UPLOAD_SIZE:16777216,MAX_FILES:10,SHOW_GIF_SEARCH:!1,BROWSER_CAPABILITY:{getRandomValues:!(!window.crypto||!window.crypto.getRandomValues),localstorage:!!window.localStorage,sessionstorage:!!window.sessionStorage,url:!!window.URL,websocket:!!window.WebSocket,worker:!!window.Worker},BROWSER_TYPE:{CHROME:"chrome",CHROMIUM:"chromium",FIREFOX:"firefox",SAFARI:"safari",IE:"ie",OPERA:"opera",EDGE:"edge"},BROWSER_LINK:{CHROME:'<a href="https://www.google.com/chrome">Google Chrome</a>',FIREFOX:'<a href="http://www.firefox.com">Mozilla Firefox</a>',OPERA:'<a href="http://www.opera.com">Opera</a>'},OS_TYPE:{WINDOWS:"windows",MAC:"mac os",CHROMEOS:"chromium os"},LATEST_HASH:"9598eba6ed24b59fe797ccdfc7e54a3fb102e5ef",VERSION:{p:0,s:2,t:2242},VERSION_BASE:"0.2.2242",VERSION_STR:"0.2.2242",CLB_URL:"https://web-crashlog.whatsapp.net/upload.php",PP_URL:"https://dyn.web.whatsapp.com/pp",LOGOUT_URL:"https://dyn.web.whatsapp.com/logout",WAM_URL:"https://dyn.web.whatsapp.com/wam",PREVIEW_WINDOW:"preview-window",UPLOAD_SELECT:"upload-select",CURRENT_LOCATION_ICON:"https://maps.gstatic.com/mapfiles/ms2/micons/blue-dot.png",CURRENT_LOCATION_SHADOW:"https://maps.gstatic.com/mapfiles/ms2/micons/msmarker.shadow.png",GROUP_DEFAULT_ICON:r(589),USER_DEFAULT_ICON:r(590),NOTIFICATION_PROMPT_DELAY:1e4,NOTIFICATION_TIMEOUT:5e3,CALL_NOTIFICATION_TIMEOUT:45e3,NOTIFICATION_TONE_PATH:"/assets/notification.mp3",IDLE_TIMEOUT:6e4,IDLE_TIMEOUT_WAIT:78e4,SEND_UNAVAILABLE_WAIT:15e3,SEND_PAUSED_WAIT:2500,CLEAR_CHAT_DIRTY_WAIT:2500,MAX_RETRY_GENERATION:4,GIVE_UP_WAIT:12e4,LOG_UPLOAD_INTERVAL:36e5,EMOJI_SYNC_DELAY:3e4,MAX_TXT_MSG_SIZE:65536,DRAG_TYPE_FILE:"Files",DRAG_TYPE_LOCAL_IMAGE:"drag_type_local_image",NUM_COLORS:20,KEY_STORAGE_TEST:"storage_test",KEY_CLIENT_TOKEN:"WAToken1",KEY_SERVER_TOKEN:"WAToken2",KEY_SECRET:"WASecretKey",KEY_SECRET_BUNDLE:"WASecretBundle",KEY_BROWSER_ID:"WABrowserId",KEY_GEOCODER_LOCATION:"WAGeocoderLocation",KEY_GROUP_ASSIGNED_COLOR:"WAGroupAssignedColor",KEY_GMAPS_OVER_LIMIT:"WAGmapsOverLimit",KEY_GLOBAL_MUTE_SOUNDS:"WAGlobalSounds",KEY_GLOBAL_MUTE_NOTIFICATIONS:"WAGlobalNotifications",KEY_GLOBAL_MUTE_PREVIEWS:"WAGlobalPreviews",KEY_LANG:"WALangPref",KEY_LAST_ACTIVE_EMOJI_TAB:"WALastActiveEmojiTab",KEY_UNKNOWN_ID:"WAUnknownID",KEY_VERSION:"WAVersion",KEY_LOAD_RETRY_GENERATION:"WALoadRetryGeneration",KEY_REMEMBER_ME:"remember-me",KEY_LOGOUT_TOKEN:"logout-token",KEY_OLD_LOGOUT_CREDS:"old-logout-cred",KEY_NO_TAKEOVER:"no-takeover",KEY_WHATSAPP_MUTEX:"whatsapp-mutex",KEY_WHATSAPP_LS_VERSION:"ver",KEY_LOCAL_TAKEOVER_OK:"local-takeover-ok",KEY_WAM_BUFFER:"wam-buffer",KEY_WAM_INFO:"wam-info",COOKIE_REF:"ref",COOKIE_TOK:"tok",PAGE_SIZE:50,MSG_PRELOAD_THRESHOLD:20,SCROLL_FUDGE:100,MEDIA_QUERY_LIMIT:50,MIN_PIC_SIDE:192,MAX_PIC_SIDE:640,PROF_PIC_THUMB_SIDE:96,MAX_CAPTION_LENGTH:1024,MAX_VCARD_PHOTO_SIDE:64,EMOJI_PANEL_HEIGHT:222,GROUP_SET_PIC_CONTEXT:"group",GROUP_CREATE_PIC_CONTEXT:"create_group",PROFILE_PIC_CONTEXT:"profile",PERMISSION_ALLOWED:"granted",PERMISSION_DEFAULT:"default",PERMISSION_DENIED:"denied",PRESENCE_COMPOSING_TIMEOUT:25e3,PRESENCE_RESEND_WAIT:1e4,PTT_CANCEL_AREA:300,PTT_TIME_CHECK:1,PTT_TIME_CANCEL:.75,CANCEL_ANIMATION_DURATION:2700,MIMETYPE_OGG:"audio/ogg",IMAGE_MIMES:"image/*",VIDEO_MIMES:"video/*",SEARCH_ANIMATION_DURATION:150,SLIDEDOWN_DURATION:100,CSS_TRANSITION_DURATION:1,EARTH_RADIUS:6378137,LOG_SIZE:4999,KEY_LOG_CURSOR:"debugCursor",MAX_STATUS_LENGTH:139,MAX_PUSHNAME_LENGTH:25,QR_EDGE:240,FILE_ERROR_MISSING:"File missing.",FILE_ERROR_SIZE:"File size is too large.",FILE_ERROR_TYPE:"File type is invalid.",FILE_ERROR_MIN_DIM:"File dimensions are too small.",DISP_TYPE:{CONVERSATION:"conversation",MSG_INFO:"msg_info",STARRED_MSGS:"starred_msgs"},GMAPS_OVER_LIMIT_DURATION:14400,ACK_ERROR:-1,ACK_PENDING:0,ACK_SERVER:1,ACK_DEVICE:2,ACK_READ:3,ACK_PLAYED:4,BATTERY_LOW_THRESHOLD_1:15,BATTERY_LOW_THRESHOLD_2:5,BATTERY_DELAY:1e4,WAM_MAX_BUFFER_SIZE:5e4,NUX:{SAFARI_LIMITED_SUPPORT:"safari_limited_support"},COLLECTION_HAS_SYNCED:"collection_has_synced",DIAGNOSTIC_DELAY:18e3,ONE_BY_ONE_TRANS_GIF:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",WALLPAPER_COLOR:["#ede9e4","#ccebdc","#aed8c7","#7acba5","#c7e9eb","#a9dbd8","#68d5d9","#6ec3d4","#f2dad5","#f2d5e1","#fbcad2","#ffa7a8","#cbdaec","#d7d3eb","#e5c0eb","#d0deb1","#dee0b4","#e6dfa8","#f7e9a8","#ffd1a4","#ff8a8c","#ff5978","#f56056","#dc6e4f","#e6e365","#73c780","#2293a4","#219ed9","#2b5aa6","#74676a","#48324d","#dee3e9","#d9dade","#c0c1c4","#7e90a3","#55626f","#243640","#162127"],DEFAULT_CHAT_WALLPAPER:"default_chat_wallpaper",L10N_PRIORITY:{SAVED:6,PHONE:5,PREVIOUS:4,URL:3,BROWSER:2,DEFAULT:1},RENDOR_CURSOR:{RECENT_AT_TOP:"recent_at_top",RECENT_AT_BOTTOM:"recent_at_bottom",CONVERSATION:"conversation",GROUP_CONVERSATION:"group_conversation",STARRED_DRAWER:"starred_drawer"},E2E_FAQ_LINK:"https://www.whatsapp.com/faq/general/28030015/",CODE_CHANGE_FAQ_LINK:"https://www.whatsapp.com/faq/general/28030014/",SECURITY_LINK:"https://www.whatsapp.com/security/",SERVER_WID:"server@c.us",PSA_WID:"0@c.us",VISIBILITY:{ABOVE:"above",VISIBLE:"visible",BELOW:"below"},SPELL_CHECK_SKIP_WORDS:{"en-US":["ain","couldn","didn","doesn","hadn","hasn","mightn","mustn","needn","oughtn","shan","shouldn","wasn","weren","wouldn"],"en-GB":["ain","couldn","didn","doesn","hadn","hasn","mightn","mustn","needn","oughtn","shan","shouldn","wasn","weren","wouldn"],en:["ain","couldn","didn","doesn","hadn","hasn","mightn","mustn","needn","oughtn","shan","shouldn","wasn","weren","wouldn"]},NATIVE_PREF:{LAST_SAVED_LOCATION:"lastSavedLocation"}});for(var l in c)c.hasOwnProperty(l)&&(u[l]=c[l]);e.exports=u},,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(2),i=n(o),a=r(1),s=r(68),d=r(107),c=r(30),u={isMainLoaded:!1,uiBusy:0,mainLoaded:function(){this.isMainLoaded=!0,this.trigger("main_loaded")},incrementProgress:function(){a.log("Cmd: incrementProgress")(),this.trigger("increment_progress")},logSocketSummary:function(){this.trigger("log_socket_summary")},muteChat:function(e,t,r){this.trigger("mute_chat",e,t,r)},deleteOrExitChat:function(e,t){this.trigger("delete_or_exit_chat",e,t)},clearChatMsgs:function(e,t){this.trigger("clear_chat_msgs",e,t)},archiveChat:function(e,t){this.trigger("archive_chat",e,t)},markChatUnread:function(e,t){this.trigger("mark_chat_unread",e,t)},msgInfoDrawer:function(e){this.trigger("msg_info_drawer",e)},chatSearch:function(e){this.trigger("chat_search",e)},chatInfoDrawer:function(e){this.trigger("chat_info_drawer",e)},attachMediaDrawer:function(e,t){this.trigger("attach_media_drawer",e,t)},verificationDrawer:function(e){this.trigger("verification_drawer",e)},openChat:function(e,t){var r=arguments.length<=2||void 0===arguments[2]||arguments[2],n=arguments.length<=3||void 0===arguments[3]||arguments[3],o=arguments[4];!t&&e&&e.unreadMsgAnchor&&(t={collection:e.unreadMsgAnchor.msgChunk,promise:i["default"].resolve(),msg:e.unreadMsgAnchor,isUnreadDivider:!0,highlightMsg:!1}),this.trigger("open_chat",e,t,r,n,o)},clearChat:function(e){this.trigger("clear_chat",e)},focusChatTextInput:function(e){e?this.trigger("focus_chat_text_input_"+e.id):this.trigger("focus_chat_text_input")},focusShowMsg:function(e){this.trigger("focus_show_msg",e)},enterChatTextInput:function(e){this.trigger("enter_chat_text_input_"+e.id)},focusNextChat:function(e){this.trigger("focus_next_chat",e)},focusPrevChat:function(e){this.trigger("focus_prev_chat",e)},focusChatList:function(){this.trigger("focus_chat_list")},focusChatSearch:function(){this.trigger("focus_chat_search")},pasteChatTextInput:function(e,t){this.trigger("paste_chat_text_input_"+e.id,t)},composeHeightChange:function(e,t){this.trigger("compose_height_change",e,t)},jsHaltDetected:function(e){this.trigger("js_halt_detected",e)},login:function(e){this.trigger("login",e)},logout:function(){this.trigger("logout")},openContextMenu:function(e,t,r,n){this.trigger("open_context_menu",e,t,r,n)},closeContextMenu:function(e){this.trigger("close_context_menu",e)},openTooltip:function(e,t,r,n){this.trigger("open_tooltip",e,t,r,n)},closeTooltip:function(e){this.trigger("close_tooltip",e)},openToast:function(e){this.trigger("open_toast",e)},closeToast:function(e){this.trigger("close_toast",e)},alertNewMsg:function(e){this.trigger("alert_new_msg",e)},alertCall:function(e,t,r){this.trigger("alert_call",e,t,r)},cancelCall:function(e){this.trigger("cancel_call",e)},windowError:function(e){},error2412:function(e){},sentPing:function(e){},openModal:function(e,t,r){this.trigger("open_modal",e,t,r)},closeModal:function(){this.trigger("close_modal")},openModalMedia:function(e,t,r){this.trigger("open_media",e,t,r)},closeModalMedia:function(){this.trigger("close_media")},openDrawerRight:function(e,t,r){this.trigger("open_drawer_right",e,t,r)},openDrawerMid:function(e,t,r){this.trigger("open_drawer_mid",e,t,r)},openDrawerLeft:function(e,t,r){this.trigger("open_drawer_left",e,t,r)},existsDrawerRight:function(e){this.trigger("exists_drawer_right",e)},existsDrawerMid:function(e){this.trigger("exists_drawer_mid",e)},existsDrawerLeft:function(e){this.trigger("exists_drawer_left",e)},closeDrawerRight:function(){this.trigger("close_drawer_right")},closeDrawerMid:function(){this.trigger("close_drawer_mid")},closeDrawerLeft:function(){this.trigger("close_drawer_left")},onPanesWillChange:function(e){this.trigger("panes_will_change",e)},onPanesDidChange:function(e){this.trigger("panes_did_change",e)},mediaPlaying:function(e){this.trigger("mediaPlaying",e)},uiResize:function(){this.trigger("resize")},localeChange:function(){this.trigger("locale_change")},clearUiBusy:c.debounce(function(){this.uiBusy&&(a.log("cmd:clearUIBusy uibusy timeout")(),this.uiBusy=0,this.trigger("ui_idle"))},1e3,{maxWait:5e3}),setUiBusy:function(e){var t=this.uiBusy||0;e?(++t,this.clearUiBusy()):t&&--t,this.uiBusy=t,0===t&&(this.clearUiBusy.cancel(),this.trigger("ui_idle"))},windowMouseDown:function(e){this.trigger("window_mousedown",e)},windowClick:function(e){this.trigger("window_click",e)},midnight:function(){this.trigger("midnight")}};c.extend(u,s,d),a.exportToWindow("Cmd",u),e.exports=u},,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e instanceof C}function i(e){var t=g.getOldLogoutCreds();g.setOldLogoutCreds(_.filter(t,_.negate(_.matches(e))))}var a=r(18),s=n(a),d=r(417),c=n(d),u=r(2),l=n(u),p=r(1),f=r(22),h=r(70),m=r(8),g=r(15),v=r(10),y=r(248),b=r(138),w=r(225),E=r(29),S=r(14),N=r(221),C=r(13),T=r(59),k=r(86),$=r(481),A=r(210),x=r(36),M=r(103),O=r(196),I=r(492),R=r(0),P={OPENING:"OPENING",PAIRING:"PAIRING",UNPAIRED:"UNPAIRED",UNPAIRED_IDLE:"UNPAIRED_IDLE",CONNECTED:"CONNECTED",TIMEOUT:"TIMEOUT",CONFLICT:"CONFLICT",UNLAUNCHED:"UNLAUNCHED",PROXYBLOCK:"PROXYBLOCK",TOS_BLOCK:"TOS_BLOCK"},L={DISCONNECTED:"DISCONNECTED",SYNCING:"SYNCING",RESUMING:"RESUMING",CONNECTED:"CONNECTED"},D=S.defineAll(["SendCalledWhileDisconnected","ExternalPoke","MustExitLoop","Denied401Failed","Denied409Conflict","DeniedTOS","DeniedUnknown","ForcedRefresh","TooManyRefRequest","UILogout","WindowOffline","PhoneFailedPing","AssertionFailed","TakeoverRequested","PhoneReplacedClient","NoSecretBundle","PhoneKickedClient"]),B={SYNC_INFO:["Conn",N.OBJECT],CHALLENGE:["Cmd",{type:"challenge",challenge:N.STRING}],DISCONNECT:["Cmd",{type:"disconnect",kind:_}],HARD_REFRESH:["Cmd",{type:"update"}],PONG:["Pong",N.BOOLEAN]},U={TAG:function(e){return new N({tag:e,data:N.ANY})},SYNC_INFO:new N({tag:N.ANY,data:B.SYNC_INFO}),CHALLENGE:new N({tag:N.ANY,data:B.CHALLENGE}),DISCONNECT:new N({tag:N.ANY,data:B.DISCONNECT}),HARD_REFRESH:new N({tag:N.ANY,data:B.HARD_REFRESH}),PONG:new N({tag:N.ANY,data:B.PONG})},j=new N({status:function(e){return"number"==typeof e&&e>=500},_:_}),W=5,Y=6e4,F=5,G=500,q=3e3,K=3e3,H=36e5,z=120,V=40,Q=h.extend({extraProperties:"reject",session:{socketPreload:"object",socket:"object",launchGeneration:{type:"number","default":0},backoffGeneration:{type:"number","default":0},hasSynced:"boolean",state:{type:"string",values:_.keys(P),"default":P.UNLAUNCHED},stream:{type:"string",values:_.keys(L),"default":L.DISCONNECTED},canSend:"boolean",sendQueue:"array",sendHash:"object",sequence:{type:"number","default":0},shortTagBase:"string",socketWatcher:"object",refWatcher:"object",phoneWatchdog:"object",pendingPhoneReqs:{type:"number","default":0},isIncognito:"boolean",runPromise:"object",streamPromise:"object",logoutMutex:{type:"number","default":0},retryTimestamp:"number",pokeable:"object",conflictPromise:"object",launched:"boolean",mustExitLoop:"boolean",syncTag:"string",lastPhoneMessage:"number"},initialize:function(){this.sendQueue=[],this.sendHash={},this.phoneWatchdog=new w({waitAlgorithm:w.FIBONACCI(q,K,H),onTimeout:this.phoneTimedOut.bind(this),onActivated:this.onPhoneWatchdogActivated.bind(this),onFed:this.onPhoneWatchdogFed.bind(this),onDeactivated:this.onPhoneWatchdogDeactivated.bind(this)}),this.listenTo(this,"change:state",this.onStateChange.bind(this)),this.listenTo(this,"change:stream",this.onStreamChange.bind(this)),l["default"].delay(0).then(E.determineIncognito).bind(this).then(function(e){this.isIncognito=e}),this.listenTo(v,"log_socket_summary",this.summary)},STATE:P,STREAM:L,preload:function(e){this.socketPreload=e||new $},send:function(e){var t=new I(e);this.sendQueue.push(t),this.flushQueue()},send2:function(e){var t=this;return new l["default"](function(r,n){var o=new I(e);o.onSend=r,o.onDrop=n,t.sendQueue.push(o),t.flushQueue()})},shortTag:function(){return this.shortTagBase||(this.shortTagBase=(R().unix()%1e3).toString()),this.shortTagBase+".--"+this.sequence++},tag:function(e){var t=R().unix()+".--"+this.sequence++;return e&&m.FLAVOR_TAGS?t+"-"+e:t},launch:function(e,t){function r(){p.log("ws2:socket loop closed")(),this.socketPreload&&this.socketPreload.deactivate(),this.clearState(),this.set({state:P.UNLAUNCHED,mustExitLoop:!1,launched:!1,socketPreload:null})}p.log("ws2:Launch gen"+this.launchGeneration+" (backoff gen"+this.backoffGeneration+")")(),t=t||0;var n=Date.now()+300*M.expBackoff(this.backoffGeneration,100),o=n+Y;if(this.launched){var i=new Error("Redundant Launch");return p.error("ws2:launch redundantly called!")(),p.errorVerbose(i.stack)(),void f.upload("redundant-launch")}this.mustExitLoop?r.call(this):(this.launched=!0,this.run(t,e).then(function(e){return[e,!1]}).bind(this)["catch"](D.MustExitLoop,function(){return this.mustExitLoop=!0,[!1,!1]})["catch"](D.TakeoverRequested,function(){return[!1,!0]})["catch"](function(e){return p.error("ws2:run error unknown!")(e),p.errorVerbose(e.stack)(),f.upload("unknown-error-in-ws-loop"),this.clearState(),[!0,!1]}).spread(function(e,t){if(this.mustExitLoop)r.call(this);else{var i=Date.now();this.launchGeneration++,this.backoffGeneration=e&&i<o?this.backoffGeneration+1:0,this.launched=!1,this.launch(t,i<n?n-i:0)}}))},poke:function(){this.pokeable?this.pokeable.poke():this.phoneWatchdog.forceTimeout()},takeover:function(){if(!this.conflictPromise)throw"Takeover called without conflict!";this.conflictPromise.cancel(new D.TakeoverRequested)},exitLoop:function(){this.mustExitLoop=!0,this.runPromise&&this.runPromise.cancel(new D.MustExitLoop)},logout:function(e){var t=this.runPromise;p.info("ws2:user logged out")(),this.stream===L.DISCONNECTED||e?this.sendCurrentLogout():this.sendCurrentLogout(this.socket),this.clearCredentials(),t&&t.cancel(new D.UILogout),this.state===P.OPENING&&this.trigger("change:state"),v.logout()},summary:function(){p.log("ws:summary --------------------------------")(),p.log("ws state           "+this.state)(),p.log("wd online:         "+navigator.onLine)(),p.log("ws socket id:      "+(this.socket?this.socket.id:"n/a"))(),p.log("ws queue:")(),_.isEmpty(this.sendQueue)||y.printArray(_.map(this.sendQueue,function(e){var t=_.pick(e,"tag","state","age","ephemeral","isToPhone");return e&&e.toString&&(t.debug=e.toString()),t})).split(/\n/).forEach(function(e){p.log(e)()}),p.log("ws hash:")(),_.isEmpty(this.sendHash)||y.printArray(_.map(this.sendHash,function(e){var t=_.pick(e,"tag","state","age","ephemeral","isToPhone");return e&&e.toString&&(t.debug=e.toString()),t})).split(/\n/).forEach(function(e){p.log(e)()})},onStateChange:function(){p.log("ws2:state change: "+this.state)()},onStreamChange:function(){p.log("ws2:stream change: "+this.stream)(),this.stream===L.DISCONNECTED&&this.onRefCycle()},onRefCycle:function(){p.log("ws2:onRefCycle")(),this.sendQueue.forEach(function(e){e.state=I.STATE.NEW,e.age=0}),this.clearSendHash()},onActivity:function(e){if(e){var t=e.data;if(U.HARD_REFRESH.test(e))p.error("ws2:hard refresh!")(),A.update(0);else if(t){var r=_.isArray(t)?" ["+t[0]+", ...]":"";p.logColor("green","    recv: "+e.tag+r,t)()}else p.logColor("#669999","     ack: "+e.tag)()}else O.setSkew(this.socket.timeSkew||0);this.sendRemainingLogouts()},onPhoneWatchdogActivated:function(){},onPhoneWatchdogFed:function(){this.state=P.CONNECTED},onPhoneWatchdogDeactivated:function(){},flushQueue:function(){var e=this;if(this.canSend&&this.sendQueue.length){var t=_.filter(this.sendQueue,{state:I.STATE.NEW}),r=O.localUnixTime(),n=_.partition(t,function(e){return!(!e.resendGuard||e.resendGuard())||!(!e.binaryOpts||!e.binaryOpts.expires)&&r-e.binaryOpts.expires>z}),o=(0,c["default"])(n,2),i=o[0],a=o[1];this.sendQueue=_.difference(this.sendQueue,i),i.forEach(function(t){delete e.sendHash[t.tag],t.onSend({status:408})}),a.length&&a.forEach(function(t){e._send(t)})}},phoneTimedOut:function(){var e=this.phoneWatchdog.failGeneration;if(1===e){p.warn("ws2:Phone timed out")();var t=_.map(this.sendHash,"tag");p.warn("ws2:Outstanding Reqs: "+t.join(","))()}v.sentPing(e);var r=this.phoneWatchdog.waitAlgorithm(this.phoneWatchdog);return this.set({state:P.TIMEOUT,retryTimestamp:Date.now()+r}),this._basicSend({tag:this.tag("ping"),data:["admin","test"]},"ping"),!0},clearSendHash:function(e){if(e)_.each(this.sendHash,function(e){e.resendTimer&&clearTimeout(e.resendTimer),e.onDrop(new S.LogoutDrop(e.toString()))});else{var t=_.filter(this.sendHash,"ephemeral");p.warn("Ephemeral Drop: "+_.map(t,"tag").join(","))(),t.forEach(function(e){e.resendTimer&&clearTimeout(e.resendTimer),e.onDrop(new S.EphemeralDrop(e.toString()))})}this.sendHash={},this.pendingPhoneReqs=0,this.phoneWatchdog.deactivate()},_basicSend:function(e,t){p.logColor("blue","low-send: "+t+" "+e.tag,e.data)(),this.socket.cast(e.tag+","+(0,s["default"])(e.data))},_send:function(e){e.tag=e.getTag()||this.shortTag(),this.sendHash[e.tag]=e;var t=e.binaryOpts?e.binaryOpts.debugObj:e.data;p.logColor("blue","    send: "+e.tag+", "+e.toString(),t)(),this.socket.send(e.serialize()),e.isToPhone&&this.pendingPhoneReqs++,e.state=I.STATE.SENT},sendBasic:function(e){return this.socket?(e.tag=this.tag(),this._basicSend(e,"external"),this.socket.nextMessage(U.TAG(e.tag))):l["default"].reject("socket not open")},sendEphemeral:function(e){e.ephemeral=!0;var t=new I(e);this.canSend?this._send(t):t.onDrop(new S.EphemeralDrop(t.toString()))},sendEphemeral2:function(e){var t=this;return new l["default"](function(r,n){var o=new I(e);o.ephemeral=!0,t.canSend?(o.onSend=r,o.onDrop=n,t._send(o)):n(new S.EphemeralDrop(o.toString()))})},sendEphemeralIgnore:function(e){e.ephemeral=!0,e.ignore=!0,e.tag=this.tag();var t=new I(e);if(this.canSend){var r=t.serialize();this.socket.send(r),p.logColor("blue","sending: "+t.tag+", "+t.toString(),t.data)()}else t.onDrop(new S.EphemeralDrop(t.toString()))},sendEphemeralIgnore2:function(e){var t=this;return new l["default"](function(r,n){var o=new I(e);if(o.ephemeral=!0,o.ignore=!0,o.tag=t.tag(),t.canSend){o.onSend=r,o.onDrop=n;var i=o.serialize();t.socket.send(i),p.logColor("blue","sending: "+o.tag+", "+o)(o.data)}else n(new S.EphemeralDrop(o.toString()))})},onMessage:function(e){var t=e.tag,r=e.data;if(o(r)&&(this.lastPhoneMessage=R().unix()),U.PONG.test(e))if(r[1]){var n=0,i=!1;_.each(this.sendHash,function(e){if(e.isToPhone){var t=++e.age;t===V?(i=!0,p.error(e.tag+" likely dead: "+e.toString(),e)(),v.error2412("("+e.tag+") "+e.toString()),Store.Wap.error2412()):t<V&&n++}}),this.pendingPhoneReqs=n,this.phoneWatchdog.feed(),0===n&&this.phoneWatchdog.deactivate(),i&&f.upload("error-2412")}else this.state!==P.TIMEOUT?p.error("ws2:Pang while not timed-out")():this.runPromise.cancel(new D.PhoneFailedPing);else{var a=this.sendHash[t];if(a){if(!r)return a.state=I.STATE.WEBDACKED,void(a.isToPhone&&this.phoneWatchdog.activate());if(a.retryOn5xx&&j.test(s))p.error("ws2:onMessage 5xx error "+a.tag,s)(),a.on5xx&&a.on5xx(),a.resends>=W?(p.error("ws2:onMessage dropping "+a.tag)(),a.onDrop(new S.Server5xxDrop),delete this.sendHash[t],this.sendQueue=_.without(this.sendQueue,a)):this.maybeResendRequestEventually(a);else{var s;try{s=a.onSend(r)}catch(d){if(d instanceof S.E401)return void this.logout();p.error("ws2:onMessage error")(d),a.onDrop(d)}j.test(s)?(p.error("ws2:onMessage 5xx error "+a.tag,s)(),a.resends>=W?(p.error("ws2:onMessage dropping "+a.tag)(),a.onDrop(new S.Server5xxDrop),delete this.sendHash[t],this.sendQueue=_.without(this.sendQueue,a)):this.maybeResendRequestEventually(a)):(delete this.sendHash[t],this.sendQueue=_.without(this.sendQueue,a),a.isToPhone&&(a.age<V&&this.pendingPhoneReqs--,this.phoneWatchdog.feed(),0===this.pendingPhoneReqs&&this.phoneWatchdog.deactivate()))}}else if(r){var c;if(r instanceof ArrayBuffer)c=Store.Wap;else{var u=_.isFunction(r.shift)?r.shift():r;c=Store[u]}c?c===Store.Wap?c.handle(r,this,t)["catch"](S.WapDrop,_.noop):c.handle(r,this,t):p.error("ws2: Invalid type received",r)(),o(r)&&this.phoneWatchdog.feed()}}},run:function(e,t){return this.runPromise=T.resolve(e).bind(this).cancellable().then(function(e){if(this.state=P.OPENING,v.incrementProgress(),e>0){p.log("ws2:Run Backoff "+e+"ms")();var t=T.delay(e).cancellable()["catch"](D.ExternalPoke,_.noop);return this.setPokeable(t,Date.now()+e),t}})["finally"](function(){this.unset("pokeable"),this.unset("retryTimestamp")}).then(function(){return v.incrementProgress(),p.log("ws2:Running")(),this.openSocket()}).then(function(e){if(v.incrementProgress(),e.onactivity=this.onActivity.bind(this),this.socket=e,this.socketWatcher=E.attachWatcher(this.runPromise,this.throwOnClose()),this.state=P.PAIRING,"undefined"==typeof this.isIncognito)return E.waitForBBEvent(this,"change:isIncognito")}).then(function(){var e=this;v.incrementProgress(),this.shortTagBase=(R().unix()%1e3).toString();var r=this.initConn();if(!g.knowsPhone())return r.bind(this).then(function(){this.set({state:P.UNPAIRED,refWatcher:E.attachWatcher(this.runPromise,this.manageRef())})});var n=function(){var n=e.requestSync(t);return{v:l["default"].all([r,n])["finally"](function(){r.cancel(),n.cancel()})}}();return"object"==typeof n?n.v:void 0}).then(this.waitForSyncInfo)["finally"](function(){this.refWatcher&&(this.refWatcher.cancel(),this.unset("refWatcher"))}).then(function(e){return v.incrementProgress(),p.log("ws2:completed "+(this.hasSynced?"re-auth":"auth"))(),this.state=P.CONNECTED,E.waitForMain()["return"](e)}).then(function(e){if(p.log("ws2:main loaded")(),e.initial=!0,Store.Conn.handle([e]),this.mustExitLoop)throw new D.MustExitLoop;var t=this.openStream();return this.streamPromise=t,t}).then(function(){return new T})["catch"](S.SocketClosed,function(e){throw e.event instanceof D.UILogout?e.event:e})["catch"](function(e){p.warn("ws2:run loop interrupt: "+e)(e),this.set({canSend:!1,stream:L.DISCONNECTED,runPromise:null}),this.phoneWatchdog.deactivate(),this.streamPromise&&(this.streamPromise.cancel(),this.unset("streamPromise")),this.socketWatcher&&(this.socketWatcher.cancel(),this.unset("socketWatcher"));var t=this.socket;return t&&"closed"!==t.state&&(t.detachCallbacks(),t.close(!0,e)),this.unset("socket"),l["default"].reject(e)})["catch"](S.E401,D.PhoneFailedPing,function(){return!1})["catch"](D.ForcedRefresh,function(){return this.clearState(),!1})["catch"](S.SocketClosed,S.SocketError,function(){return!0})["catch"](D.DeniedUnknown,function(e){return p.error("ws2:sync rejected, logging out")(),this.sendCurrentLogout(),this.clearCredentials(),!1})["catch"](D.Denied401Failed,D.PhoneKickedClient,function(e){return p.log("ws2:phone disassociated via "+e)(),this.clearCredentials(),!1})["catch"](D.NoSecretBundle,function(){return p.error("ws2:No secret bundle!")(),this.clearCredentials(),f.upload("no-secret-bundle"),!1})["catch"](D.TooManyRefRequest,function(){return this.state=P.UNPAIRED_IDLE,this.setPokeable(E.waitForOfflineNaive()["throw"](new D.WindowOffline)["catch"](D.ExternalPoke,_.constant(!1)))})["catch"](S.BlockedByProxy,function(){return x.promptUnloadGuards++,this.state=P.PROXYBLOCK,this.setPokeable((new T)["catch"](D.ExternalPoke,_.constant(!1))["finally"](function(){x.promptUnloadGuards--}))})["catch"](D.DeniedTOS,function(){p.log("ws2:denied tos")();var e=this.setPokeable((new T).cancellable()["catch"](D.ExternalPoke,_.constant(!1))).cancellable();return this.clearState(),this.set({state:P.TOS_BLOCK,runPromise:e}),e})["catch"](D.Denied409Conflict,D.PhoneReplacedClient,function(e){e instanceof D.Denied409Conflict?p.log("ws2:phone denied (conflict)")():p.log("ws2:phone replaced")();var t=(new T).cancellable();return this.set({state:P.CONFLICT,conflictPromise:t,runPromise:t}),this.clearState(),t})["finally"](function(){this.conflictPromise&&this.conflictPromise.cancel()})["catch"](D.UILogout,D.WindowOffline,function(){return!1})},openSocket:function(){var e=this,t=this.socketPreload;if(this.socketPreload=null,t&&t.socket&&"open"===t.socket.state)return l["default"].resolve(t.socket);t&&t.active||(t=new $);var r=function(){e.retryTimestamp=t.retryTimestamp};t.on("change:retryTimestamp",r),this.pokeable=t;var n=E.waitForBBEvent(t,"change:socket").cancellable().then(function(){return t.socket})["finally"](function(){t.off("change:retryTimestamp",r),t.onerror=null,t.deactivate(),e.pokeable=null});return t.onerror=function(e){n.cancel(e)},n},initConn:function(){return new l["default"](function(e,t){var r=m.VERSION,n=this.tag("init"),o=x.info();return this._basicSend({tag:n,data:["admin","init",[r.p,r.s,r.t],[o.os||"Unknown",o.name||"Unknown"],x.id(),!this.isIncognito&&!!g.getRememberMe()]},"init"),this.socket.nextMessage(U.TAG(n)).get("data")["catch"](t).then(e)}.bind(this)).then(function(e){A.update(e.update,e.curr),O.setSkew(Date.now()-e.time),Store.Conn.handle([{id:1,ref:e.ref,refTTL:e.ttl}])})},manageRef:function(){var e=this;return E.loopOnError(S.ShouldLoop,function(t){var r=Store.Conn.refExpiry-Date.now()-G;return l["default"].delay(Math.max(r,0)).cancellable().then(function(){if(t>=F)throw new D.TooManyRefRequest;p.log("ws2:Requesting Ref Update")();var r=e.tag("qr"+t);return e._basicSend({tag:r,data:["admin","Conn","reref"]},"reref"),e.socket.nextMessage(U.TAG(r))}).then(function(e){var t=e.data;switch(t.status){case 200:throw p.log("ws2:Updating Ref")(),Store.Conn.handle([{ref:t.ref,refTTL:t.ttl}]),new S.ShouldLoop;case 304:return void p.log("ws2:Keeping Ref")();case 429:throw p.log("ws2:Server denied new ref")(),new D.TooManyRefRequest;default:throw p.error("ws2:Bad Ref Response!",t)(),new D.AssertionFailed("unrecognized ref request status ("+t.status+")")}})}).cancellable()},requestSync:function(e){var t=this;if(this.syncTag=this.tag("sync"),!k.load())throw new D.NoSecretBundle;var r=g.getLoginTokens(),n=r.client,o=r.server,i=["admin","login",n,o,x.id()];e?i.push("takeover"):this.hasSynced&&(i.push("reconnect"),i.push(Store.Conn.me));var a=function(){return t._basicSend({tag:t.syncTag,data:i},"sync"),!0},s=new w({waitAlgorithm:w.FIBONACCI(0,8500,6e4),onTimeout:a});s.on("change:ts",function(){t.retryTimestamp=s.ts}),this.pokeable=s,s.activate(),a();var d=this.socket.nextMessage(U.TAG(this.syncTag)),c=this.lookForAndHandleChallenge()["catch"](l["default"].CancellationError,_.noop)["catch"](d.cancel.bind(d));return d.then(function(e){p.log("ws2:login",e)();var t=e.data;switch(t.status){case 200:return e;case 401:return l["default"].reject(new D.Denied401Failed);case 403:return l["default"].reject(t.tos>=2?new D.DeniedTOS:new D.DeniedUnknown);case 405:return p.error("ws2:Already authorized!")(),f.upload("already-authorized"),l["default"].reject(new D.ForcedRefresh);case 409:return l["default"].reject(new D.Denied409Conflict);default:return p.error("ws2:unknown error! status:"+t.status,e)(),l["default"].reject(new D.DeniedUnknown)}})["finally"](function(){c.cancel(),s.deactivate(),t.unset("pokeable"),t.unset("retryTimestamp")})},waitForSyncInfo:function(){return this.socket.nextMessage(U.SYNC_INFO).then(function(e){return e.data[1];
})},lookForAndHandleChallenge:function(){return this.socket.nextMessage(U.CHALLENGE).bind(this).then(function(e){p.log("ws2:challenged!")();var t=CryptoJS.enc.Base64.parse(e.data[1].challenge),r=k.getSecurityToken(t),n=g.getLoginTokens(),o=n?n.server:void 0;if(!o)return p.error("ws2:handleChallenge no server token!",n)(),l["default"].reject(new Error("Handle challenge no server token"));var i=this.tag("challenge");return this._basicSend({tag:i,data:["admin","challenge",r,o,x.id()]},"challenge"),this.socket.nextMessage(U.TAG(i))}).then(function(e){return e.data.status>=400?(p.error("ws2:handleChallenge failed challenge!",e.data)(),l["default"].reject(new D.Denied401Failed)):void p.log("ws2:handleChallenge passed challenge")()})},throwOnClose:function(){return this.socket.nextMessage(U.DISCONNECT).then(function(e){var t=e.data[1];throw"replaced"===t.kind?new D.PhoneReplacedClient:new D.PhoneKickedClient})},openStream:function(){this.canSend=!0;var e,t;return this.hasSynced?e=l["default"].all([this.queryReceivedActions(),Store.Chat.resyncMessages(),Store.Msg.resyncReceipts()]).bind(this).then(function(){this.flushQueue(),this.stream=L.CONNECTED})["catch"](S.EphemeralDrop,l["default"].CancellationError,function(){this.stream=L.DISCONNECTED})["catch"](function(e){throw p.error("ws2:error during resume, resyncing: "+e)(e),p.errorVerbose(e.stack)(),f.upload("error-on-resume"),this.stream=L.DISCONNECTED,new D.ForcedRefresh}):(t=Store.Chat.sync().cancellable().bind(this).then(function(){this.set({hasSynced:!0,stream:L.CONNECTED})})["catch"](l["default"].CancellationError,_.noop),e=l["default"].all([t,Store.Contact.sync()]).bind(this)["catch"](function(e){return t.cancel(),this.set({hasSynced:!1,stream:L.DISCONNECTED}),l["default"].reject(e)})["catch"](l["default"].CancellationError,_.noop)),l["default"].resolve().cancellable().bind(this).then(function(){return this.stream=this.hasSynced?L.RESUMING:L.SYNCING,this.socket.onmessage=this.onMessage.bind(this),this.socket.releaseMessages(),e})["catch"](l["default"].CancellationError,function(){e.cancel()})},queryReceivedActions:function(){var e=this,t=_.filter(this.sendQueue,"clientCacheable",!0),r=_.map(t,"tag").filter(function(e){return e});return p.log("ws2:queryReceivedActions")(),0===r.length?l["default"].resolve():Store.Wap.queryReceivedActions(r).then(function(r){_.isArray(r)?r.forEach(function(t){var r=_.find(e.sendQueue,"tag",t.id);if(r)if(p.log("ws2:queryReceivedActions found dup: "+t.id+","+t.code)(),delete e.sendHash[t.id],e.sendQueue=_.without(e.sendQueue,r),r.onSend){var n=r.onSend({status:t.code,_duplicate:!0});j.test(n)&&r.onDrop(new S.Server5xxDrop)}else p.error("ws2:queryReceivedActions onSendDup undefined; should be defined: "+t.id)(),r.onDrop(new S.ConventionViolationDrop);else p.error("ws2:queryReceivedActions unknown tag in response: "+t.id)()}):"replaced"===r?(t.forEach(function(e){e.onDrop(new S.BrowserReplacedDrop)}),e.sendQueue=_.difference(e.sendQueue,t)):p.error("ws2:queryReceivedActions error",r)()})},setPokeable:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.retryTimestamp:arguments[1];return this.set({pokeable:{poke:function(){e.cancel(new D.ExternalPoke)}},retryTimestamp:t}),e},clearCredentials:function(){this.clearState(),g.setBrowserId(),g.setUnknownId(),g.clearTokens(),g.clearAllLocalState(),k.clear()},clearState:function(){this.sendQueue=[],this.clearSendHash(!0),this.unset("hasSynced"),Store.Conn.protoVersion&&Store.Wap.clearBPQueue(),_.each(Store,function(e){_.isFunction(e["delete"])&&e["delete"]()})},maybeResendRequestEventually:function(e){var t=this,r=300*M.expBackoff(e.resends,100);p.log("ws2:Resending "+e.toString()+" in "+r+"ms")(),e.state=I.STATE.WILL_RETRY,e.resendTimer=setTimeout(function(){e.resends++,e.resendTimer=0,t.sendHash[e.tag]===e&&(!e.resendGuard||e.resendGuard()?t._send(e):e.onSend({status:408}))},r)},sendCurrentLogout:function(e){if(k.load()){var t={t:g.getLogoutToken(),m:Store.Wap.logoutToken()},r=g.getOldLogoutCreds();r.push(t),g.setOldLogoutCreds(r)}if(e&&e.state===b.STATE.OPEN){var n=this.logoutMutex;this.logoutMutex=n<=0?n=1:++n,p.info("ws2:logout through socket")(),e.partingSend(new D.UILogout,'goodbye,,["admin","Conn","disconnect"]',_.matches("goodbye,")).bind(this).then(function(e){e?(p.log("ws2:logout through socket success")(),i(t)):p.warn("ws2:logout through socket failure, will POST")()})["finally"](function(){this.logoutMutex===n&&(this.logoutMutex=0)})}else this.logoutMutex<0&&(this.logoutMutex=0),this.sendRemainingLogouts()},sendRemainingLogouts:function(){var e=this.logoutMutex;if(0===e){var t=r(135),n=g.getOldLogoutCreds();if(0===n.length)return void(this.logoutMutex=-1);this.logoutMutex=e=1,l["default"].all(_.map(n,function(e){return p.info("ws2:POST logout")(),t.post(m.LOGOUT_URL,e).then(function(){i(e)})["catch"](function(e){p.warn("ws2:POST logout failure")()})})).bind(this)["finally"](function(){e===this.logoutMutex&&(this.logoutMutex=0)})}},updateImmediately:function(e){this.exitLoop(),f.upload(e,!0)["finally"](function(){return A.updateImmediately()})}}),X=new Q;p.exportToWindow("WS",X),e.exports=X},function(e,t){"use strict";function r(){var e=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array?(this._buffer=e,this._writeIndex=this._readEndIndex=e.byteLength):(this._buffer=null,this._writeIndex=this._readEndIndex=0),this._readIndex=0,this._view=null,this.littleEndian=!1,this._hiddenWrites=0}function n(e){var t=new r;return t._buffer=new Uint8Array(e),t}function o(){for(var e=0,t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];for(var s=0;s<o.length;s++){var d=o[s];"string"==typeof d?e+=i(d):"number"==typeof d?e++:d instanceof r?e+=d.size():d instanceof ArrayBuffer?e+=d.byteLength:d instanceof Uint8Array&&(e+=d.length)}var c=n(e);return c.write.apply(c,o),c}function i(e){if(e===g)return v;for(var t=0,r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t++:n<2048?t+=2:n<55296||57344<=n&&n<=65535?t+=3:(s(e,r,n),r++,t+=4)}return g=e,v=t}function a(e,t,r){var n=e._writeIndex;try{t(e,r),n=e._writeIndex}finally{e._writeIndex=n}}function s(e,t,r){if(r<55296||56320<=r)throw new TypeError("Invalid first surrogate at wchar-position "+t+' in "'+e+'"');if(++t===e.length)throw new TypeError('String ends with incomplete surrogate pair in "'+e+'"');var n=e.charCodeAt(t);if(n<56320||57344<=n)throw new TypeError("Invalid second surrogate at wchar-position "+t+' in "'+e+'"')}function d(e,t,r,n){if("number"!=typeof e||e!==e||Math.floor(e)!==e||e<t||e>=r)throw new TypeError("string"==typeof e?'WriteError: string "'+e+'" is not a valid '+n:"WriteError: "+e+" is not a valid "+n)}function c(e){return e._view||(e._view=new DataView(e._buffer.buffer,e._buffer.byteOffset))}function u(e,t){if(t<0)throw new Error("ReadError: given negative number of bytes to read");var r=e._readIndex,n=r+t;if(n>e._readEndIndex)throw new Error(r===e._readEndIndex?"ReadError: tried to read from depleted binary":"ReadError: tried to read beyond end of binary");return e._readIndex=n,r}function l(e,t){var r=e._writeIndex,n=r+t,o=e._buffer;if(!o||n>o.length){var i=Math.max(n,o?2*o.length:64),a=new Uint8Array(i);o&&a.set(o),e._buffer=a,e._view=null}return e._writeIndex=n,e._hiddenWrites||(e._readEndIndex=n),r}function p(e,t,r){var n=u(r,8),o=c(r),i=o.getInt32(t?n+4:n,t),a=o.getInt32(t?n:n+4,t);return h(e,i,a)}function f(e,t,r){var n=l(r,8),o=e<0;o&&(e=-e);var i=Math.floor(e/4294967296),a=e-4294967296*i,s=c(r);if(s.setUint32(t?n+4:n,i,t),s.setUint32(t?n:n+4,a,t),o){for(var d=r._buffer,u=n;u<n+8;u++)d[u]=255&~d[u];var p=255;if(t)for(var f=n;f<n+8&&255===p;f++)p=d[f],d[f]=255===p?0:p+1;else for(var h=n+7;h>=n&&255===p;h--)p=d[h],d[h]=255===p?0:p+1}}function h(e,t,n){var o=t>>20,i=0===o||e&&o===-1,a=t>=0?t:e?t:4294967296+t,s=n>=0?n:4294967296+n,d=4294967296*a+s;return i?d:r.onLongLong(d,e,t,n)}var m=65533,_=new Uint8Array(10);r.prototype={size:function(){return this._readEndIndex-this._readIndex},peek:function(e){var t=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],r=this._readIndex;try{return e(this,t)}finally{this._readIndex=r}},advance:function(e){u(this,e)},readUint8:function(){return this._buffer[u(this,1)]},readInt8:function(){var e=u(this,1);return c(this).getInt8(e)},readUint16:function(){var e=arguments.length<=0||void 0===arguments[0]?this.littleEndian:arguments[0],t=u(this,2);return c(this).getUint16(t,e)},readInt32:function(){var e=arguments.length<=0||void 0===arguments[0]?this.littleEndian:arguments[0],t=u(this,4);return c(this).getInt32(t,e)},readUint32:function(){var e=arguments.length<=0||void 0===arguments[0]?this.littleEndian:arguments[0],t=u(this,4);return c(this).getUint32(t,e)},readInt64:function(){var e=arguments.length<=0||void 0===arguments[0]?this.littleEndian:arguments[0];return p(!0,e,this)},readUint64:function(){var e=arguments.length<=0||void 0===arguments[0]?this.littleEndian:arguments[0];return p(!1,e,this)},readFloat32:function(){var e=arguments.length<=0||void 0===arguments[0]?this.littleEndian:arguments[0],t=u(this,4);return c(this).getFloat32(t,e)},readFloat64:function(){var e=arguments.length<=0||void 0===arguments[0]?this.littleEndian:arguments[0],t=u(this,8);return c(this).getFloat64(t,e)},readVarInt:function(){var e=this._readIndex,t=this._readEndIndex-e,r=this._buffer;t<=0&&u(this,1);var n=void 0,o=r[e];for(n=1;n<t&&n<11&&128&o;n++)o=r[e+n];var i=n;if(i>10||10===i&&r[e+9]>1)throw new Error("ParseError: varint exceeds 64 bits");128&o&&u(this,i+1),u(this,i);var a=0,s=0;for(n=0;n<3&&n<i;n++,s+=7)a|=(127&r[e+n])<<s;if(i<4)return a;var d=0;for(s=0,n=3;n<6&&n<i;n++,s+=7)d|=(127&r[e+n])<<s;if(i<5)return d<<21|a;if(i<7)return 2097152*d+a;var c=0;for(s=0,n=6;n<9&&n<i;n++,s+=7)c|=(127&r[e+n])<<s;10===i&&(c|=(1&r[e+9])<<21);var l=c<<10|d>>11,p=d<<21|a;return h(!0,l,p)},readBuffer:function(){var e=arguments.length<=0||void 0===arguments[0]?this.size():arguments[0];if(0===e)return new ArrayBuffer(0);var t=u(this,e),r=this._buffer,n=t+r.byteOffset,o=r.buffer;return 0===n&&this._readIndex===o.byteLength?o:o.slice(n,n+e)},readByteArray:function(){var e=arguments.length<=0||void 0===arguments[0]?this.size():arguments[0];if(0===e)return new Uint8Array(0);var t=u(this,e);return this._buffer.subarray(t,t+e)},readBinary:function(){var e=arguments.length<=0||void 0===arguments[0]?this.size():arguments[0];if(0===e)return new r;var t=u(this,e);return new r(this._buffer.subarray(t,t+e))},readString:function(e){for(var t=u(this,e),r=t+e,n=this._buffer,o=[],i=void 0,a=t,s=e;a<r;a++,s--){o.length>5e3&&(i||(i=[]),i.push(String.fromCharCode.apply(String,o)),o=[]);var d=0|n[a];if(0===(128&d))o.push(d);else if(s>=2&&192===(224&d)){var c=0|n[a+1];if(128===(192&c)){var l=(31&d)<<6|63&c;l>=128?(a++,s--,o.push(l)):o.push(m)}else o.push(m)}else if(s>=3&&224===(240&d)){var p=0|n[a+1],f=0|n[a+2];if(128===(192&p)&&128===(192&f)){var h=(15&d)<<12|(63&p)<<6|63&f;h>=2048&&!(55296<=h&&h<57344)?(a+=2,s-=2,o.push(h)):o.push(m)}else o.push(m)}else if(s>=4&&240===(248&d)){var _=0|n[a+1],g=0|n[a+2],v=0|n[a+3];if(128===(192&_)&&128===(192&g)&&128===(192&v)){var y=(7&d)<<18|(63&_)<<12|(63&g)<<6|63&v;if(y>=65536&&y<=1114111){a+=3,s-=3;var b=y-65536;o.push(55296|b>>10,56320|1023&b)}else o.push(m)}else o.push(m)}else o.push(m)}var w=String.fromCharCode.apply(String,o);return i?(i.push(w),i.join("")):w},write:function(){for(var e=0;e<arguments.length;e++){var t=arguments[e];"string"==typeof t?this.writeString(t):"number"==typeof t?this.writeUint8(t):t instanceof r?this.writeBinary(t):t instanceof ArrayBuffer?this.writeBuffer(t):t instanceof Uint8Array&&this.writeByteArray(t)}},writeUint8:function(e){d(e,0,256,"uint8");var t=l(this,1);this._buffer[t]=e},writeInt8:function(e){d(e,-128,128,"signed int8");var t=l(this,1);this._buffer[t]=e},writeUint16:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.littleEndian:arguments[1];d(e,0,65536,"uint16");var r=l(this,2);c(this).setUint16(r,e,t)},writeInt16:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.littleEndian:arguments[1];d(e,-32768,32768,"signed int16");var r=l(this,2);c(this).setInt16(r,e,t)},writeUint32:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.littleEndian:arguments[1];d(e,0,4294967296,"uint32");var r=l(this,4);c(this).setUint32(r,e,t)},writeInt32:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.littleEndian:arguments[1];d(e,-2147483648,2147483648,"signed int32");var r=l(this,4);c(this).setInt32(r,e,t)},writeUint64:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.littleEndian:arguments[1];d(e,-0x8000000000000000,0x8000000000000000,"signed int64"),f(e,t,this)},writeInt64:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.littleEndian:arguments[1];d(e,0,0x10000000000000000,"uint64"),f(e,t,this)},writeFloat32:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.littleEndian:arguments[1],r=l(this,4);c(this).setFloat32(r,e,t)},writeFloat64:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.littleEndian:arguments[1],r=l(this,8);c(this).setFloat64(r,e,t)},writeVarInt:function(e){d(e,-0x8000000000000000,0x8000000000000000,"varint (signed int64)");var t=e<0;t&&(e=-e);for(var r=e<128&&1||e<16384&&2||e<2097152&&3||e<268435456&&4||e<34359738368&&5||e<4398046511104&&6||e<562949953421312&&7||e<72057594037927940&&8||9,n=l(this,t?10:r),o=this._buffer,i=e,a=n,s=r;s>4;s--){var c=Math.floor(i/128),u=i-128*c;o[a++]=128|127&u,i=c}for(;s>1;s--)o[a++]=128|127&i,i>>=7;if(o[a++]=i,t){for(var p=n;p<a;p++)o[p]=128|127&~o[p];for(var f=a;f<n+9;f++)o[f]=255;o[n+9]=1;for(var h=255,m=n;m<n+9&&255===h;m++)h=o[m],o[m]=255===h?128:h+1}},writeBinary:function(e){var t=e._readIndex,r=e._readEndIndex;if(t!==r){var n=l(this,r-t);this._buffer.set(e._buffer.subarray(t,r),n)}},writeBuffer:function(e){this.writeByteArray(new Uint8Array(e))},writeByteArray:function(e){var t=l(this,e.length);this._buffer.set(e,t)},writeString:function(e){for(var t=l(this,i(e)),r=this._buffer,n=0;n<e.length;n++){var o=e.charCodeAt(n);if(o<128)r[t++]=o;else if(o<2048)r[t++]=192|o>>6,r[t++]=128|63&o;else if(o<55296||57344<=o)r[t++]=224|o>>12,r[t++]=128|o>>6&63,r[t++]=128|63&o;else{var a=65536+((1023&o)<<10|1023&e.charCodeAt(++n));r[t++]=240|a>>18,r[t++]=128|a>>12&63,r[t++]=128|a>>6&63,r[t++]=128|63&a}}},writeBytes:function(){for(var e=0;e<arguments.length;e++)d(arguments[e],0,256,"byte");for(var t=l(this,arguments.length),r=this._buffer,n=0;n<arguments.length;n++)r[t+n]=arguments[n]},writeWithVarIntLength:function(e,t){var r=this._writeIndex;this._hiddenWrites++,a(this,e,t),this._hiddenWrites--;var n=this._writeIndex;this.writeVarInt(n-r);for(var o=this._writeIndex-n,i=this._buffer,s=0;s<o;s++)_[s]=i[n+s];for(var d=n-1;d>=r;d--)i[d+o]=i[d];for(var c=0;c<o;c++)i[r+c]=_[c]}},r.onLongLong=function(e){throw new Error("ReadError: integer exceeded 52 bits ("+e+")")},r.build=o,r.newOfCapacity=n;var g="",v=0;r.numUtf8Bytes=i,e.exports=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r,n){function o(e){l.isFunction(t)?this.message=t.apply(this,arguments):arguments.length>0?this.message=""+e:t?this.message=t:this.message=this.name;var r=this.message!==this.name?this.name+": "+this.message:this.name,o=new Error(r).stack;if(!o)try{throw new Error(r)}catch(i){o=i.stack,o||(o="Error: "+r+"\n    at (unspecified)")}this.stack=o,l.isFunction(n)&&n.apply(this,l.tail(arguments))}return r=r||Error,o.prototype=(0,u["default"])(r.prototype),o.prototype.name=e,o}function i(e,t){return l.reduce(e,function(e,r,n){var i,a;return l.isString(n)?(i=n,a=r):i=r,e[i]=o(i,a,t),e},{})}function a(e){this.event=e;try{return(0,d["default"])(e)}catch(t){return""+e}}var s=r(18),d=n(s),c=r(87),u=n(c),l=r(30),p=o("WAPStatusCode"),f=o("401",null,p),h=o("404",null,p),m=o("500",null,p),_=o("WapDrop"),g=o("EphemeralDrop",null,_),v=o("LogoutDrop",null,_),y=o("Server5xxDrop",null,_),b=o("ConventionViolationDrop",null,_),w=o("BrowserReplacedDrop",null,_),E=o("ShouldLoop"),S=o("GaveUpRetry"),N=o("GUMError"),C=i({NotSupportedError:"The operation is not supported.",PermissionDeniedError:"The user did not grant permission for the operation",ConstraintNotSatisfiedError:"One of the mandatory Constraints could not be satisfied.",OverconstrainedError:"Due to changes in the environment, one or more mandatory constraints can no longer be satisfied.",NotFoundError:"The object can not be found here.",AbortError:"The operation was aborted.",SourceUnavailableError:"The source of the MediaStream could not be accessed due to a hardware error (e.g. lock from another process)."},N),T=o("MediaNeedsReupload"),k=o("MediaFileError"),$=o("InvalidMediaFileType",null,k),A=o("MediaFileTooLarge",function(e){return this.file=e,"File ("+e.type+") size = "+e.size},k),x=o("MediaEncryptionError",null,k),M=o("MediaFileFailedLoad",null,k),O=o("ImageError","Image failed to load.",null,function(e){this.src=e,this.target={src:e}}),I=o("ServerStatusError","Server replied with a fail status code",null,function(e,t){this.url=e,this.status=t}),R=o("ContactBlocked","Contact is blocked",null,function(e){this.contact=e}),P=o("CapabilityError"),L=o("CapabilityUnsupported",null,P,function(e){this.jidCapabilities=e}),D=o("CapabilityInvalid",null,P),B=o("CapabilityUnknown",null,P),U=o("MediaMissing","Media is no longer available on your phone"),j=o("MediaLoadError",null,null,function(e){this.src=e}),W=o("MediaDragDropError",null,j,function(e){this.src=e}),Y=o("SocketError",a),F=o("SocketClosed",a),G=o("SocketNotOpen",function(e){return"socket not open, is "+e}),q=o("BlockedByProxy");e.exports={define:o,defineAll:i,QueryDrop:o("QueryDrop"),WapDrop:_,EphemeralDrop:g,LogoutDrop:v,Server5xxDrop:y,ConventionViolationDrop:b,BrowserReplacedDrop:w,ShouldLoop:E,GaveUpRetry:S,MediaFileError:k,InvalidMediaFileType:$,MediaFileTooLarge:A,MediaEncryptionError:x,MediaFileFailedLoad:M,WAPStatusCode:p,E401:f,E404:h,E500:m,SocketError:Y,SocketClosed:F,SocketNotOpen:G,BlockedByProxy:q,ImageError:O,ServerStatusError:I,ContactBlocked:R,MediaNeedsReupload:T,MediaMissing:U,MediaLoadError:j,MediaDragDropError:W,CapabilityError:P,CapabilityUnsupported:L,CapabilityInvalid:D,CapabilityUnknown:B,CanNotSendUnencrypted:o("CanNotSendUnencrypted"),ActionError:o("ActionError","Could not perform action."),GUM:l.defaults(C,{GUMError:N,PERMISSION_DENIED:C.PermissionDeniedError,NOT_SUPPORTED_ERROR:C.ConstraintNotSatisfiedError,MANDATORY_UNSATISFIED_ERROR:C.NotFoundError}),Unmount:o("unmount"),ActiveChatChanged:o("ActiveChatChanged")}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(18),i=n(o),a=r(8),s=r(26),d=r(1),c=r(426),u=r(486),l=r(82),p=[a.KEY_LOGOUT_TOKEN,a.KEY_CLIENT_TOKEN,a.KEY_SERVER_TOKEN,a.KEY_SECRET_BUNDLE],f=[a.KEY_LOG_CURSOR,a.KEY_WHATSAPP_MUTEX,a.KEY_REMEMBER_ME,a.KEY_WHATSAPP_LS_VERSION],h=[a.KEY_WHATSAPP_MUTEX,a.KEY_REMEMBER_ME,a.KEY_OLD_LOGOUT_CREDS],m=[a.KEY_VERSION],g=1,v={v0:function(){var e=localStorage.getItem(a.KEY_SECRET_BUNDLE);e&&(e=JSON.parse(e),e=_.isObject(e)?(0,i["default"])(e):e,localStorage.setItem(a.KEY_SECRET_BUNDLE,e)),this._setLSVersion(1)}},y="x"+Math.round(1e9*Math.random()),b=function(e){if(e.key!==a.KEY_WHATSAPP_MUTEX)return!1;var t=e.newValue||"";return t.indexOf(y)===-1},w=function(e){if(e.key!==a.KEY_LOCAL_TAKEOVER_OK)return!1;var t=e.newValue||"";return t.indexOf(y)===-1},E={thisTabId:y,getRememberMe:function(){var e=this._getPS(a.KEY_REMEMBER_ME);return _.isNull(e)&&(e=!0,this._setPS(a.KEY_REMEMBER_ME,!0)),e},setRememberMe:function(e){if(e=!!e,e!==this.getRememberMe()){d.log("UserPrefs:setRememberMe: "+e)();var t,r;if(t=this._storage(),this._setPS(a.KEY_REMEMBER_ME,e),r=this._storage(),t!==r){var n=_.difference(_.keys(t),f,h);n.forEach(function(e){_.isFunction(t[e])||(r[e]=t[e],t.removeItem(e))})}e||d.clearLogs()}},_storage:function(){return this.getRememberMe()?s.permanentStorage:s.temporaryStorage},clear:function(){var e=this._getPreservedKeys();this._storage().clear(),this._setPreservedKeys(e)},_getKeys:function(e,t){return _.zipObject(t,t.map(function(t){return e.getItem(t)}))},_setKeys:function(e,t){_.each(t,function(t,r){e.setItem(r,t)})},_getPreservedKeys:function(){return this._getKeys(s.permanentStorage,h)},_setPreservedKeys:function(e){return this._setKeys(s.permanentStorage,e)},_getAllKeyValues:function(){var e=this._storage();return _.fromPairs(_.keys(e).map(function(t){return[t,e.getItem(t)]}))},_setAllKeyValues:function(e){var t=this._storage();_.keys(e).forEach(function(r){t.setItem(r,e[r])})},_getPS:function(e){return this._get(e,s.permanentStorage)},_setPS:function(e,t){return this._set(e,t,s.permanentStorage)},_getTS:function(e){return this._get(e,s.temporaryStorage)},_setTS:function(e,t){return this._set(e,t,s.temporaryStorage)},_get:function(e,t,n){if(_.isUndefined(e))throw new Error("_get called with no key");t=t||this._storage();var o=t.getItem(e);if(n||_.isUndefined(o))return o;try{return JSON.parse(o)}catch(i){d.log("userPrefs:_get("+e+") '"+i+"' "+o)();var a=r(22);return a.upload("userprefs-parse-error"),void t.removeItem(e)}},_set:function(e,t,r,n){if(_.isUndefined(e))throw new Error("_set called with no key");r=r||this._storage(),_.isUndefined(t)?r.removeItem(e):r.setItem(e,n?t:(0,i["default"])(t))},_getUser:function(e){if(!Store.Conn.me)return d.error("userPrefs: Me has not loaded yet.")(),null;var t=c([Store.Conn.me,e].join(":"));return this._get(t)},_setUser:function(e,t){if(!Store.Conn.me)return d.error("userPrefs: Me has not loaded yet.")(),null;var r=c([Store.Conn.me,e].join(":"));return this._set(r,t)},getLoginTokens:function(){return{client:this._get(a.KEY_CLIENT_TOKEN),server:this._get(a.KEY_SERVER_TOKEN)}},setLoginTokens:function(e){var t=e.client,r=e.server;t&&r&&!_.isUndefined(t)&&(d.log("UserPrefs:setLoginTokens")(),this._set(a.KEY_CLIENT_TOKEN,t),this._set(a.KEY_SERVER_TOKEN,r))},knowsPhone:function(){var e=this.getLoginTokens();return!(!e.client||!e.server)},setRefTok:function(e,t){E.clearCookies(),E.clearDeprecatedKeys(),l?(this.ref=e,this.tok=t):this.setRefTokCookies(e,t)},setRefTokCookies:function(e,t){u.setCookie({name:a.COOKIE_REF,value:e,path:a.PP_REF,domain:a.COOKIE_DOMAIN,secure:!0});var r={name:a.COOKIE_TOK,value:t,path:a.PP_TOK,domain:a.COOKIE_DOMAIN,secure:!0};u.setCookie(r)},clearCookies:function(){u.setCookie({name:a.COOKIE_REF,expirationDate:0,domain:a.COOKIE_DOMAIN,path:a.PP_REF}),u.setCookie({name:a.COOKIE_TOK,expirationDate:0,domain:a.COOKIE_DOMAIN,path:a.PP_TOK})},clearDeprecatedKeys:function(){m.forEach(function(e){s.permanentStorage.removeItem(e)})},getSecretBundle:function(){var e=this._get(a.KEY_SECRET_BUNDLE);return e?_.fromPairs(_.map(e,function(e,t){return[t,CryptoJS.enc.Base64.parse(e)]})):(d.error("UserPrefs:Attempted to load non-existent secret bundle!",e)(),null)},setSecretBundle:function(e){return this._set(a.KEY_SECRET_BUNDLE,_.fromPairs(_.map(e,function(e,t){return[t,CryptoJS.enc.Base64.stringify(e)]})))},clearTokens:function(){var e=this;p.forEach(function(t){e._set(t,void 0)})},getNUX:function(e){return this._getUser(e)},setNUX:function(e,t){return this._setUser(e,t)},getUnknownId:function(){var e=this._get(a.KEY_UNKNOWN_ID);return e||(e="unknown"+Math.floor(1e10*Math.random()),this.setUnknownId(e)),e},setUnknownId:function(e){return this._set(a.KEY_UNKNOWN_ID,e)},getBrowserId:function(){return this._get(a.KEY_BROWSER_ID)},setBrowserId:function(e){this._set(a.KEY_BROWSER_ID,e)},setLastEmojiTab:function(e){return this._setUser(a.KEY_LAST_ACTIVE_EMOJI_TAB,e)},getLastEmojiTab:function(){return this._getUser(a.KEY_LAST_ACTIVE_EMOJI_TAB)},getCollection:function(e){return this._getUser(e)},setCollection:function(e,t){return this._setUser(e,t)},getGlobalSounds:function(){return!this._getUser(a.KEY_GLOBAL_MUTE_SOUNDS)},setGlobalSounds:function(e){return this._setUser(a.KEY_GLOBAL_MUTE_SOUNDS,!e)},getGlobalNotifications:function(){return!this._getUser(a.KEY_GLOBAL_MUTE_NOTIFICATIONS)},setGlobalNotifications:function(e){return this._setUser(a.KEY_GLOBAL_MUTE_NOTIFICATIONS,!e)},getGlobalPreviews:function(){return!this._getUser(a.KEY_GLOBAL_MUTE_PREVIEWS)},setGlobalPreviews:function(e){return this._setUser(a.KEY_GLOBAL_MUTE_PREVIEWS,!e)},getGeocoderLocation:function(){return this._getUser(a.KEY_GEOCODER_LOCATION)},setGeocoderLocation:function(e){this._setUser(a.KEY_GEOCODER_LOCATION,e)},getMapsOverQuota:function(){return this._get(a.KEY_GMAPS_OVER_LIMIT)},setMapsOverQuota:function(e){return this._set(a.KEY_GMAPS_OVER_LIMIT,e)},getGroupParticipantAssignedColor:function(e){return this._getUser(a.KEY_GROUP_ASSIGNED_COLOR+"-"+e)},setGroupParticipantAssignedColor:function(e,t){this._setUser(a.KEY_GROUP_ASSIGNED_COLOR+"-"+e,t)},getMutex:function(){return this._getPS(a.KEY_WHATSAPP_MUTEX)},setMutex:function(e){var t=e?y+":"+e:e;return this._setPS(a.KEY_WHATSAPP_MUTEX,t)},removeMutex:function(){return this._setPS(a.KEY_WHATSAPP_MUTEX)},parseMutex:function(e){return e=e?JSON.parse(e):"",e?e.toString().split(/:/).pop():e},mutexFilter:b,localTakeoverSuccess:function(){var e=this.getRememberMe()?{}:_.omit(this._getAllKeyValues(),f);e.wa_tab_src=y,this._setPS(a.KEY_LOCAL_TAKEOVER_OK,e),this._setPS(a.KEY_LOCAL_TAKEOVER_OK)},parseTakeover:function(e){return e=e?JSON.parse(e):{},_.isObject(e)?(delete e.wa_tab_src,e):{}},takeoverFilter:w,getLangPref:function(){return this._get(a.KEY_LANG)},setLangPref:function(e){return this._set(a.KEY_LANG,e)},getLogoutToken:function(){return this._getPS(a.KEY_LOGOUT_TOKEN)},setLogoutToken:function(e){return this._setPS(a.KEY_LOGOUT_TOKEN,e)},getOldLogoutCreds:function(){return this._getPS(a.KEY_OLD_LOGOUT_CREDS)||[]},setOldLogoutCreds:function(e){return this._setPS(a.KEY_OLD_LOGOUT_CREDS,e)},setLogCursor:function(e){e%=a.LOG_SIZE,this._setPS(a.KEY_LOG_CURSOR,e)},_getLSVersion:function(){return this._getPS(a.KEY_WHATSAPP_LS_VERSION)||0},_setLSVersion:function(e){return this._setPS(a.KEY_WHATSAPP_LS_VERSION,e)},_version:function(){return g},compareVersion:function(){var e=this._getLSVersion();return g-e},_migrate:function(e){if(e>5)throw new Error("too many migrations");var t=this.compareVersion();if(0!==t){var r,n=this._getLSVersion();if(!(t>0))throw new Error("downgrades not supported");if(r=v["v"+n],!r)throw new Error("no migration for: "+n);d.log("userPrefs:migrate from: "+n+" towards: "+g)(),r.call(this),this._migrate(e+1)}},maybeMigrate:function(){if(!_.isEmpty(localStorage)||!_.isEmpty(sessionStorage)){var e=_.flatten([p,a.KEY_BROWSER_ID,a.KEY_LOG_CURSOR]),t=_.pick(localStorage,e);try{this._migrate(0)}catch(r){d.error("userPrefs:error migrating")(r),this.clear(),this._setAllKeyValues(t),this._setLSVersion(g)}}},clearAllLocalState:function(){var e=this._getPreservedKeys();localStorage.clear(),this._setPreservedKeys(e),sessionStorage.clear(),this.clearCookies(),d.clearLogs()},setNoTakeover:function(e){return this._setTS(a.KEY_NO_TAKEOVER,e)},getNoTakeover:function(){return this._getTS(a.KEY_NO_TAKEOVER)},getWamBuffer:function(){return this._get(a.KEY_WAM_BUFFER,void 0,!0)},setWamBuffer:function(e){this._set(a.KEY_WAM_BUFFER,e,void 0,!0)},getWamInfo:function(){return this._get(a.KEY_WAM_INFO)},setWamInfo:function(e){return this._set(a.KEY_WAM_INFO,e)},getWamOldBuffer:function(){return this._get(a.KEY_WAM_OLD_BUFFER)},setWamOldBuffer:function(e){this._set(a.KEY_WAM_OLD_BUFFER,e)},clearWamBuffer_old:function(){this._set("WaWamBuffer",void 0)},clearWamStatus_old:function(){this._set("WAWamStatus",void 0)},clearWamLastRotate_old:function(){this._set("WAWamLastRotate",void 0)},clearWamDimensionCache_old:function(){this._set("WAWamDimensionCache",void 0)}};e.exports=E},function(e,t,r){var n=r(151)("wks"),o=r(109),i=r(23).Symbol,a="function"==typeof i,s=e.exports=function(e){return n[e]||(n[e]=a&&i[e]||(a?i:o)("Symbol."+e))};s.store=n},,,,,function(e,t,r){"use strict";function n(e,t){return _.isString(t)?t.split("@")[1]===e:("undefined"!=typeof t&&i.log("wid:isXWid called on nonstring: "+t)(),!1)}function o(e){if(_.isString(e))return e.split("@")[0]}var i=r(1),a=r(432),s=r(8),d=["c.us","g.us","broadcast"],c=_.memoize(function(e){return"Server"===e?e:a.format(e)});e.exports={userToLegacy:function(e){if(_.isString(e)){var t=e.split("@");if(2===t.length&&"c.us"===t[1])return t[0]+"@s.whatsapp.net"}return e},isUser:function(e){return n("c.us",e)},isBroadcast:function(e){return n("broadcast",e)},isGroup:function(e){return n("g.us",e)},isWid:function(e){return!!_.isString(e)&&_.includes(d,e.split("@")[1])},isServer:function(e){return _.isString(e)&&e.toLowerCase()===s.SERVER_WID},isPSA:function(e){return _.isString(e)&&e.toLowerCase()===s.PSA_WID},user:o,formattedUser:function(e){if(e){var t=o(e);if(t)return l10n.numAndPunc(c(t))}return""}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=r(36),t=e.info();if(t){var n,o="WhatsApp/"+f.VERSION_STR;n="Web/"+t.ua;var i="Device/"+t.os;return o+" "+n+" "+i}}function i(e,t,r,n){function a(){b=setTimeout(function(){var e=w;b=0,w=void 0,"undefined"!=typeof e&&i(e?"delayed-"+e:"delayed")},f.LOG_UPLOAD_INTERVAL)}h.logSocketSummary(),l.log("==================================================")(),l.log("wa:uploadLogs ref: "+(Store.Conn.ref||"no conn"))(),l.log("wa:uploadLogs hash: "+f.LATEST_HASH)(),l.log("wa:uploadLogs version: "+f.VERSION_STR)(),l.log("wa:uploadLogs userAgent: "+navigator.userAgent)(),l.log("wa:uploadLogs platform: "+(Store.Conn.platform||"no platform"))(),l.log("wa:uploadLogs url: "+location.href)();var s;"undefined"==typeof e?(l.log("reason for logs: manual-upload")(),s=!0):e&&l.log("reason for logs: "+e)(),l.log("==================================================")();var d=Store.Conn.me,c=d?y.user(d):g.getUnknownId(),m=o();if(!s&&!r){if(!(Math.random()<f.UPLOAD_TO_CLB))return l.log("wa:uploadLogs squelched logs")(),u["default"].resolve("deferred");if(b)return l.log("wa:uploadLogs delayed logs")(),"undefined"==typeof w&&(w=e),u["default"].resolve("deferred")}var v=(t?u["default"].resolve(l.getLogs()):u["default"].delay(500).then(l.getLogs.bind(l))).bind(this).then(function(e){e=e.join("\n");var t=new FormData,r=new Blob([e],{type:"text/plain"});t.append("from",c),t.append("agent",m),t.append("file",r,"logs.txt");var o=f.CLB_URL+"?type="+(n?"support":"crashlog");return p.post(o,t).then(function(e){return e.getResponseHeader("X-Uploaded-File-Id")})["catch"](_.noop)});return r||a(),v}function a(e,t,r,n){return l.log("CLB:uploadUserReport uploading")(),l.logVerbose("CLB:uploadUserReport description: "+n)(),i("user-report",!0,!0,!0).then(function(o){var i=g.getLoginTokens().server,a=new FormData;i&&a.append("tok",i),null!==e&&a.append("user",e),a.append("email",t),o&&a.append("crashlog",o),a.append("desc",n),v.initialize();var s=_.assign({subject:r},m.Global.all,{webcWebPlatform:"web",webcPhonePlatform:Store.Conn.platform}),c={};for(var u in s){var h=s[u];null!==h&&void 0!==h&&(c[u]=h)}return a.append("info",(0,d["default"])(c)),l.log("CLB:uploadUserReport submitting")(),p.post(f.TICKET_URL,a)}).then(function(){l.log("CLB:uploadUserReport succeeded")()})["catch"](function(e){l.log("CLB:uploadUserReport failed "+e)()})}var s=r(18),d=n(s),c=r(2),u=n(c),l=r(1),p=r(135),f=r(8),h=r(10),m=r(56),g=r(15),v=r(143),y=r(21),b=0,w=void 0;e.exports={upload:i,uploadUserReport:a}},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},,function(e,t,r){var n=r(23),o=r(9),i=r(66),a=r(57),s="prototype",d=function(e,t,r){var c,u,l,p=e&d.F,f=e&d.G,h=e&d.S,m=e&d.P,_=e&d.B,g=e&d.W,v=f?o:o[t]||(o[t]={}),y=v[s],b=f?n:h?n[t]:(n[t]||{})[s];f&&(r=t);for(c in r)u=!p&&b&&void 0!==b[c],u&&c in v||(l=u?b[c]:r[c],v[c]=f&&"function"!=typeof b[c]?r[c]:_&&u?i(l,n):g&&b[c]==l?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r);
}return new e(t,r,n)}return e.apply(this,arguments)};return t[s]=e[s],t}(l):m&&"function"==typeof l?i(Function.call,l):l,m&&((v.virtual||(v.virtual={}))[c]=l,e&d.R&&y&&!y[c]&&a(y,c,l)))};d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,e.exports=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(){this.initializeStorage(),this._dbName="wawc",this._db=new d(this._dbName),this._db.version(1).stores({logs:"line,log"}),this._db.version(2).stores({logs:"line,log",assets:"key,hash,data"}),this._db.version(3).stores({logs:"line,log",assets:"key,hash,data",wam:",buffer,prevValues,lastSend"}),this._db.version(4).stores({logs:"line,log",assets:"key,hash,data",wam:",key,buffer",l10n:"key,hash,t"}).upgrade(function(e){e.wam.toCollection().modify(function(e){e.key=e.lastSend,delete e.prevValues,delete e.lastSend})}),this.openAttempt=0,this.openDB(),this._dbState=f.OPENING,this.deleteLegacyDBs()}var i=r(2),a=n(i),s=r(8),d=r(564),c=r(1),u=r(54),l=r(56),p="WA",f={ERROR:"error",OPENING:"opening",BLOCKED:"blocked",OPEN:"open",CLOSED:"closed"};o.prototype.initializeStorage=function(){var e=window.localStorage,t=window.sessionStorage,r={setItem:function(e,t){this[e]=t},getItem:function(e,t){return this[e]},removeItem:function(e){delete this[e]},clear:function(){for(var e in this)this.hasOwnProperty(e)&&"function"!=typeof e&&delete this[e]}};this.permanentStorage=this._hasLocalStorage()?e:r,this.temporaryStorage=this._hasSessionStorage()?t:r},o.prototype._hasLocalStorage=function(){try{return localStorage.setItem(s.KEY_STORAGE_TEST,s.KEY_STORAGE_TEST),!0}catch(e){return!1}},o.prototype._hasSessionStorage=function(){try{return sessionStorage.setItem(s.KEY_STORAGE_TEST,s.KEY_STORAGE_TEST),!0}catch(e){return!1}},o.prototype.openDB=function(){var e=new l.WebcIdbOpen;this._openDB().then(function(){e.markWebcIdbOpenT(),e.webcIdbOpenSuccess=!0,e.commit()})["catch"](function(){e.markWebcIdbOpenT(),e.webcIdbOpenSuccess=!1,e.commit()})},o.prototype._openDB=function(){var e=this;this._db.isOpen()&&this._db.close();var t=a["default"].resolve(this._db.open()).bind(this).timeout(1e4).then(function(){return c.info("db: Successfully opened db")(),e._dbState=f.OPEN,f.OPEN})["catch"](a["default"].TimeoutError,function(t){return c.info("db:openDB blocked"),e._dbState=f.BLOCKED,f.BLOCKED})["catch"](function(t){return c.error("db:openDB:Error "+t)(),e.openAttempt>1||u.isSafari?(e.opening=void 0,e._dbState=f.ERROR,a["default"].reject(f.ERROR)):(e.openAttempt+=1,e._db["delete"]().then(function(){return e.openDB()}))}).then(function(t){return e.opening=void 0,t===f.BLOCKED?a["default"].reject(f.BLOCKED):e._db});return this.opening||(this.opening=t),t},o.prototype.idb=function(){return this._db.isOpen()?a["default"].resolve(this._db):this._db.hasFailed()?a["default"].reject(f.FAILED):this._dbState===f.BLOCKED?a["default"].reject(f.BLOCKED):this.opening?this.opening:a["default"].reject(f.CLOSED)},o.prototype.deleteLegacyDBs=function(){return d.getDatabaseNames().then(function(e){e.forEach(function(e){e===p&&(localStorage.setItem(s.KEY_LOG_CURSOR,0),d["delete"](e))})})},o.prototype.State=f;var h=new o;c.exportToWindow("DB",h),c.exportToWindow("Dexie",d),e.exports=h},,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(){function e(e){var s=h["default"].resolve([a++,e]).cancellable().spread(o).then(function(){return r.apply(void 0,arguments)});t=s["catch"].apply(s,i)["catch"](function(){return n.apply(void 0,arguments)})}var t,r,n,o=_.last(arguments),i=_.initial(arguments),a=0;return i.push(e),h["default"].resolve().then(function(){return new h["default"](function(t,o){r=t,n=o,e()}).cancellable()["catch"](function(e){if(t&&t.isPending())return new h["default"](function(o,i){r=o,n=i,t.cancel(e)});throw e})})}function i(e){var t=arguments.length<=1||void 0===arguments[1]?"GET":arguments[1],r=arguments[2],n=arguments[3],o=new XMLHttpRequest;return new h["default"](function(i){function a(){i(o.status&&o.status<12e3?o:null)}n&&(o.responseType=n),o.onload=a,o.onreadystatechange=function(){4===o.readyState?a():0===o.readyState&&i(null)},o.onerror=function(){return i(null)},o.ontimeout=function(){return i(null)},o.open(t,e,!0),r?o.send(r):o.send()}).addRawControl("cancel",function(e,t){o.abort(),t(new h["default"].CancellationError("Aborted XHR"))},!0).endWithControls("cancel")}function a(e,t){return t["catch"](h["default"].CancellationError,_.noop)["catch"](function(t){e.cancel(t)}),t}function s(){return c(window,"offline")}function d(){var e,t;return new h["default"](function(r){function n(){t&&t+1e4<Date.now()?r(!0):(t=Date.now(),e=_.delay(n,1e3))}n()}).cancellable()["finally"](function(){clearTimeout(e)})}function c(e,t,r){var n;return new h["default"](function(o){n=r?function(){r.apply(this,arguments)&&o.apply(this,arguments)}:o,e.addEventListener(t,n)}).cancellable()["finally"](function(){e.removeEventListener(t,n)})}function u(e,t,r){var n;return new h["default"](function(o){n=r?function(){r.apply(this,arguments)&&o(arguments)}:function(){o(arguments)},e.on(t,n)}).cancellable()["finally"](function(){e.off(t,n)})}function l(){return v.isMainLoaded?h["default"].resolve():u(v,"main_loaded")}function p(){return new h["default"](function(e,t){function r(){e(!1)}if(window.requestFileSystem)window.requestFileSystem(window.TEMPORARY,1,r,function(t){e("SecurityError"===t.name)});else if(window.indexedDB){var n=window.indexedDB.open("pb_detect");n?(n.onsuccess=r,n.onerror=function(t){t.preventDefault(),e(window.InvalidStateError?t instanceof window.InvalidStateError:!0)}):r()}else y.isTrident?e(!0):r()}).then(function(e){if(e)return e;try{return window.localStorage.setItem("INCOG",0),window.localStorage.removeItem("INCOG"),!1}catch(t){return"QuotaExceededError"===t.name||h["default"].reject(t)}}).timeout(100,"detectIncognitoTimeout")["catch"](h["default"].TimeoutError,function(){return!1})["catch"](function(e){return m.error("promiseUtil:determineIncognito failed check: "+e)(e),g.upload("incog-throw"),!1})}var f=r(2),h=n(f),m=r(1),g=r(22),v=r(10),y=r(54);e.exports={loopOnError:o,attachWatcher:a,getResponseIfOnline:i,waitForOfflineNaive:s,waitForEvent:c,waitForBBEvent:u,determineIncognito:p,waitForSkip:d,waitForMain:l}},,function(e,t){"use strict";function r(e){if((Array.isArray(e)||e instanceof ArrayBuffer)&&(e=new Uint8Array(e)),e.length<=a)return n(e);for(var t=[],r=0;r<e.length;r+=a)t.push(n(e.subarray(r,r+a)));return t.join("")}function n(e){for(var t=Math.ceil(4*e.length/3),r=4*Math.ceil(e.length/3),n=new Array(r),o=0,i=0;o<r;o+=4,i+=3){var a=e[i]<<16|e[i+1]<<8|e[i+2];n[o]=a>>18,n[o+1]=a>>12&63,n[o+2]=a>>6&63,n[o+3]=63&a}for(var s=0;s<t;s++){var d=n[s];d<26?n[s]=65+d:d<52?n[s]=71+d:d<62?n[s]=d-4:62===d?n[s]=43:n[s]=47}for(var c=t;c<r;c++)n[c]=61;return String.fromCharCode.apply(String,n)}function o(e){for(var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],r=e.length,n=new Int32Array(r+r%4),o=0;o<r;o++){var i=e.charCodeAt(o);if(65<=i&&i<=90)n[o]=i-65;else if(97<=i&&i<=122)n[o]=i-71;else if(48<=i&&i<=57)n[o]=i+4;else if(43===i)n[o]=62;else{if(47!==i){if(61===i){r=o;break}return null}n[o]=63}}for(var a=n.length/4,s=0,d=0;s<a;s++,d+=4)n[s]=n[d]<<18|n[d+1]<<12|n[d+2]<<6|n[d+3];for(var c=Math.floor(3*r/4),u=new Uint8Array(c),l=0,p=0;p+3<=c;l++,p+=3){var f=n[l];u[p]=f>>16,u[p+1]=f>>8&255,u[p+2]=255&f}switch(c-p){case 2:u[p]=n[l]>>16,u[p+1]=n[l]>>8&255;break;case 1:u[p]=n[l]>>16}return t?Array.prototype.slice.call(u):u.buffer}function i(e){return e.replace(/\+/g,"-").replace(/\//g,"_")}var a=3e3;e.exports={encode:r,decode:o,urlSafe:i}},,,,function(e,t,r){var n=r(37),o=r(238),i=r(154),a=Object.defineProperty;t.f=r(47)?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return a(e,t,r)}catch(s){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){"use strict";var n=r(54),o=!1,i=_.debounce(function(){return o=!1},500);e.exports={id:function a(){var e=r(15),a=e.getBrowserId();if(a)return a;var t=new Uint32Array(4);window.crypto.getRandomValues(t);var n=CryptoJS.lib.WordArray.create(t);return a=CryptoJS.enc.Base64.stringify(n),e.setBrowserId(a),a},info:function(){var e=n.parser.getResult();return{os:e.os.name+(e.os.version?" "+e.os.version:""),name:e.browser.name,ua:e.browser.name+" "+e.browser.version}},hardRefresh:function(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1];if(this.promptUnloadGuards++,e){var n=r(15);n.setNoTakeover(!0)}location.reload(t)},startDownloading:function(){o=!0,i()},clearDownloading:function(){o=!1},isDownloading:function(){return o},promptUnloadGuards:0}},function(e,t,r){var n=r(67);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){var n=r(213),o=r(140);e.exports=function(e){return n(o(e))}},,,,,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return CryptoJS.lib.WordArray.create(new Uint8Array(e))}function i(e){return function(){var t=a[e];return t?t.apply(a,arguments):d["default"].reject("wap:"+e+":unsupported")}}var a,s=r(2),d=n(s),c=r(1),u=r(86),l=r(12),p=r(31),f=r(224),h=r(223),m=r(21),_=r(226),g=r(227),v=r(228),y=r(229),b=r(230),w=r(231),E=r(232),S=r(491),N=i("presenceSubscribe"),C=i("sendPresenceUpdate"),T=i("sendChatstateUpdate"),k={setVersion:function(e,t){var r=e[0],n=e[1];switch(c.log("wap:setVersion "+[r,n,t].join("."))(),r){case 0:switch(n){case 2:_.setSubProtocol(1),a=_;break;case 3:_.setSubProtocol(n),a=_;break;case 4:g.setSubProtocol(n),a=g;break;case 5:case 6:v.setSubProtocol(n),a=v;break;case 7:y.setSubProtocol(t),a=y;break;case 8:b.setSubProtocol(t),a=b;break;case 9:w.setSubProtocol(t),a=w;break;case 10:a&&a!==E&&l.sendQueue.length>0&&(c.error("wap:setVersion upgrading from v<10 to v10")(),l.updateImmediately("wap_upgrade_to_v10")),E.setSubProtocol(t),a=E;break;case 11:S.setSubProtocol(t),a=S;break;default:a=void 0}}a||(c.error("wap:setVersion unknown version. attempting to update")(),l.updateImmediately("wap_unknown_version"))},"delete":function(){return a?a["delete"].apply(a,arguments):void 0},error2412:function(){return a.error2412.apply(a,arguments)},setSharedSecret:function(e){c.log("Wap:saveSharedSecret start")();var t=p.decode(e,!0),r=t.slice(0,32),n=p.encode(t.slice(32,64)),i=t.slice(64),a=o(r.concat(i)),s=u.get().keyPair.privKey,d=h.sharedSecret(r,s),l=f.extractAndExpand(d,void 0,"",80,!0),m=o(l.slice(0,32)),_=o(l.slice(32,64)),g=o(l.slice(64,80)),v=CryptoJS.HmacSHA256(a,_),y=v.toString(CryptoJS.enc.Base64);if(n!==y)return void c.error("Wap:saveSharedSecret hmac mismatch "+n+" "+y)();var b=CryptoJS.AES.decrypt({ciphertext:o(i),salt:void 0},m,{iv:g,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7}),w=p.decode(b.toString(CryptoJS.enc.Base64),!0),E=o(w.slice(0,32)),S=o(w.slice(32,64));u.setSecretKeys("0.1",E,S),c.log("Wap:saveSharedSecret done")()},handle:function(){return a.handle.apply(a,arguments)},queryServerProps:function(){return l.sendEphemeral2({data:["query","props"],retryOn5xx:!1})},resyncPictures:function(e){var t=e.filter(function(e){return m.isWid(e.id)});return 0===t.length?d["default"].resolve([]):l.sendEphemeral2({data:["query","resumePic",t],retryOn5xx:!0})},setRememberMe:function(e){return l.sendBasic({data:["admin","remember",!!e]})},getPlaintextMediaInfo:function(e){var t=e.map(function(e){return[e.clientUrl,e.from.split("@")[0],e.to.split("@")[0],e.t]});return l.send2({data:["query","refreshMedia",t],retryOn5xx:!0})},requestMediaUpload:function(e,t,r){return l.send2({data:["action","upload",e,t,r.toString()],retryOn5xx:!0}).then(function(e){switch(e.status){case 200:return{result:"ok",data:e.url,size:r};case 299:return{result:"duplicate",data:e.params,size:r};default:return d["default"].reject({size:r})}})},requestEncryptedMediaUpload:function(e,t){return l.send2({data:["action","encr_upload",e,t],retryOn5xx:!0}).then(function(e){switch(e.status){case 200:return{result:"ok",data:e.url};default:throw new Error("requestEncryptedMediaUpload:fail "+e+" "+e.status)}})},acceptGroupInvite:function(e){return l.send2({data:["action","invite",e],retryOn5xx:!0})},revokeGroupInvite:function(e){return l.send2({data:["action","inviteReset",e],retryOn5xx:!0})},contactFindBroadcast:function(e){return l.send2({data:["query","contact",e],retryOn5xx:!0})},commonGroupsFind:function(e){return m.isServer(e)?d["default"].resolve({status:200,groups:[]}):l.send2({data:["query","group","common",e]})},getCapabilities:function(e){return l.send2({data:["query","caps",e.filter(m.isUser)],retryOn5xx:!0})},addContact:i("addContact"),groupMetadataFind:function(e){return l.send2({data:["query","GroupMetadata",e],retryOn5xx:!0})},groupMetadataFindFromPhone:i("groupMetadataFindFromPhone"),groupInviteInfo:function(e){return l.send2({data:["query","invite",e],retryOn5xx:!0})},groupInviteCode:function(e){return l.send2({data:["query","inviteCode",e],retryOn5xx:!0})},lastseenFind:function(e){return m.isServer(e)?d["default"].resolve({}):l.sendEphemeral2({data:["query","Presence","lastseen",e],retryOn5xx:!0})},profilePicFind:function(e){return m.isServer(e)?d["default"].resolve({}):l.sendEphemeral2({data:["query","ProfilePicThumb",e],retryOn5xx:!0})},profilePicFindThumbFromPhone:function(e,t){return a.profilePicFindThumbFromPhone.apply(a,arguments)},statusFind:function(e){return m.isServer(e)?d["default"].resolve({status:""}):l.sendEphemeral2({data:["query","Status",e],retryOn5xx:!0})},sendPing:function(e){return l.send2({data:["admin","test"],retryOn5xx:!0})},requestDeviceUploadLogs:i("requestDeviceUploadLogs"),resyncMessages:i("resyncMessages"),resyncReceipts:i("resyncReceipts"),queryReceivedActions:i("queryReceivedActions"),addParticipant:i("addParticipant"),changeSubject:i("changeSubject"),createGroup:i("createGroup"),leaveGroup:i("leaveGroup"),removeParticipant:i("removeParticipant"),promoteParticipant:i("promoteParticipant"),requestMediaReupload:i("requestMediaReupload"),sendMedia:i("sendMedia"),sendConversationSeen:i("sendConversationSeen"),sendConversationUnseen:i("sendConversationUnseen"),sendConversationClear:i("sendConversationClear"),sendConversationDelete:i("sendConversationDelete"),sendConversationArchive:i("sendConversationArchive"),sendConversationMute:i("sendConversationMute"),sendConversationNotSpam:i("sendConversationNotSpam"),sendMessagePlayed:i("sendMessagePlayed"),sendMessageDelete:i("sendMessageDelete"),sendMessageStarred:i("sendMessageStarred"),sendUnstarAll:i("sendUnstarAll"),sendPresenceAvailable:function(){return C("available")},sendPresenceUnavailable:function(){return C("unavailable")},sendChatstateComposing:function(e){return T("composing",e)},sendChatstatePaused:function(e){return T("paused",e)},sendChatstateRecording:function(e){return T("recording",e)},sendSetPicture:i("sendSetPicture"),deletePicture:i("deletePicture"),sendSetStatus:i("sendSetStatus"),setPushname:i("setPushname"),sendSetBlock:i("sendSetBlock"),sendSpamReport:i("sendSpamReport"),chatFindQuery:i("chatFindQuery"),contactFindQuery:i("contactFindQuery"),queryIdentity:i("queryIdentity"),msgCreateRecord:i("msgCreateRecord"),msgFindQuery:i("msgFindQuery"),queryLinkPreview:i("queryLinkPreview"),queryVCard:i("queryVCard"),queryMsgInfo:i("queryMsgInfo"),presenceSubscribe:function(e){return m.isServer(e)||m.isPSA(e)?d["default"].resolve({status:200}):N.apply(this,arguments)},recentEmojiQuery:i("recentEmojiQuery"),logoutToken:function(){var e=u.get().encKey.toString(CryptoJS.enc.Base64),t=u.get().macKey.toString(CryptoJS.enc.Base64),r=CryptoJS.enc.Base64.parse(e),n=CryptoJS.enc.Base64.parse(t);return CryptoJS.HmacSHA256(r,n).toString(CryptoJS.enc.Base64)},clearBPQueue:i("clearBPQueue")};e.exports=k},function(e,t,r){e.exports={"default":r(511),__esModule:!0}},function(e,t,r){e.exports=!r(69)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},,,,,,function(e,t,r){e.exports={"default":r(510),__esModule:!0}},function(e,t,r){"use strict";function n(e,t){var r,n,o,i=/(\.0)+[^\.]*$/;for(e=(e+"").replace(i,"").split("."),t=(t+"").replace(i,"").split("."),o=Math.min(e.length,t.length),r=0;r<o;r++)if(n=parseInt(e[r],10)-parseInt(t[r],10),0!==n)return n;return e.length-t.length}function o(e,t){return n(e,t)>=0}var i,a=r(794),s=window.navigator.userAgent;i=new a,i.setUA(s);var d=(i.getBrowser().name||"").toUpperCase(),c=i.getBrowser().version||"0.0.0",u=(i.getEngine().name||"").toUpperCase(),l=(i.getOS().name||"").toUpperCase(),p=i.getOS().version||"0.0.0",f=!u||"WEBKIT"===u,h="SAFARI"===d,m="CHROME"===d,_="TRIDENT"===u||"EDGEHTML"===u,g="GECKO"===u,v=!1;switch(l){case"MAC OS":m?v=o(p,"10.10")&&o(c,"41.0.0"):o(p,"10.7")&&(v=!0);break;case"WINDOWS":o(p,"8.1")&&(g?v=!0:m&&o(c,"41.0.0")&&(v=!0))}e.exports={isWebkit:f,isGecko:g,isTrident:_,isSafari:h,hasEmoji:v,troublesWithLotsOfVideos:m&&"MAC OS"===l,os:l.toLowerCase(),browser:d.toLowerCase(),parser:i}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(!e)throw new Error("MsgKey error: obj is null/undefined");e.id instanceof o&&(e=e.id,s.error("MsgKey error: id is already a MsgKey")());var t=_.isString(e.from)&&_.isString(e.to)&&_.isString(e.id),r=_.isBoolean(e.fromMe)&&_.isString(e.remote)&&_.isString(e.id),n=void 0,i=void 0,u=void 0,l=void 0,p=void 0,f=void 0,h=void 0;if(!Store.Conn.me)throw new Error("MsgKey error: Store.Conn.me is undefined");if(t&&r)throw new Error("MsgKey error: unclear which constructor to use: "+(0,a["default"])(e));if(!t&&!r)throw new Error("MsgKey error: don't have a matching constructor "+(0,a["default"])(e));if(t){var m=e;n=m.from,i=m.to,u=m.id,l=m.participant,p=m.selfDir,p=n===i?p:void 0,n===i&&n===Store.Conn.me?(f="out"===p,h=Store.Conn.me):n===Store.Conn.me?(f=!0,h=i):i===Store.Conn.me?(f=!1,h=n):n===i&&(d.isGroup(n)||d.isBroadcast(n))?(f=!0,h=n):s.error("MsgKey case error: "+[n,i,u,Store.Conn.me].join())(),this.fromMe=f,this.remote=h,this.id=u}else if(r){var g=e;f=g.fromMe,h=g.remote,u=g.id,l=g.participant,Store.Conn.me===h&&(p=f?"out":"in"),this.fromMe=f,this.remote=h,this.id=u}var v=[this.fromMe,this.remote,this.id];"undefined"!=typeof p&&(this.self=p,v.push(this.self)),c.gte([0,5])&&c.supportsFeature(c.F.KEY_PARTICIPANT)&&"undefined"!=typeof l&&(this.participant=l,v.push(this.participant)),this._serialized=v.join("_")}var i=r(18),a=n(i),s=r(1),d=r(21),c=r(101);o.fromString=function(e){if(_.isString(e)){var t=e.split("_");return t.length<3&&s.error("MsgKey error: cannot create MsgKey from "+e)(),new o({fromMe:"true"===t[0],remote:t[1],id:t[2],participant:t[4]})}},o.prototype={toString:function(){return this._serialized},clone:function(){return new o({fromMe:this.fromMe,remote:this.remote,id:this.id,participant:this.participant})},equals:function(e){return e instanceof o&&this.toString()===e.toString()}},e.exports=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return"number"==typeof e&&e===Math.floor(e)}function i(e,t,r){var n=this;this.name=e,this.id=t,this.type=r,_.isObject(r)?!function(){var e=_.invert(r);n.validator=function(t){return t in e}}():r===b||r===S?this.validator=o:this.validator=r}function a(e,t,r){return N[e]?N[e]:N[e]=new i(e,t,r)}function s(e,t,r){var n={id:t},o={};for(var i in r){var s=r[i];s[1]===S&&(n["mark"+_.upperFirst(i)]=u(i));var d=a(i,s[0],s[1]);o[i]=d.validator}var c=g.define(e,o,l);_.extend(c.prototype,n),C[e]=c}function d(e){for(var t in e){var r=e[t];s(t,r[0],r[1])}}function c(e){var t={},r=function(r){var n=e[r],o=a(r,n[0],n[1]);t[r]={type:o.validator,allowNull:!0,set:function(e){this.commitOnSet&&v.set(o,e)}}};for(var n in e)r(n);var o=g.define("Global",t,p);f=new o}function u(e){return function(){this[e]=Date.now()-this.eventTime}}function l(){this.eventTime=Date.now(),this.commitTime=void 0}function p(){this.commitOnSet=!0}var f,h=r(87),m=n(h),g=r(493),v=r(143),y="boolean",b="integer",w="number",E="string",S="timer",N={},C={};l.prototype=_.extend((0,m["default"])(g.prototype),{commit:function(){v.commit(this)},setTime:function(e){this.eventTime=e||Date.now()}});var T={IPHONE:1,ANDROID:2,BB:3,BBX:7,S40:4,SYMBIAN:5,WP:6,WEBCLIENT:8,OSMETA:11,TEST:9,UNKNOWN:10},k={UNCACHED:0,IDLE:1,CHECKING:2,DOWNLOADING:3,UPDATEREADY:4,OBSOLETE:5},$={WEBCRYPTO:0,CRYPTOJS:1},A={ENCRYPT:0,DECRYPT:1},x={PROD:0,INTERN:1,DEV:2},M={NAVIGATE_NEXT:0,RELOAD:1,BACK_FORWARD:2,UNDEFINED:255},O={OFFLINE:0,OPENING:1,PAIRING:2,SYNCING:3,RESUMING:4,CONNECTING:5,NORMAL:6,TIMEOUT:7},I={QR:0,MAIN:1,SYNCING:2,OFFLINE:3,CONFLICT:4,PROXYBLOCK:5},R={WEB:1,WIN32:2,DARWIN:3};p.prototype=(0,m["default"])(g.prototype),c({appIsBetaRelease:[21,y],appVersion:[17,E],browser:[779,E],browserVersion:[295,E],deviceName:[13,E],mcc:[5,b],mnc:[3,b],platform:[11,T],webcBucket:[875,E],webcEnv:[633,x],webcNativeAutolaunch:[1009,y],webcNativeBetaUpdates:[1007,y],webcPhoneAppVersion:[1005,E],webcPhoneCharging:[783,y],webcPhoneDeviceManufacturer:[829,E],webcPhoneDeviceModel:[831,E],webcPhoneOsBuildNumber:[833,E],webcPhoneOsVersion:[835,E],webcPhonePlatform:[707,T],webcWebPlatform:[899,R]}),d({WebcAvailableChange:[772,{webcAvailable:[645,y],webcAvailableDuration:[776,S]}],WebcChatOpen:[864,{webcUnreadCount:[866,w],webcChatOpenT:[868,S]}],WebcCryptoMedia:[1028,{webcCryptoType:[1061,A],webcCryptoLibrary:[1063,$],webcCryptoFileSize:[1030,w],webcCryptoElapsedT:[1032,S]}],WebcCryptoSupport:[1026,{webcHmacSha256Supported:[1051,y],webcAesCbcSupported:[1053,y],webcEcdhSupported:[1055,y]}],WebcIdbOpen:[874,{webcIdbOpenT:[876,S],webcIdbOpenSuccess:[781,y]}],WebcManualWebsocketAttempt:[896,{webcManualWebsocketAttemptSuccessful:[811,y]}],WebcMediaAnalyzed:[912,{webcMediaSupported:[863,y],webcMediaExtensions:[865,E],webcMediaAnalyzeT:[914,S]}],WebcNotificationSet:[830,{webcNotificationOn:[709,y]}],WebcPageLoad:[642,{webcUnloadEventStart:[648,S],webcUnloadEventEnd:[650,S],webcRedirectStart:[652,S],webcRedirectEnd:[654,S],webcFetchStart:[656,S],webcDomainLookupStart:[658,S],webcDomainLookupEnd:[660,S],webcConnectStart:[662,S],webcConnectEnd:[664,S],webcSecureConnectionStart:[666,S],webcRequestStart:[668,S],webcResponseStart:[670,S],webcResponseEnd:[672,S],webcDomLoading:[674,S],webcDomInteractive:[676,S],webcDomContentLoadedEventStart:[678,S],webcDomContentLoadedEventEnd:[680,S],webcDomComplete:[682,S],webcLoadEventStart:[684,S],webcLoadEventEnd:[686,S],webcExeStart:[760,S],webcExeDone:[756,S],webcWsOpening:[704,S],webcWsPairing:[706,S],webcWsSyncing:[708,S],webcWsNormal:[710,S],webcWsAttempts:[712,w],webcAppcacheStatus:[629,k],webcCached:[565,y],webcQrCode:[601,y],webcNavigation:[591,M],webcRedirectCount:[700,w],webcPageLoadT:[644,S]}],WebcPageResume:[884,{webcResumeCount:[785,b]}],WebcPhoneDisconnected:[878,{webcPhoneDisconnectedT:[880,S],webcPhoneBbarShownT:[882,S]}],WebcResourceLoad:[688,{webcResourceName:[567,E],webcResourceDuration:[690,S],webcResourceCached:[569,y]}],WebcStreamInfoChange:[768,{webcStreamInfo:[641,O],webcStreamInfoDuration:[774,S]}],WebcStreamModeChange:[770,{webcStreamMode:[643,I]}],WebcWamUpload:[916,{webcTotalT:[918,S],webcAvailableTp:[920,w],webcAvailableBbarTp:[922,w],webcAvailableNormalTp:[924,w],webcUnavailableTp:[926,w],webcUnavailableBbarTp:[928,w],webcUnavailableNormalTp:[930,w]}],WebcWsOpen:[740,{webcWsOpenT:[738,S]}],WebcWsTimeout:[742,{webcWsTimeoutT:[744,S]}]}),e.exports=_.defaults({},C,{METRICS:N,Global:f,WamEvent:l,PLATFORM_TYPE:T,WEBC_APPCACHE_STATUS_CODE:k,WEBC_CRYPTO_LIBRARY_CODE:$,WEBC_CRYPTO_TYPE_CODE:A,WEBC_ENV_CODE:x,WEBC_NAVIGATION_TYPE:M,WEBC_STREAM_INFO_CODE:O,WEBC_STREAM_MODE_CODE:I,WEBC_WEB_PLATFORM_TYPE:R})},function(e,t,r){var n=r(35),o=r(90);e.exports=r(47)?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){"use strict";var n=r(6),o=r(134),i=r(131),a=i.HotKeys,s=n.createClass({displayName:"ErrorDialog",propTypes:{title:n.PropTypes.node,body:n.PropTypes.node.isRequired,tip:n.PropTypes.node,cancelLabel:n.PropTypes.node,onCancel:n.PropTypes.func,defaultLabel:n.PropTypes.node,onDefault:n.PropTypes.func},componentDidMount:function(){this.refs.defaultButton&&o.focus(this.refs.defaultButton)},render:function(){var e=this.props.tip?n.createElement("div",{className:"popup-contents"},this.props.body,n.createElement("hr",null),n.createElement("div",{className:"text text-tip"},this.props.tip)):n.createElement("div",{className:"popup-contents"},this.props.body),t=this.props.title?n.createElement("div",{className:"popup-title",dir:"auto"},this.props.title):null,r=[];this.props.onCancel&&this.props.cancelLabel&&r.push(n.createElement("button",{className:"btn-plain popup-controls-item",onClick:this.props.onCancel,key:"secondary"},this.props.cancelLabel)),this.props.onDefault&&this.props.defaultLabel&&r.push(n.createElement("button",{className:"btn-plain btn-default popup-controls-item",onClick:this.props.onDefault,ref:"defaultButton",key:"primary"},this.props.defaultLabel)),r.length&&(r=n.createElement("div",{className:"popup-controls"},r));var o={};return this.props.onDefault&&(o.enter=this.props.onDefault),n.createElement("div",null,n.createElement(a,{handlers:o},n.createElement("div",{className:"backdrop backdrop-transparent"},n.createElement("div",{className:"popup-container"},n.createElement("div",{className:"popup"},n.createElement("div",{className:"popup-body"},t,e),r)))))}});e.exports=s},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(){this._parent=null,this._subs=[],this._catchTypes=null,this._onResolve=null,this._onReject=null,this.type=l.ROOT,this.state=p.PENDING,this.value=void 0,this._forceable=!1,this._cancellable=!1;var e,t;switch(arguments.length){case 0:break;case 1:e=arguments[0];break;case 2:t=arguments[0],e=arguments[1];break;default:throw new Error("TightPromise constructor with "+arguments.length+" arguments")}if(this.context=t,arguments.length>0)try{e.call(t,i.bind(this),a.bind(this))}catch(r){a.call(this,r)}}function i(e){this.state===p.PENDING&&(s(e)?e.then(i.bind(this),a.bind(this)):(this.value=e,this.state=p.FULFILLED,this._notifySubs()))}function a(e){this.state===p.PENDING&&(this.value=e,this.state=p.REJECTED,this._notifySubs())}function s(e){return("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}function d(e){setTimeout(function(e){throw e},0,e)}var c=r(2),u=n(c),l={ROOT:1,THENABLE:2,FINALLY:3,META:4},p={PENDING:1,FULFILLED:2,REJECTED:3};o.STATE=p,o.TYPE=l,o.prototype={isPending:function(){return this.state===p.PENDING},then:function(e,t){if(!e&&!t)return this;var r=new o;return r.type=l.THENABLE,r._onResolve=e||null,r._onReject=t||null,this._addChild(r),r},"catch":function(){var e=new o;return e.type=l.THENABLE,e._onReject=arguments[arguments.length-1],arguments.length>1&&(e._catchTypes=Array.prototype.slice.call(arguments,0,arguments.length-1),e._catchTypes.forEach(function(e){if("function"!=typeof e)throw new Error("expected type, got "+e)})),this._addChild(e),e},"finally":function(e){var t=new o;return t.type=l.FINALLY,t._onResolve=e,this._addChild(t),t},bind:function(e){var t=new o;return t.type=l.META,this._addChild(t),t.context=e,t},spread:function(e){return this.then(function(t){e.apply(this,t)})},get:function(e){return this.then(function(t){return t[e]})},forceable:function(){var e=new o;return e.context=this.context,e.type=l.META,this._addChild(e),e._forceable=!0,e},cancellable:function(){var e=new o;return e.context=this.context,e.type=l.META,this._addChild(e),e._cancellable=!0,e},force:function(e){if(this._forceable){for(var t=this;t.type===l.META;){var r=t._parent;if(!r||!r._forceable||r.state!==p.PENDING)break;t=r}i.call(this,e)}},cancel:function(e){if(this._cancellable){e=e||new u["default"].CancellationError;var t=this,r=!1;do{var n=t._parent;n&&n._cancellable&&n.state===p.PENDING?t=n:r=!0}while(!r);a.call(t,e)}},timeout:function(e,t){var r=new o;return r.type=l.META,this._addChild(r),r.state===p.PENDING&&setTimeout(a.bind(r,new u["default"].TimeoutError(t)),e),r},loosen:function(){return u["default"].resolve(this)},_run:function(e,t){var r;try{r=e.call(this.context,t)}catch(n){return void a.call(this,n)}i.call(this,r)},_handle:function(){if(this.state===p.PENDING){var e=this._parent;switch(this.type){case l.THENABLE:if(e.state===p.FULFILLED){var t=this._onResolve;t?this._run(t,e.value):i.call(this,e.value)}else if(this._onReject){var r=this._catchTypes,n=r?r.length:0,o=e.value;if(0===n)return void this._run(this._onReject,o);for(var s=0;s<n;s++)if(o instanceof r[s])return void this._run(this._onReject,o);a.call(this,o)}else a.call(this,e.value);return;case l.FINALLY:try{this._onResolve.call(this.context)}catch(c){d(c)}default:e.state===p.FULFILLED?i.call(this,e.value):a.call(this,e.value)}}},_addChild:function(e){e._parent=this,e.context=this.context,e._cancellable=this._cancellable,e.type===l.META&&(e._forceable=this._forceable),this.state===p.PENDING?this._subs.push(e):e._handle()},_notifySubs:function(){this._subs.forEach(function(e){e._handle()})}},o.delay=function(){var e,t;switch(arguments.length){case 0:e=0;break;case 1:e=arguments[0];break;default:e=arguments[1],t=arguments[0]}return new o(function(r){setTimeout(r.bind(null,t),e)})},o.resolve=function(e){var t=new o;return i.call(t,e),t},o.reject=function(e){var t=new o;return a.call(t,e),t},e.exports=o},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(244),o=r(146);e.exports=Object.keys||function(e){return n(e,o)}},,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(44),i=n(o),a=r(52),s=n(a),d=r(1),c=r(30),u={ACTIVE:"active",PASSIVE:"passive",INACTIVE:"inactive",DEAD:"dead"},l=function(){function e(t,r){(0,i["default"])(this,e),this.parent=t||this,t||(e.Manager.root&&d.assert(!1,"multiple-uim-roots","Attempting to set multiple UIM tree roots. Expecting only one.")(),e.Manager.root=this),this.uie=r,this.children=[],this.state=r.props.state}return(0,s["default"])(e,[{key:"activate",value:function(){this.state=this.state}},{key:"branch",value:function(t){var r=new e(this,t);return this.children.push(r),e.pprint(),r}},{key:"pop",value:function(){var t=this,r=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];this.state!==u.DEAD&&(this._invalidateAndDismissChildren(this.children,r),c.remove(this.parent.children,function(e){return e===t}),e.Manager.top=e.findMostRecentlyActive(this),e.Manager.top&&e.Manager.top.uie.requestFocus(),e.pprint())}},{key:"_invalidateAndDismissChildren",value:function(e,t){var r=this;e.forEach(function(e){e.state=u.DEAD,e.uie.requestDismiss(t),r._invalidateAndDismissChildren(e.children,t)})}},{key:"state",get:function(){return this._state},set:function(t){switch(t){case u.ACTIVE:this.lastActive=Date.now(),e.Manager.top=this;break;case u.PASSIVE:this.lastActive=Date.now(),this._state!==u.ACTIVE&&(e.Manager.top=e.findMostRecentlyActive());break;case u.INACTIVE:if(this._state&&this._state!==t){var r=e.Manager.top;e.Manager.top=e.findMostRecentlyActive(),e.Manager.top&&e.Manager.top!==r&&e.Manager.top.uie.requestFocus()}}this._state=t}}],[{key:"findMostRecentlyActive",value:function(t){var r=function n(e,r){return e.children?c(e.children).filter(function(e){return e!==t}).map(function(e){return n(e,r)}).concat(e).filter({state:r}).maxBy("lastActive"):e};if(e.Manager.root)return r(e.Manager.root,u.ACTIVE)||r(e.Manager.root,u.PASSIVE)}},{key:"pprint",value:function(){if(e.Manager.verbose){var t="",r="",n="",o="",i="",a=function c(a,s){a&&a.children.map(function(u,l){var p=l<a.children.length-1,f=u.children.length>0,h=void 0;h=f&&p?s.concat([t+" "]):s.concat(["  "]);var m=void 0;m=p&&f?i:p&&!f?o:!p&&f?n:r;var _=u.uie.props.displayName;u===e.Manager.top&&(_+=" "),d.log(""+s.join("")+m+" "+_)(),c(u,h)})},s=e.Manager.root;s&&(d.log(" "+s.uie.props.displayName)(),a(s,[]))}}}]),e}();l.State=u,l.Manager={top:void 0,root:void 0,verbose:!1},window.addEventListener("keydown",function(e){if(27===e.keyCode){
var t=l.Manager.top;t&&t.uie.escapable()&&(e.stopPropagation(),e.preventDefault(),t&&t.uie.requestDismiss())}},!0),window.addEventListener("click",function(e){if(e.screenX&&e.screenY){var t=l.Manager.top;if(t&&t.uie.popable()){var r=t.uie.getNode();if(r&&r.contains(e.target))return;e.stopPropagation(),e.preventDefault(),t.uie.requestDismiss()}}},!0),d.exportToWindow("UIM",l),e.exports=l},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(2),i=n(o),a=r(44),s=n(a),d=r(6),c=r(10),u=r(133),l=r(43),p=3e3,f=function m(e,t,r){if((0,s["default"])(this,m),!e)throw new Error("ActionType must have text!");if(t&&!r||r&&!t)throw new Error("ActionType must have an action and a handler or have neither.");this.text=e,this.action=t,this.handler=r},h=d.createClass({displayName:"ActionToast",mixins:[u],propTypes:{id:d.PropTypes.string.isRequired,initialAction:d.PropTypes.instanceOf(f).isRequired,pendingAction:d.PropTypes.instanceOf(i["default"]).isRequired,settleDuration:d.PropTypes.number},getDefaultProps:function(){return{settleDuration:p}},statics:{genId:function(e){return _.uniqueId(e||"action_toast")}},getInitialState:function(){return{actionType:this.props.initialAction,pending:!0}},componentWillReceiveProps:function(e){this.actionPromise&&this.actionPromise.control.cancel(),this.setState({actionType:e.initialAction,pending:!0}),this.runAction(e.pendingAction)},componentWillMount:function(){this.runAction(this.props.pendingAction)},runAction:function(e){var t=this,r={};this.actionPromise=e.bind(this).addRejectControl("cancel",function(){return r}).then(function(e){this.setState({actionType:e,pending:!1})})["catch"](function(e){return e!==r},function(e){this.setState({actionType:e,pending:!1})}).delay(this.props.settleDuration).addRejectControl("cancel",function(){return r}).then(function(){t.isMounted()&&c.closeToast(t)})["catch"](function(e){return e===r},_.noop).endWithControls("cancel")},onAction:function(){this.state.actionType.handler()["catch"](_.noop)},onDismiss:function(){c.closeToast(this)},render:function(){var e=this.state.actionType,t=void 0,r=void 0;return e.action&&e.handler&&(r=d.createElement("button",{className:"action",onClick:this.onAction},e.action)),this.state.pending||(t=d.createElement("button",{className:"icon icon-x-alt",onClick:this.onDismiss})),d.createElement("div",{className:l("toast",this.props.className)},d.createElement("span",null,e.text),r,t)}});e.exports={ActionToast:h,ActionType:f}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(){switch(m.state){case m.STATE.TIMEOUT:return S.TIMEOUT;case m.STATE.OPENING:return h.online?S.OPENING:S.OFFLINE;case m.STATE.PAIRING:return m.hasSynced?S.RESUMING:S.PAIRING;case m.STATE.CONNECTED:return m.stream!==m.STREAM.CONNECTED?m.hasSynced?S.NORMAL:S.SYNCING:S.NORMAL;case m.STATE.UNLAUNCHED:case m.STATE.PROXYBLOCK:default:return S.NORMAL}}function i(){if(!w.knowsPhone()&&m.state!==m.STATE.PROXYBLOCK)return N.QR;var e=m.hasSynced;switch(m.state){case m.STATE.PROXYBLOCK:return N.PROXYBLOCK;case m.STATE.CONFLICT:return N.CONFLICT;case m.STATE.TOS_BLOCK:return N.TOS_BLOCK;case m.STATE.UNLAUNCHED:return N.SYNCING;case m.STATE.UNPAIRED_IDLE:case m.STATE.UNPAIRED:return N.QR;case m.STATE.OPENING:if(!h.online&&!m.hasSynced)return N.OFFLINE;default:return e||m.stream===m.STREAM.CONNECTED?N.MAIN:N.SYNCING}}function a(e,t){switch(t){case C.SHOW:return e;case C.HIDE:return m.hasSynced?S.NORMAL:S.CONNECTING;case C.OBSCURE:switch(e){case S.OPENING:case S.PAIRING:case S.SYNCING:case S.RESUMING:return S.CONNECTING;default:return e}}}var s=r(2),d=n(s),c=r(8),u=r(1),l=r(79),p=r(56),f=r(127),h=r(136),m=r(12),g=r(14),v=r(45),y=r(210),b=r(81),w=r(15),E=r(138),S={OFFLINE:"OFFLINE",OPENING:"OPENING",PAIRING:"PAIRING",SYNCING:"SYNCING",RESUMING:"RESUMING",CONNECTING:"CONNECTING",NORMAL:"NORMAL",TIMEOUT:"TIMEOUT"},N={QR:"QR",MAIN:"MAIN",SYNCING:"SYNCING",OFFLINE:"OFFLINE",CONFLICT:"CONFLICT",PROXYBLOCK:"PROXYBLOCK",TOS_BLOCK:"TOS_BLOCK"},C={SHOW:"SHOW",OBSCURE:"OBSCURE",HIDE:"HIDE"},T=3e3,k=l.extend({extraProperties:"reject",session:{info:{type:"string",values:_.values(S),"default":S.NORMAL},obscurity:{type:"string",values:_.values(C),"default":C.HIDE},mode:{type:"string",values:_.values(N),"default":N.SYNCING},needsUpdate:"boolean",clientExpired:["boolean",!0,!1],couldForce:"boolean",uiActive:"boolean",available:["boolean",!1,!0],unavailableShiftTimer:"object",unavailableLogoutTimer:"object",unobscureShiftTimer:"object",timeoutEvent:"object",resumeCount:{type:"number","default":0},phoneActive:"boolean",phoneAuthed:["boolean",!1,!1],_waitForSocketPromise:"object",_waitForSocketResolve:"function"},derived:{displayInfo:{deps:["info","obscurity"],fn:function(){return a(this.info,this.obscurity)}}},initialize:function(){var e=this;this.unavailableShiftTimer=new b(function(){return e.markUnavailable()}),this.unobscureShiftTimer=new b(function(){return e.unobscure()}),this.unavailableLogoutTimer=new b(function(){w.getRememberMe()||(u.log("Stream:unavailableLogoutTimer logout due to inactivity")(),m.logout())}),this.listenTo(m,"change:state change:stream change:hasSynced",this.onSocketUpdate),this.listenTo(h,"change:online",this.onSocketUpdate),this.listenTo(this,"change:available",this.onAvailableUpdate),this.listenTo(this,"change:phoneAuthed",this.onPhoneAuthedUpdate),this.listenTo(this,"change:info change:displayInfo change:mode",_.debounce(this.onSelfUpdate)),this.listenTo(this,"change:info",this.logPageResume),this.listenTo(this,"change:info",this.updateWamLog),this.listenTo(this,"change:available change:uiActive",this.updateCouldForce.bind(this,!1)),document.addEventListener("visibilitychange",this.updateCouldForce.bind(this,!1)),this.updateCouldForce(!1)},"delete":function(){},INFO:S,MODE:N,handle:function(e){switch(e[0]){case"awake":this.phoneActive=!1,this.phoneActive=!0;break;case"asleep":this.phoneActive=!1;break;case"update":y.update(e[1],e[2]);break;case"killsw":y.killServiceWorker();break;case"update_desktop":y.update(e[1],e[2],e[3]);break;case"desktop_manual_download":Store.Stream.needsManualDownload=e[1];break;default:u.error("Stream:handle unknown cmd "+e[0],e)()}},markAvailable:function(){this.unavailableShiftTimer.cancel(),this.available=!0,f.monitor(!0,this.displayInfo===S.TIMEOUT)},markUnavailable:function(e){e?this.unavailableShiftTimer.onOrBefore(e):(this.unavailableShiftTimer.cancel(),this.available=!1,f.monitor(!1,this.displayInfo===S.TIMEOUT))},hasSocket:function(){return this.info===S.NORMAL||this.info===S.TIMEOUT},waitForSocket:function(){var e=this;return this.hasSocket()?d["default"].resolve():this._waitForSocketPromise?this._waitForSocketPromise:this._waitForSocketPromise=new d["default"](function(t){e._waitForSocketResolve=t})},onSelfUpdate:function(){u.log("Stream:onSelfUpdate mode:"+this.mode+" info:"+this.info+" view:"+this.displayInfo)();var e=this.timeoutEvent;this.info===S.TIMEOUT?(e||(this.timeoutEvent=e=new p.WebcPhoneDisconnected),this.displayInfo!==S.TIMEOUT||e._bbarTime||(e._bbarTime=Date.now())):e&&(e.markWebcPhoneDisconnectedT(),e._bbarTime&&(e.webcPhoneBbarShownT=Date.now()-e._bbarTime),e.commit(),this.timeoutEvent=null),this.hasSocket()&&this._waitForSocketResolve&&(this._waitForSocketResolve(),this._waitForSocketResolve=null,this._waitForSocketPromise=null)},onSocketUpdate:function(){var e={},t=m.previousAttributes();t.stream!==m.stream&&m.stream===m.STREAM.DISCONNECTED&&(e.phoneActive=!1);var r=o();if(e.info=r,e.mode=i(),e.phoneAuthed=m.stream!==m.STREAM.DISCONNECTED,r===S.NORMAL)this.unobscureShiftTimer.cancel(),e.obscurity=C.HIDE;else if(r===S.OFFLINE)this.unobscureShiftTimer.cancel(),e.obscurity=C.OBSCURE;else switch(this.obscurity){case C.HIDE:this.unobscureShiftTimer.onOrBefore(c.DIAGNOSTIC_DELAY);break;case C.OBSCURE:this.unobscureShiftTimer.onOrBefore(T);break;case C.SHOW:}this.set(e)},unobscure:function(){this.obscurity=C.SHOW},onPhoneAuthedUpdate:function(){this.phoneAuthed&&(this.sendAvailability(!0),Store.RecentEmoji.sync())},onAvailableUpdate:function(){var e=this.available;u.log("Stream:onAvailableUpdate user "+(e?"available":"unavailable"))(),e||w.getRememberMe()?this.unavailableLogoutTimer.cancel():this.unavailableLogoutTimer.onOrBefore(c.IDLE_TIMEOUT_WAIT),this.sendAvailability(!1)},sendAvailability:function(e){(e||this.uiActive)&&(this.available?v.sendPresenceAvailable()["catch"](g.WapDrop,_.noop):v.sendPresenceUnavailable()["catch"](g.WapDrop,_.noop))},updateCouldForce:function(){this.couldForce=!this.uiActive||!this.available&&document.hidden},logPageResume:function(){this.info===S.RESUMING&&(this.resumeCount++,new p.WebcPageResume({webcResumeCount:this.resumeCount}).commit())},updateWamLog:function(){var e=this.info===S.NORMAL;f.streamInfoChange(this.info,E.numSocketsAttempted,e),e&&this.stopListening(null,"change:info",this.updateWamLog)}});e.exports=new k},function(e,t,r){var n=r(144);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},,function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},,function(e,t){e.exports={}},,,,,,,function(e,t,r){"use strict";var n=r(30),o=r(10),i={getCmds:function(){return this._cmds||(this._cmds=[]),this._cmds},regCmd:function(e,t){if(!n.isFunction(t))throw Error("handler is not a function");this.getCmds().push({cmd:e,handler:t}),this.isMounted()&&o.on(e,t)},unregCmd:function(e,t){o.off(e,t),this._cmds=n.reject(this._cmds,n.matches({cmd:e,handler:t}))},registerCmds:function(){this._cmds&&this.getCmds().forEach(function(e){o.on(e.cmd,e.handler)})},unregisterCmds:function(){this._cmds&&(this.getCmds().forEach(function(e){o.off(e.cmd,e.handler)}),delete this._cmds)},componentDidMount:function(){this.registerCmds()},componentWillUnmount:function(){this.unregisterCmds()}};e.exports=i},function(e,t,r){"use strict";var n=r(1),o=r(70),i=r(107),a=o.extend(i,{extraProperties:"allow",session:{_uiObservers:{type:"number","default":0},_promises:"array",stale:"boolean"},derived:{isObserved:{deps:["_uiObservers"],fn:function(){return this._uiObservers>0}}},update:function(){return this.getCollection().update(this.id)},find:function(){return this.getCollection().find(this.id)},getCollection:function(){return this.Collection?Store[this.Collection]:n.error("baseState:getCollection Attempting to get a non existing collection")()},getp:function(e){if(_.isString(e)||Array.isArray(e)){for(var t=Array.isArray(e)?e:e.split("."),r=this,n=0;n<t.length;n++){if(!r)throw Error("Path: "+e+" is not defined");r=r.get(t[n])}return r}},regCancellablePromise:function(e){var t=this;return this._promises||(this._promises=[]),this._promises.push(e),e.cancellable()["finally"](function(){t._promises=_.without(t._promises,e),0===t._promises.length&&(t._promises=null)})},hasPendingPromises:function(){return this._promises&&this._promises.length>0},cancelPendingPromises:function(){this.hasPendingPromises()&&(this._promises.forEach(function(e){e.cancel()}),this._promises=null)},set:function(e,t){return t&&t.merge&&_.isObject(e)?o.prototype.set.call(this,_.omitBy(e,_.isUndefined),t):o.prototype.set.call(this,e,t)},"delete":function(){this.stopListening()}});e.exports=a},function(e,t,r){(function(t){"use strict";var n,o=r(795),i=r(555),a={build:function(e,t){return t&&(t=_.chain(t).map(function(e,t){return e?encodeURIComponent(t)+"="+encodeURIComponent(e):null}).compact().join("&").value()),t?e+"?"+t:e},relToAbs:function(e){return n||(n=document.createElement("a")),n.href=e,n.href},hostname:_.memoize(function(e){return n||(n=document.createElement("a")),n.href=this.isHttp(e)?e:"http://"+e,n.hostname}),isHttp:function(e){return e&&("https://"===e.toLowerCase().substring(0,8)||"http://"===e.toLowerCase().substring(0,7))},isBlob:function(e){return _.isString(e)&&"blob:"===e.substring(0,5)},isEncryptedMedia:function(e){return e&&_.isString(e)&&_.endsWith(e,".enc")},parseDataURL:function(e){var t=e.indexOf(":"),r=e.indexOf(";"),n=e.indexOf(",");return{mimetype:e.substring(t+1,r),data:e.substring(n+1)}},GSM_NAME:"gme-whatsappinc",GSM_NUMS:"LM4NgcjF-X_EedaZ6MwPVSH0Sac=",gsmURL:function(e,r){var n=r.replace(/\-/g,"+").replace(/_/g,"/");n=new t(n,"base64");var a=o.parse(e).path,s=i.createHmac("sha1",n).update(a).digest("base64");return s=s.replace(/\+/g,"-").replace(/\//g,"_"),e+"&signature="+s}};e.exports=a}).call(t,r(32).Buffer)},function(e,t){"use strict";function r(e){function t(){r.cancel();var e=r._arg,t=r.foo;r._arg=void 0,t(e)}if("function"!=typeof e)throw new TypeError("ShiftTimer given non-function "+e);this.foo=e,this.timer=0,this.ts=0,this._before=0,this._after=0,this._arg=void 0;var r=this;this._run=t}r.prototype={onOrBefore:function(e){var t=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],r=e+Date.now(),n=this.ts;return this._before&&this._before<r?n:this._after&&r<this._after?n:(this._before=r,(!n||n>r)&&(n=this.setWithinConstraints(r,t)),n)},onOrAfter:function(e){var t=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],r=e+Date.now(),n=this.ts;return this._after&&this._after>r?n:this._before&&r>this._before?n:(this._after=r,(!n||n>r)&&(n=this.setWithinConstraints(r,t)),n)},debounce:function(e){var t=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1];return this.setWithinConstraints(e+Date.now(),t)},debounceAndCap:function(e,t){var r=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2];this.debounce(e,r),this.onOrBefore(t,r)},setWithinConstraints:function(e){var t=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],r=Date.now();if(e=Math.max(e,r),this._before&&this._before<e||this._after&&this._after>e)return this.ts;this.timer&&clearTimeout(this.timer),this._arg=t;var n=e-r;return this.timer=setTimeout(this._run,n),this.ts=e},forceRun:function(){var e=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];this._arg=e,this._run()},cancel:function(){this.timer&&(clearTimeout(this.timer),this.timer=0,this.ts=0,this._before=0,this._after=0)}},e.exports=r},,function(e,t,r){var n=r(140);e.exports=function(e){return Object(n(e))}},function(e,t,r){"use strict";var n=r(532)(!0);r(214)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){"number"==typeof e&&(e="v"+e);var t=w[e];t||(d.error("binaryProtocol unknown version: "+e)(),c.updateImmediately("bp_unknown_version"));var r=t.OutputStream,n=new t.Writer(t.Dictionary),o=t.InputStream,i=new t.Reader(t.Dictionary),u=t.Crypto;this.Node=t.Node,this.read=function(e){return u.decrypt(e).then(function(e){return i.readNode(new o(e))})["catch"](function(e){return!(e instanceof s.LogoutDrop)},function(e){d.errorVerbose("binaryProtocol:read error "+e.stack)()})},this.write=function(e){return a["default"].callSynchronously(function(){var t=new r;return n.writeNode(t,e),u.encrypt(t.toBuffer())})["catch"](function(e){return!(e instanceof s.LogoutDrop)},function(e){d.errorVerbose("binaryProtocol:write error "+e.stack)()})},this.dropAllBecauseLogout=function(){return u.dropAllBecauseLogout()}}var i=r(2),a=n(i),s=r(14),d=r(1),c=r(12),u={OutputStream:r(452),Writer:r(454),InputStream:r(450),Reader:r(453),Dictionary:r(449),Node:r(451),Crypto:r(218)},l={OutputStream:r(458),Writer:r(460),InputStream:r(456),Reader:r(459),Dictionary:r(455),Node:r(457),Crypto:r(218)},p=_.defaults({Dictionary:r(461)},l),f=_.defaults({Dictionary:r(462)},p),h=_.defaults({Writer:r(464),Reader:r(463)},f),m=_.defaults({Dictionary:r(465)},h),g=_.defaults({Dictionary:r(466)},m),v=_.defaults({Dictionary:r(467)},g),y=_.defaults({Dictionary:r(468)},v),b=_.defaults({Dictionary:r(469)},y),w={"01":u,"03":l,"04":p,"05":f,"06":h,v1:f,v2:h,v3:m,v4:g,v5:v,v6:y,v7:b};e.exports=o},function(e,t,r){"use strict";function n(e){h=e}function o(){h=void 0}function i(){return h}function a(){if(!h)return v.log("secret_bundle:getSecurityToken: no secret bundle!")(),"nosecretbundle!";var e=l(_.toArray(arguments));return e.toString(CryptoJS.enc.Base64)}function s(e,t,r){"0.1"===e?t&&r?(h.encKey=t,h.macKey=r,h.key=r):v.error("secret_bundle:setSecretKeys v"+e+" "+t+" "+r)():v.log("secret_bundle:setSecretKeys unknown version: v"+e)()}function d(){if(h&&h.key&&h.keyPair)return h.key.toString(CryptoJS.enc.Base64);var e=g.keyPair(),t=CryptoJS.lib.WordArray.create(e.pubKey),r=CryptoJS.enc.Base64.stringify(t),o={key:CryptoJS.enc.Base64.parse(r),keyPair:e};return n(o),r}function c(){var e=y.getSecretBundle();return e?(n(e),e):(v.log("secret_bundle:load: attempted to load non-existent secret bundle!")(),null)}function u(){return h?(delete h.keyPair,void y.setSecretBundle(h)):void v.log("secret_bundle:save: trying to save empty secret bundle!")()}function l(e){for(var t=h.key.toString(CryptoJS.enc.Base64),r=p(e),n=[],o=0;o<r.length;o++){var i=CryptoJS.enc.Base64.parse(t);n.push(CryptoJS.HmacSHA256(r[o],i))}return n.reduce(f)}function p(e){var t=[];if(null===e||"undefined"==typeof e)return[];if(_.isArray(e))for(var r=0;r<e.length;r++)t=t.concat(p(e[r]));else if("object"==typeof e)if("undefined"!=typeof e.words&&"undefined"!=typeof e.sigBytes)t.push(e);else for(var n in e){var o=e[n];o&&(t=t.concat(p(o)))}else t.push(m.userToLegacy(e.toString()));return t}function f(e,t){var r,n;e.sigBytes>t.sigBytes?(n=e,r=t):(n=t,r=e);for(var o=r.words.length,i=0;i<o;i++)n.words[i]=r.words[i]^n.words[i];return n}var h,m=r(21),g=r(223),v=r(1),y=r(15);e.exports={set:n,get:i,clear:o,getOrGenerate:d,load:c,save:u,getSecurityToken:a,setSecretKeys:s}},function(e,t,r){e.exports={"default":r(507),__esModule:!0}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},,,,,,,,,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(){this.proto=[0,0],this.F=_(l).flatten().map(_.keys).flatten().concat(_.keys(p)).uniq().map(function(e){return[e,e]}).fromPairs().value(),d.on("logout",this.resetFeatures.bind(this))}var i=r(420),a=n(i),s=!0,d=r(10),c=r(1),u=r(201),l=[[{RESEND_ICON:!1},{},{},{FORWARD_MESSAGE:!0},{SET_STATUS:!0,SET_PROFILE_PIC:!0,SET_BLOCK:!0,MUTE:!0,ARCHIVE:!0,ARCHIVE_BROADCAST:!0,DELETE:!0,GROUP_CREATE:!0,GROUP_EXIT:!0,GROUP_SET_SUBJECT:!0,GROUP_SET_PIC:!0,GROUP_ADD_PARTICIPANT:!0,GROUP_REMOVE_PARTICIPANT:!0,GROUP_PROMOTE_PARTICIPANT:!0},{RECENT_EMOJI_SYNC:!0,MESSAGE_DELETE:!0,MESSAGE_INFO:!0,CHAT_MARK_UNSEEN:!0,CHAT_CLEAR:!0},{},{MUTE_1_1:!0,MEDIA_RETRY:!0,STARRED:!0,SEND_LINK_PREVIEW:!0},{SPAM:!0,FULL_TEXT_SEARCH:!0},{LINK_PREVIEW:!0,SET_PUSHNAME:!0,MEDIA_GALLERY:!s,QUERY_IDENTITY:!s,FTS_PAGINATION:!0,STARRED_PAGINATION:!0,UNSTAR_ALL:!0},{REPLIES_IN:!0,REPLIES_OUT:!0,MENTIONS_IN:!0,MENTIONS_OUT:!s,GROUP_URLS_IN:!1,GROUP_URLS_OUT:!1,FTS_IN_CONV:!0},{ENC_IMAGE:!0,ENC_AUDIO:!0,ENC_VIDEO:!0,ENC_DOC:!0}]],p={KEY_PARTICIPANT:!1,MEDIA_RETRY:!1,STARRED:!1,DOCUMENT:!1,URL:!1,CHAT_CLEAR_STARRED:!1,ENC_IMAGE:!1,ENC_AUDIO:!1,ENC_VIDEO:!1,ENC_DOC:!1,DOC_TYPES:"pdf",RICH_TEXT:!0,VIDEO_STREAMING:!s};o.prototype={setVersion:function(e){var t,r,n;if(this.proto.length!==e.length||this.proto[0]!==e[0]||this.proto[1]!==e[1]){this.proto=e;var o=l.slice(0,e[0]+1),i=l.slice(e[0]+1,l.length),s=o[e[0]],d=s.slice(0,e[1]+1),c=s.slice(e[1]+1,s.length);o[e[0]]=d,i.unshift(c),this.features=_.merge(_.omitBy((t=_).merge.apply(t,[{}].concat((0,a["default"])(_.flatten(o)))),function(e){return!e}),this.features||{});var u=(r=_).merge.apply(r,[{}].concat((0,a["default"])(_.flatten(i))));this.features=_.omitBy(this.features,function(e,t){return!!u[t]}),this.VF=_.fromPairs(_.keys((n=_).merge.apply(n,[{}].concat((0,a["default"])(_.flatten(o))))).map(function(e){return[e,e]}))}},setPlatform:function(e){switch(e){case"iphone":this.features.RECENT_EMOJI_SYNC=!1,this.features.ARCHIVE_BROADCAST=!1,this.features.RESEND_ICON=!0;break;case"symbian":case"s40":case"bb":this.features.CHAT_MARK_UNSEEN=!1}},setFeature:function(e,t){var r=this.features[e]!==t;return this.features[e]=t,r},setFeatures:function(e){var t={},r=_.merge({},p,e);for(var n in r)if(!(n in this.VF)){var o;switch(n){case"DOC_TYPES":o=r[n],u.updateDocMimes(o);break;default:o=!!r[n]}t[n]=this.setFeature(n,o)}return t},getFeature:function(e){return this.features[e]},supportsFeature:function(e){return!!this.features[e]},resetFeatures:function(){this.proto=[0,0],this.features={}},lt:function(e){var t=this.proto;return e[0]>t[0]||e[0]===t[0]&&e[1]>t[1]},lte:function(e){var t=this.proto;return e[0]>t[0]||e[0]===t[0]&&e[1]>=t[1]},gt:function(e){var t=this.proto;return e[0]<t[0]||e[0]===t[0]&&e[1]<t[1]},gte:function(e){var t=this.proto;return e[0]<t[0]||e[0]===t[0]&&e[1]<=t[1]}};var f=new o;c.exportToWindow("GateKeeper",f),e.exports=f},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(2),i=n(o),a=r(34),s=r(6),d=r(1),c=r(490),u=r(10),l=r(719),p={ENTER:"enter",LEAVE:"leave"},f=s.createClass({displayName:"VelocityTransitionGroupChild",propTypes:{transitionName:s.PropTypes.string.isRequired,delay:s.PropTypes.number,onAnimationComplete:s.PropTypes.func},_getTransition:function(){return c[this.props.transitionName]||d.log("TransitionName "+this.props.transitionName+" wasn't found in VelocityTransitionGroupChild transitions.")(),c[this.props.transitionName]||c["default"]},componentWillEnter:function(e){this.animateTransitions(p.ENTER)["finally"](this._cbWrapper(e))},componentWillLeave:function(e){this.animateTransitions(p.LEAVE)["finally"](this._cbWrapper(e))},_cbWrapper:function(e){var t=this;return function(){if(t.isMounted()&&_.isFunction(e))return e()}},animateTransitions:function(e){var t=this,r=this._getTransition(),n=r[e];if(!r||!n)return i["default"].resolve();var o=a.findDOMNode(this),c=function(e){e.preventDefault(),e.stopPropagation()};e===p.LEAVE&&o&&o.addEventListener&&(o.addEventListener("click",c,!0),o.addEventListener("keypress",c,!0));var l=this.props.delay,f=_.omit(r,p.LEAVE,p.ENTER),h={},m=s.Children.only(this.props.children);return n=_.filter(_.forceArray(n),function(e){if(_.isString(e.selector)||h[e.selector]){var t=o.querySelectorAll(e.selector);if(!t.length)return!1;h[e.selector]=t}return!0}),m.props.staggerDelay||l||_.forEach(n,function(e){if(!e.delay&&!f.delay){var t=e.selector?h[e.selector]:o;_.forEach(e.props,function(e,r){_.isArray(e)&&Velocity.hook(t,r,e[1])})}}),u.setUiBusy(!0),i["default"].map(n,function(e){var r=e.selector?h[e.selector]:o,n=Velocity(r,e.props,{easing:e.easing||f.easing||"easeInSine",duration:e.duration||f.duration||0,delay:m.props.staggerDelay||l||e.delay||f.delay||0,queue:f.queue||!1,stagger:e.stagger||!1,drag:e.drag||!1});return n?n.then(function(){f.cleanOnComplete&&(_.isArray(r)?_.forEach(r,function(e){e.removeAttribute("style")}):r.removeAttribute("style"))}):(d.log("VelocityTransitionGroup:animationTransitions:error "+t.props.transitionName)(),i["default"].resolve())})["finally"](function(){e===p.LEAVE&&o&&o.removeEventListener&&(o.removeEventListener("click",c,!0),o.removeEventListener("keypress",c,!0)),t.props.onAnimationComplete&&t.props.onAnimationComplete(),u.setUiBusy(!1)})},componentWillUnmount:function(){var e=a.findDOMNode(this);Velocity(e,"stop")},render:function(){return s.Children.only(this.props.children)}}),h=s.createClass({displayName:"VelocityTransitionGroup",propTypes:{transitionName:s.PropTypes.string.isRequired,delay:s.PropTypes.number,onAnimationComplete:s.PropTypes.func,className:s.PropTypes.string},_wrapChild:function(e){return s.createElement(f,this.props,e)},render:function(){return s.createElement(l,{childFactory:this._wrapChild,className:this.props.className,transitionName:this.props.transitionName,children:this.props.children})}});e.exports=h},function(e,t){"use strict";function r(e,t,r,n){var o;return o=0===e?r||0:Math.pow(2,e),_.isFinite(t)&&o>t&&(o=t),_.isFinite(r)&&o<r&&(o=r),n&&(o*=1+n*Math.random()),o}e.exports={expBackoff:r}},function(e,t,r){var n=r(35).f,o=r(60),i=r(16)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){r(537);for(var n=r(23),o=r(57),i=r(71),a=r(16)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],d=0;d<5;d++){var c=s[d],u=n[c],l=u&&u.prototype;l&&!l[a]&&o(l,a,c),i[c]=i.Array}},,function(e,t,r){"use strict";var n=r(68),o={listenTo:function(e,t,r){if(!_.isObject(e))throw Error("obj is not an object");if(_.isObject(t));else if(!_.isFunction(r))throw Error("callback is not a function");n.listenTo.apply(this,arguments)},listenToOnce:function(e,t,r){if(!_.isObject(e))throw Error("obj is not an object");if(_.isObject(t));else if(!_.isFunction(r))throw Error("callback is not a function");n.listenToOnce.apply(this,arguments)}};e.exports=o},function(e,t){e.exports=!0},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){var n=Math.floor(window.performance.now());w[e]=n,r&&(w.socketSequence=t,i(),a(),s(),v.resumeJobs())}function i(){function e(e){var r=0|t[e];return r&&r-n}if(!(window.performance&&window.performance.timing&&window.performance.navigation))return void m.log("MetricReporter:logPageLoad metrics not provided by browser!","red")();var t=window.performance.timing,r=window.performance.navigation,n=0|t.navigationStart,o=(0|t.loadEventEnd)-n;return o<=0?(m.log("MetricReporter:logPageLoad delayed","blue")(),void _.delay(i,1e4)):(b.set({webcPageLoadT:o,webcUnloadEventStart:e("unloadEventStart"),webcUnloadEventEnd:e("unloadEventEnd"),webcRedirectStart:e("redirectStart"),webcRedirectEnd:e("redirectEnd"),webcFetchStart:e("fetchStart"),webcDomainLookupStart:e("domainLookupStart"),webcDomainLookupEnd:e("domainLookupEnd"),webcConnectStart:e("connectStart"),webcConnectEnd:e("connectEnd"),webcSecureConnectionStart:e("secureConnectionStart"),webcRequestStart:e("requestStart"),webcResponseStart:e("responseStart"),webcResponseEnd:e("responseEnd"),webcDomLoading:e("domLoading"),webcDomInteractive:e("domInteractive"),webcDomContentLoadedEventStart:e("domContentLoadedEventStart"),webcDomContentLoadedEventEnd:e("domContentLoadedEventEnd"),webcDomComplete:e("domComplete"),webcLoadEventStart:e("loadEventStart"),webcLoadEventEnd:e("loadEventEnd"),webcAppcacheStatus:window.applicationCache?window.applicationCache.status:void 0,webcCached:t.fetchStart===t.domainLookupEnd,webcNavigation:r.type,webcRedirectCount:r.redirectCount,webcWsOpening:w.OPENING,webcWsPairing:w.PAIRING,webcWsSyncing:w.SYNCING,webcWsNormal:w.NORMAL,webcWsAttempts:w.socketSequence,webcQrCode:!w.SYNCING}),b.commit(),void(b=null))}function a(){if(window.performance.getEntriesByType){var e,t=window.performance.getEntriesByType("resource"),r=document.createElement("a");t.forEach(function(t){r.href=t.name,e=r.pathname+r.search+r.hash,new g.WebcResourceLoad({webcResourceName:e,webcResourceDuration:Math.round(t.duration),webcResourceCached:t.domainLookupEnd===t.fetchStart}).commit()})}}function s(){h["default"].all([y.supportsHmacSha256(),y.supportsAesCbc(),y.supportsEcdh()]).spread(function(e,t,r){new g.WebcCryptoSupport({webcHmacSha256Supported:e,webcAesCbcSupported:t,webcEcdhSupported:r}).commit()})["catch"](function(e){m.log("wam:MetricReporter:logCryptoSupport error: "+e)()})}function d(e){S=Date.now(),N=e,E={total:0,ab:0,an:0,ub:0,un:0}}function c(e,t){var r=e?t?"ab":"an":t?"ub":"un";u(r)}function u(e){if(E){var t=Date.now(),n=Math.max(t-S,0);E.total+=n,E[e]+=n,S=t,N=e}else d(e),r(10).on("js_halt_detected",l)}function l(e){Date.now()-e>S?S+=e:E[N]-=e}function p(){var e=new g.WebcWamUpload;if(E){u(N);var t=E.total;if(t>0){var r=E.an+E.ab,n=E.un+E.ub;e.set({webcTotalT:Math.ceil(E.total),webcAvailableTp:r/t,webcAvailableNormalTp:r?E.an/r:void 0,webcAvailableBbarTp:r?E.ab/r:void 0,webcUnavailableTp:n/t,webcUnavailableNormalTp:n?E.un/n:void 0,webcUnavailableBbarTp:n?E.ub/n:void 0})}d(N)}return e}var f=r(2),h=n(f),m=r(1),g=r(56),v=r(143),y=r(207),b=new g.WebcPageLoad,w={},E=void 0,S=void 0,N=void 0;e.exports={monitor:c,PageLoad:b,streamInfoChange:o,uploadEvent:p}},,function(e,t,r){"use strict";var n=r(1),o=r(68),i={getInitialState:function(){return{_observedStateIndex:0}},componentWillMount:function(){this.safeToObserve=!0},addObserver:function(e,t,r){if(!this.safeToObserve)throw n.assert(!1,"observer-mixin-race",t)(e),Error("Attempting to observe after unmount");if(!this._isObservable(e))throw Error("Attempting to observe non-observable object");this._observer||(this._observer=o.createEmitter()),this._observer.listenTo(e,t,this._cbWrapper(r)),e.isState&&e._uiObservers++},addObserverOnce:function(e,t,r){var i=this;if(!this.safeToObserve)throw n.assert(!1,"observer-mixin-race",t)(e),Error("Attempting to observe after unmount");if(!this._isObservable(e))throw Error("Attempting to observe non-observable object");this._observer||(this._observer=o.createEmitter());var a=function(){for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];i.removeObserver(e,t),r.apply(i,o)};this._observer.listenToOnce(e,t,this._cbWrapper(a)),e.isState&&e._uiObservers++},addObserverAndRun:function(e,t,r){this.addObserver(e,t,r);var n=this._cbWrapper(r);n(e,t)},removeObserver:function(e,t){if(!this._isObservable(e))throw Error("Attempting to unobserve non-observable object");this._observer&&(this._observer.stopListening(e,t),e.isState&&e._uiObservers--)},_cbWrapper:function(e){var t=this;return _.isFunction(e)?function(){t.safeToObserve&&e.apply(t,arguments)}:function(){t.safeToObserve&&t.setState({_observedStateIndex:t.state._observedStateIndex+1})}},_isObservable:function(e){return!!e&&_.isFunction(e.trigger)},componentWillUnmount:function(){if(this.safeToObserve=!1,this._observer){var e=this._observer._listeningTo;for(var t in e){var r=e[t];r.isState&&r._uiObservers--}this._observer.stopListening()}}};e.exports=i},function(e,t,r){"use strict";var n=r(1),o=r(203),i={_nativeEventSafeIsMounted:function(){return this.isMounted()&&"UNMOUNTING"!==this._compositeLifeCycleState},getEvents:function(){return this._events||(this._events=[]),this._events},regNativeListener:function(e,t,r,n){if(!_.isFunction(r))throw Error("handler is not a function");t=o.prefix(t,e);var i=this,a=function(){if(i._nativeEventSafeIsMounted())return r.apply(null,arguments)};this.getEvents().push({src:e,evnt:t,handler:r,fn:a,capture:n}),this.isMounted()&&e.addEventListener(t,a,n)},unregNativeListener:function(e,t,r,i){t=o.prefix(t,e);var a=_.matches({src:e,evnt:t,handler:r,capture:i}),s=_.find(this.getEvents(),a);s?(this._events=_.without(this._events,s),s.src.removeEventListener(s.evnt,s.fn,s.capture)):n.error("nativeEventMixin:unregNativeListener unreg could not find event:"+t)()},unregisterListeners:function(){this._events&&(this.getEvents().forEach(function(e){e.src.removeEventListener(e.evnt,e.fn,e.capture)}),delete this._events)},componentDidMount:function(){this._events&&this.getEvents().forEach(function(e){e.src.addEventListener(e.evnt,e.fn,e.capture)})},componentWillUnmount:function(){this.unregisterListeners()}};e.exports=i},,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(412),i=n(o),a=r(414),s=n(a),d=r(6),c=r(43),u=20,l=d.createClass({displayName:"Spinner",propTypes:{size:d.PropTypes.number.isRequired,stroke:d.PropTypes.number.isRequired},getDefaultProps:function(){return{size:65,stroke:4}},shouldComponentUpdate:function(e,t){return!1},render:function(){var e=this.props,t=e.size,r=e.stroke,n=e.className,o=(0,
s["default"])(e,["size","stroke","className"]),a={width:t,height:t},l=2*u+r,p="0 0 "+l+" "+l;return d.createElement("svg",(0,i["default"])({className:c("spinner-container",n),style:a,viewBox:p},o),d.createElement("circle",{className:"path",cx:l/2,cy:l/2,r:u,fill:"none",strokeWidth:r}))}});e.exports=l},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(53),i=n(o),a={getInitialState:function(){return this._timer_mixin_timers={},this._timer_mixin_seq=0,{}},componentWillUnmount:function(){var e=this._timer_mixin_timers;e&&_.values(e).forEach(function(e){e()})},safeIsMounted:function(){return this.isMounted()&&"UNMOUNTING"!==this._compositeLifeCycleState},safeInterval:function(e,t){e=e.bind===(0,i["default"])(e).bind?e.bind(this):e;var r=setInterval(e,t);return this._regTimer(function(){clearInterval(r)})},safeDelay:function(){var e,t=this,r=_.toArray(arguments),n=r.shift(),o=r.shift(),i=_.delay(function(){delete t._timer_mixin_timers[e],n.apply(t,r)},o);return e=this._regTimer(function(){clearTimeout(i)})},safeDefer:function(){var e,t=this,r=_.toArray(arguments),n=r.shift(),o=_.defer(function(){delete t._timer_mixin_timers[e],n.apply(t,r)});return e=this._regTimer(function(){clearTimeout(o)})},safeDebounce:function(e,t,r){var n,o=this,i=this._timer_mixin_timers,a=function(){delete i[n],e()},s=_.debounce(a,t,r);return function(){n&&delete i[n],s(),n=o._regTimer(s.cancel)}},clearSafeTimeout:function(e){var t=this._timer_mixin_timers[e];t&&t()},clearSafeInterval:function(e){return this.clearSafeTimeout(e)},_regTimer:function(e){var t=this._timer_mixin_timers,r=++this._timer_mixin_seq;return t[r]=function(){delete t[r],e()},r}};e.exports=a},function(e,t){"use strict";var r={focus:function(e){e.focus()}};e.exports=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r,n,o){var i=new XMLHttpRequest,a=new u["default"](function(a,s){i.onload=function(e){4===i.readyState?a(i):s(e)},i.onerror=s,i.ontimeout=s,i.onprogress=o,i.onabort=s,r instanceof FormData?(i.open(t||f.POST,e,!0),n&&(i.responseType=n),i.send(r)):r instanceof Object?(e=l.build(e,r),i.open(t||f.GET,e,!0),n&&(i.responseType=n),i.send()):(i.open(t||f.GET,e,!0),n&&(i.responseType=n),i.send())}).cancellable();return a["catch"](u["default"].CancellationError,function(){i.abort()})["catch"](_.noop),a}function i(e,t){return o(e,f.GET,null,t)}function a(e,t){return o(e,f.POST,t)}function s(e){return o(e,f.HEAD)}function d(e){return window.jsonp||(window.jsonp={}),new u["default"](function(t,r){var n=_.uniqueId("jsonp_");e+="&JsonType=callback&JsonCallback="+n;var o=document.createElement("script");o.type="text/javascript",o.src=e,o.onerror=function(e){delete window.jsonp[n],document.head.removeChild(o),r(e)},window.jsonp[n]=function(e){delete window.jsonp[n],document.head.removeChild(o),t(e)},document.head.appendChild(o)})}var c=r(2),u=n(c),l=r(80),p=r(1),f={GET:"GET",POST:"POST",HEAD:"HEAD",PUT:"PUT"},h={BLOB:"blob",ARRAY_BUFFER:"arraybuffer"};e.exports={head:s,get:i,post:a,request:o,jsonp:d,VERB:f,RESP_TYPE:h},p.exportToWindow("XHR",e.exports)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(2),i=n(o),a=r(70),s=r(8),d=r(1),c=r(29),u=a.extend({session:{online:{type:"boolean","default":!0},_onlineCheck:"object",waitForOnline:"object",_waitForOnlinePromiseResolver:"function"},initialize:function(){this.listenTo(this,"change:online",function(){var e=this,t=this.online;if(d.log("NetworkStatus "+(t?"online":"offline"))(),t){this.waitForOnline=i["default"].resolve();var r=this._waitForOnlinePromiseResolver;r&&(this._waitForOnlinePromiseResolver=void 0,r())}else this._waitForOnlinePromiseResolver||(this.waitForOnline=new i["default"](function(t){e._waitForOnlinePromiseResolver=t}))})},checkOnline:function(){return this._onlineCheck&&this._onlineCheck.isPending()?this._onlineCheck:(d.log("NetworkStatus:checkOnline checking")(),this._onlineCheck=c.getResponseIfOnline(s.STATUS_URL).bind(this).then(function(e){var t=!!e;d.log("NetworkStatus:checkOnline response "+t)(),this.online=t,this._onlineCheck=null})["catch"](function(e){d.error("NetworkStatus:checkOnline errored! "+e)(e),this._onlineCheck=null}),this._onlineCheck)}});e.exports=new u},function(e,t,r){"use strict";function n(e){this._alarms={},this._initialize(e)}var o=r(1),i=1e4,a=3e3,s=Math.pow(2,31)-1,d=r(10);n.prototype._initialize=function(e){var t,r,n,i=this;t=(new Date).getTime(),window.setInterval(function(){r=(new Date).getTime(),n=Math.abs(r-t-e),n>a&&(_.isEmpty(i._alarms)||i._validateTimeouts(),o.log("Alarm:validate js halt detected.")(),d.jsHaltDetected(n)),t=r},e)},n.prototype._validateTimeouts=function(){var e=this;_.forEach(_.keys(this._alarms),function(t){var r=e._alarms[t];r&&(r.expiration<Date.now()?(e.clearTimeout(t),r.fn()):e.setTimeout(r.fn,r.expiration,t,!0))})},n.prototype.setTimeout=function(e,t,r,n){var i=this;if(!_.isNumber(t))return void o.log("Alarm:setTimeout:Invalid expiration: "+t)();r&&this.clearTimeout(r),r=r||_.uniqueId("alarm_timer_");var d=t-Date.now(),c=Math.min(d,s);if(d<0)return o.log("Alarm:setTimeout:Cannot set alarm in the past.")(),e(),r;var u=window.setTimeout(function(){t-Date.now()<a?(delete i._alarms[r],e()):i.setTimeout(e,t,r)},c);return this._alarms[r]={fn:e,expiration:t,timeoutId:u},n||o.log("Alarm:setTimeout:"+r+" set",this._alarms[r])(),r},n.prototype.clearTimeout=function(e){var t=this._alarms[e];t&&(window.clearTimeout(t.timeoutId),delete this._alarms[e])};var c=new n(i);o.exportToWindow("Alarm",c),e.exports=c},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var r=-1,n=_.find(e,function(e){return r++,t(e)});return void 0===n?void 0:{index:r,value:n}}function i(e){var t,r;try{t=new $(e)}catch(n){return u.error("WatchedSocket error constructing: "+n)(n),y.reject(n)}return new y(t,function(e,t){this.id=$.numSocketsAttempted++,u.log("WatchedSocket opening socket "+this.id)(),r=new m.WebcWsOpen;var n=new WebSocket(this.url);n.binaryType="arraybuffer",n.onopen=e,n.onclose=n.onerror=function(e){t(new h.SocketError(e))},this.socket=n}).cancellable()["catch"](function(e){if(u.error("WatchedSocket error on open of "+this.id+": "+e,e)(),this.socket){var t=this.socket;switch(t.readyState){case WebSocket.OPENING:t.onopen=null;case WebSocket.OPEN:t.onerror=null,t.onclose=null,t.close();break;case WebSocket.CLOSING:case WebSocket.CLOSED:t.onerror=null,t.onclose=null}}throw e}).then(function(e){u.log("WatchedSocket opened socket "+this.id)(),r.markWebcWsOpenT(),r.commit();var t=this.socket;return t.onmessage=this._onMessage.bind(this,!0),t.onerror=this._onCloseOrError.bind(this,!0),t.onclose=this._onCloseOrError.bind(this,!1),this._offlineListener=f.waitForOfflineNaive().then(this.close.bind(this,!1,"offline"))["catch"](c["default"].CancellationError,_.noop),this._pingTimer.onOrAfter(a()),this.state=k.OPEN,this})}function a(){return Math.random()*(S-E)+E}function s(){return Math.random()*(C-N)+N}var d=r(2),c=n(d),u=r(1),l=r(22),p=r(70),f=r(29),h=r(14),m=r(56),g=r(221),v=r(81),y=r(59),b=r(10),w=2e4,E=1e4,S=3e4,N=2e4,C=9e4,T=18e4,k={OPEN:"open",CLOSED:"closed"},$=p.extend({extraProperties:"reject",session:{id:"number",url:{type:"string",required:!0,allowNull:!1},onmessage:"function",onactivity:"function",timeSkew:"number",msgParser:"function",state:{type:"string",values:[k.OPEN,k.CLOSED]},error:"any",socket:"object",isQueueing:{type:"boolean","default":!0},maxQueueSize:"number",messageQueue:"array",_offlineListener:"object",_msgListeners:"array",_pingTimer:"object",_killTimer:"object"},initialize:function(){var e=this;this._msgListeners=[],this.messageQueue=[],this._pingTimer=new v(function(){return e._ping()}),this._killTimer=new v(function(){return e._killSocket()}),b.on("js_halt_detected",this._onJsHalt,this)},_onJsHalt:function(e){e>T&&(u.log("js halt longer than "+T+" ms detected, killing socket")(),this._killTimer.cancel(),this._killTimer.onOrBefore(0))},_ping:function(){this.send("?,,"),this._killTimer.onOrAfter(s())},_killSocket:function(){u.warn("WatchedSocket "+this.id+" Timeout!")(),this.close(!0,"stale")},detachCallbacks:function(){this.set({onactivity:void 0,onmessage:void 0})},send:function(e){this.cast(e),this._pingTimer.cancel(),this._killTimer.onOrAfter(s())},cast:function(e){if("open"!==this.state)throw new h.SocketNotOpen(this.state);try{this.socket.send(e)}catch(t){u.error("exception sending: "+t)(t),u.error(""+t.stack)(),l.upload("send-exception"),this.close(!0,t)}},partingSend:function(e,t,r){var n=this,o=this.socket;return new c["default"](function(i){function a(){i(void 0)}o.onclose=a,o.onerror=a,o.onmessage=function(e){var t=e.data;r&&!r(t)||i(t)},n.send(t),n._onCloseOrError(!1,e)}).timeout(w,"paringSendTimeout")["catch"](_.noop)["finally"](function(){o.onclose=void 0,o.onerror=void 0,o.onmessage=void 0,o.readyState===WebSocket.OPEN&&o.close()})},close:function(e,t){var r,n=this.socket;if(this._onCloseOrError(!!e,t||"unspecified"),n&&(r=n.readyState,r===WebSocket.OPENING||r===WebSocket.OPEN))try{n.close()}catch(o){u.error("WatchedSocket:exception closing: "+o)(o),u.error(""+o.stack)()}},_onMessage:function(e,t){if(e){this._pingTimer.onOrAfter(a()),this._killTimer.cancel();var r=t.data;if("string"==typeof r&&"!"===r.charAt(0)){var n=parseInt(t.data.slice(1),10);return n===n&&(this.timeSkew=Date.now()-n),void(this.onactivity&&this.onactivity())}this.msgParser&&(t=this.msgParser(t)),this.onactivity&&this.onactivity(t)}var i=o(this._msgListeners,function(e){return!e.filter||e.filter(t)});i?(this._msgListeners.splice(i.index,1),i.value.removed=!0,i.value.promise.force(t)):this.isQueueing?(u.warn("watchedSocket:enqueued",t)(),this.messageQueue.push(t),void 0!==this.maxQueueSize&&this.messageQueue.length>this.maxQueueSize&&this.close(!0,"Queue Overflow")):this.onmessage?this.onmessage(t):u.error("watchedSocket:dropped!",t)()},_onCloseOrError:function(e,t){if("closed"!==this.state){this.socket&&(this.socket.onclose=void 0,this.socket.onerror=void 0,this.socket.onmessage=void 0),this._offlineListener&&this._offlineListener.cancel(),u.warn("Socket "+this.id+" closing: "+t)(),b.off("js_halt_detected",this._onJsHalt,this),this._pingTimer.cancel(),this._killTimer.cancel(),this.set({state:"closed",error:e?t:void 0});var r=this._msgListeners,n=e?new h.SocketError(t):new h.SocketClosed(t);this._msgListeners=[],_.forEach(r,function(e){e.removed=!0,e.promise.cancel(n)})}},holdMessages:function(e){var t=this.isQueueing&&void 0!==e&&this.messageQueue>e;this.set({isQueueing:!0,messageQueue:this.messageQueue||[],maxQueueSize:e}),t&&this.close(!0,"Queue Overflow")},releaseMessages:function(e){var t=this;if(!this.isQueueing)return void u.error("WatchedSocket:releaseMessages not queued!")();var r=this.messageQueue;this.set({isQueueing:!1,messageQueue:void 0}),e?r.length>0&&u.error("WatchedSocket:releaseMessages dropping "+r.length+" messages.")():_.forEach(r,function(e){t._onMessage(!1,e)})},nextMessage:function(e){if("open"!==this.state&&"opening"!==this.state)return y.reject(new h.SocketNotOpen(this.state)).cancellable();if(e instanceof g&&(e=e.test.bind(e)),this.isQueueing){var t;if(e){var r=o(this.messageQueue,e);r&&(t=r.value,this.messageQueue.splice(r.index,1))}else this.messageQueue.length>0&&(t=this.messageQueue.shift());if(t)return y.resolve(t).cancellable()}var n=(new y).cancellable().forceable(),i={removed:!1,filter:e,promise:n};return this._msgListeners.push(i),n.bind(this)["catch"](function(){i.removed||(this._msgListeners=_.without(this._msgListeners,i))}),n}});$.STATE=k,$.open=i,$.numSocketsAttempted=0,e.exports=$},function(e,t,r){var n=r(88),o=r(16)("toStringTag"),i="Arguments"==n(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(r){}};e.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=a(t=Object(e),o))?r:i?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(37),o=r(527),i=r(146),a=r(150)("IE_PROTO"),s=function(){},d="prototype",c=function(){var e,t=r(145)("iframe"),n=i.length,o="<",a=">";for(t.style.display="none",r(237).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(o+"script"+a+"document.F=Object"+o+"/script"+a),e.close(),c=e.F;n--;)delete c[d][i[n]];return c()};e.exports=Object.create||function(e,t){var r;return null!==e?(s[d]=n(e),r=new s,s[d]=null,r[a]=e):r=c(),void 0===t?r:o(r,t)}},function(e,t,r){var n=r(153),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(){if(j)return e.apply(void 0,arguments);U||(U=[],window.setTimeout(function(){$=r(31),A=r(13),x=r(36),M=r(22),O=r(8),I=r(26),R=r(1),P=r(56),L=r(127),D=r(81),B=r(15),E=new D(l);for(var e=0;e<U.length;e++)U[e]();U=null,j=!0},0));var t=Array.prototype.slice.call(arguments);U.push(e.apply.bind(e,void 0,t))}}function i(e){e.commitTime?R.error("wam:commit redundant commit! "+e.$className)():(R.log("wam:commit "+e.$className,e.all)(),e.commitTime=w(),d([!0,e]))}function a(e,t){R.log("wam:set "+e.name+" = "+t)(),d([!1,e,t])}function s(){if(!H){var e=x.info();H={appVersion:O.VERSION_BASE,platform:P.PLATFORM_TYPE.WEBCLIENT,browser:e.name||null,browserVersion:e.ua||null,deviceName:e.os||null,webcPhonePlatform:Store.Conn.platformField||null,webcEnv:P.WEBC_ENV_CODE.PROD,webcWebPlatform:P.WEBC_WEB_PLATFORM_TYPE["web".toUpperCase()]},R.log("wam:initialize",H)(),P.Global.commitOnSet=!1,P.Global.set(H),P.Global.commitOnSet=!0,B.clearWamBuffer_old(),B.clearWamStatus_old(),B.clearWamLastRotate_old(),B.clearWamDimensionCache_old()}}function d(e){F.push(e),G&&E.onOrBefore(q)}function c(){R.log("wam pause processing")(),G=!1,E.cancel()}function u(){R.log("wam enable processing")(),G=!0,F.length>0&&E.onOrBefore(q)}function l(){c(),k["default"].resolve(F).then(function(e){s(),R.log("wam:executePending "+e.length+" jobs")(),S||(S=new p(H));for(var t=0;t<e.length;t++){var r=e[t];if(r[0])S.write(r[1]);else{var n=r[1],o=r[2];H[n.name]=o,S.set(-n.id,o)}}var i=w();if(S.bufferLength>0&&(S.bufferLength>O.WAM_MAX_BUFFER_SIZE||i>Y+O.WAM_ROTATE_INTERVAL||!K)){if(!B.getLoginTokens().server)return R.log("wam:executePending wam unauthed, didn't send")(),S.bufferLength>O.WAM_MAX_BUFFER_SIZE?(S=null,R.log("wam:executePending abandoned current buffer")(),k["default"].resolve()):v();var a=L.uploadEvent();return a.commitTime=i,R.log("wam:executePending commit upload",a.all)(),S.write(a),y()}return v()})["catch"](function(e){R.error("wam:executePending error "+(e&&e.stack?e.stack:e))(e),M.upload("wam-error"),S=null}).then(u,u),F=[]}function p(e){this.buffer=[],this.bufferLength=0,this.prevValues={},this.dirtyGlobals=null,this.unsavedPortion=null,this.saveKey=1e9*Math.random()|0,e&&this.setAll(e)}function f(e){var t=A.newOfCapacity(10+e.length);t.littleEndian=!0,t.write("WASTATS",2);for(var r=JSON.parse("["+e+"]"),n=0;n<r.length;n++){var o=r[n],i=o[0];i>0?h(t,i,o[1]):m(t,-i,o[1],z)}return t}function h(e,t,r){for(var n=0;n<r.length;n++){var o=r[n];m(e,o[0],o[1],Q)}m(e,t,r.length,V)}function m(e,t,r,n){if(null===r&&n===z)g(e,t,n);else if(r===(0|r))0===r?g(e,t,16|n):1===r?g(e,t,32|n):-128<=r&&r<128?(g(e,t,48|n),e.writeInt8(r)):-32768<=r&&r<32768?(g(e,t,64|n),e.writeInt16(r)):(g(e,t,80|n),e.writeInt32(r));else if("number"==typeof r)g(e,t,112|n),e.writeFloat64(r);else if("string"==typeof r){for(var o=0,i=0;i<r.length;i++){var a=r.charCodeAt(i);55296<=a&&a<56320&&(a=((1023&a)<<10|1023&r.charCodeAt(++i))+65536),a<128?o++:o+=a<2048?2:a<65536?3:4}o<256?(g(e,t,128|n),e.writeUint8(o)):o<65536?(g(e,t,144|n),e.writeUint16(o)):(g(e,t,160|n),e.writeUint32(o)),e.writeString(r)}else null===r&&g(e,t,176|n)}function g(e,t,r){t<256?(e.writeUint8(r),e.writeUint8(t)):(e.writeUint8(4|r),e.writeUint16(t))}function v(){var e=S.stringBuffer();if(!e)return k["default"].resolve();var t=S.unsavedPortion;if(t&&0===t.bufferLength)return k["default"].resolve();var r=S.saveKey,n={key:r,buffer:e},o=void 0;return o=t?I.idb().then(function(e){return e.wam.update(r,n)}).then(function(e){return 0===e?(S=S.unsavedPortion,R.log("wam:save other tab claimed buffer, cutting head")(),v()):(R.log("wam:save successfully updated "+r)(),void(S.unsavedPortion=new p(H)))}):I.idb().then(function(e){return e.wam.add(n,r)}).then(function(){R.log("wam:save successfully saved new entry "+r)(),S.unsavedPortion=new p(H)}),o["catch"](function(e){R.warn("wam:save indexeddb failed to save "+e)(e)})}function y(){var e={};return I.idb().then(function(t){return t.wam.toCollection().modify(function(t){e[t.key]=t.buffer,delete this.value})})["catch"](function(e){R.warn("wam:sendAllLogs failed to read because "+e)(e)}).then(function(){return S&&(!S.unsavedPortion||S.saveKey in e||(S=S.unsavedPortion),e[S.saveKey]=S.stringBuffer()),k["default"].all(_.map(e,b))}).then(function(t){var r=_.filter(t);if(r.length!==t.length&&(Y=w(),K=!0),S&&_.indexOf(r,S.saveKey)===-1&&(S=null),0===r.length)return k["default"].resolve();var n=_.reduce(r,function(t,r){return t+e[r].length},0);return n<O.WAM_MAX_BUFFER_SIZE?I.idb().then(function(t){return k["default"].all(_.map(r,function(r){return t.wam.add({key:r,buffer:e[r]},r).then(_.noop,_.noop)}))}):(S=null,void R.error("wam dropped "+r.length+" buffers! ("+n+" bytes)",e)())})}function b(e,t){if(""===e)return k["default"].resolve(void 0);var n=r(135),o=$.encode(f(e).readByteArray());R.log("wam:sendLogs { strlen:"+e.length+", b64len:"+o.length+" }")();var i=new FormData;return i.append("t",""+w()),i.append("v",O.VERSION_BASE),i.append("tok",B.getLoginTokens().server),i.append("buffer",o),n.post(O.WAM_URL,i).uncancellable().then(function(e){if(e.status>=500)throw e.status+" response";return e})["catch"](function(e){return R.error("wam:sendLogs retry on error: "+e)(e),n.post(O.WAM_URL,i)}).then(function(e){return 200===e.status?void R.log("wam:sendLogs success")():(R.error("wam:sendLogs failure code: "+e.status)(),t)})["catch"](function(e){return R.error("wam:sendLogs failure error: "+e)(e),t})}function w(){return Math.floor(Date.now()/1e3)}var E,S,N=r(18),C=n(N),T=r(2),k=n(T),$=void 0,A=void 0,x=void 0,M=void 0,O=void 0,I=void 0,R=void 0,P=void 0,L=void 0,D=void 0,B=void 0,U=null,j=!1,W=-47,Y=0,F=[],G=!1,q=1e4,K=!1,H=null;p.prototype={setAll:function(e){for(var t in e){var r=e[t];void 0!==r&&this.set(-P.METRICS[t].id,r)}},set:function(e,t){this.dirtyGlobals||(this.dirtyGlobals={}),this.dirtyGlobals[e]=t,this.unsavedPortion&&this.unsavedPortion.set(e,t)},flushGlobals:function(){if(this.dirtyGlobals){var e=this.dirtyGlobals,t=this.prevValues;for(var r in e){var n=0|r,o=e[n];if("boolean"==typeof o?o=o?1:0:void 0===o&&(o=null),o===t[n])return;t[n]=o,this.appendToBuffer((0,C["default"])([n,o]))}this.dirtyGlobals=null}},write:function(e){var t=this.prevValues;this.appendToBuffer((0,C["default"])([W,e.commitTime])),this.flushGlobals();var r=e.all,n=[];for(var o in r){var i=P.METRICS[o].id,a=r[o];null!==a&&void 0!==a&&("boolean"==typeof a&&(a=a?1:0),0!==a&&1!==a&&a===t[i]?n.push([i,null]):(t[i]=a,n.push([i,a])))}this.appendToBuffer((0,C["default"])([e.id,n])),this.unsavedPortion&&this.unsavedPortion.write(e)},appendToBuffer:function(e){this.buffer.push(e),this.buffer.length>1?this.bufferLength+=1+e.length:this.bufferLength+=e.length},stringBuffer:function(){var e=this.buffer.join(",");return this.buffer.length>1&&(this.buffer=[e]),this.bufferLength=e.length,e}};var z=0,V=1,Q=2;e.exports=_.mapValues({commit:i,set:a,resumeJobs:u,initialize:s},o)},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(67),o=r(23).document,i=n(o)&&n(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(89),o=r(90),i=r(38),a=r(154),s=r(60),d=r(238),c=Object.getOwnPropertyDescriptor;t.f=r(47)?c:function(e,t){if(e=i(e),t=a(t,!0),d)try{return c(e,t)}catch(r){}if(s(e,t))return o(!n.f.call(e,t),e[t])}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(25),o=r(9),i=r(69);e.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*i(function(){r(1)}),"Object",a)}},function(e,t,r){var n=r(151)("keys"),o=r(109);e.exports=function(e){return n[e]||(n[e]=o(e))}},function(e,t,r){var n=r(23),o="__core-js_shared__",i=n[o]||(n[o]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,r){var n,o,i,a=r(66),s=r(522),d=r(237),c=r(145),u=r(23),l=u.process,p=u.setImmediate,f=u.clearImmediate,h=u.MessageChannel,m=0,_={},g="onreadystatechange",v=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},y=function(e){v.call(e.data)};p&&f||(p=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return _[++m]=function(){s("function"==typeof e?e:Function(e),t)},n(m),m},f=function(e){delete _[e]},"process"==r(88)(l)?n=function(e){l.nextTick(a(v,e,1))}:h?(o=new h,i=o.port2,o.port1.onmessage=y,n=a(i.postMessage,i,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(n=function(e){u.postMessage(e+"","*")},u.addEventListener("message",y,!1)):n=g in c("script")?function(e){d.appendChild(c("script"))[g]=function(){d.removeChild(this),v.call(e)}}:function(e){setTimeout(a(v,e,1),0)}),e.exports={set:p,clear:f}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(67);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(23),o=r(9),i=r(108),a=r(156),s=r(35).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,r){t.f=r(16)},function(e,t,r){var n=r(139),o=r(16)("iterator"),i=r(71);e.exports=r(9).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[n(e)]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";function n(){return b}function o(e){b=e}function i(e){w=e,E=Math.round(e/1e3)}function a(e){return void 0!==e?e+E:Math.floor(Date.now()/1e3)}function s(e){return void 0!==e?e-E:Math.floor((Date.now()-w)/1e3)}function d(e){return y.unix(e).format(b?"HH:mm":"LT")}function c(e){return y.unix(e).format("l")}function u(e,t){var r=y().startOf("day"),n=y.unix(e).startOf("day"),o=r.diff(n,"days"),i=t&&d(e);if(0===o)return t?l10n.t("web_today_at",{time:i}):l10n.t("web_today");if(1===o)return t?l10n.t("web_yesterday_at",{time:i}):l10n.t("web_yesterday");if(!t&&o<6)return y.unix(e).format("dddd");var a=c(e);return t?l10n.t("web_time_at",{date:a,time:i}):a}function l(e){var t=e+E;return t>=y().startOf("day").unix()?d(t):u(t,!1)}function p(e){return u(e+E,!1)}function f(e){return u(e+E,!0)}function h(e){return y.unix(e+E).format(b?"HH:mm, l":"LT, l")}function m(e){return d(e+E)}function _(e){var t=e+E,r=d(t),n=y.unix(t).startOf("day"),o=y().startOf("day").diff(n,"days");if(0===o)return l10n.t("web_conversation_last_seen_today",{time:r});if(1===o)return l10n.t("web_conversation_last_seen_yesterday",{time:r});if(o<6){var i=u(t,!1);return l10n.t("web_conversation_last_seen_weekday",{date:i,time:r})}var a=u(t,!1);return l10n.t("web_conversation_last_seen_date",{date:a,time:r})}function g(e){var t=y.utc(1e3*e);return t.isValid()?t.format("m:ss"):""}function v(e){var t=e.startOfDaySkew;return void 0!==t&&t>E-30&&t<E+30?e.startOfDay:(e.startOfDaySkew=E,e.startOfDay=y.unix(e.t+E).startOf("day").unix())}var y=r(0),b=!1,w=0,E=0;e.exports={getIs24Hour:n,setIs24Hour:o,setSkew:i,localUnixTime:a,globalUnixTime:s,relativeStr:l,relativeDateStr:p,relativeDateAndTimeStr:f,timeStr:h,timestampStr:m,lastSeenStr:_,durationStr:g,dayOfMsg:v}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(498),i=n(o),a=r(6),s=r(34),d=r(63),c=a.createClass({displayName:"UIE",propTypes:{displayName:a.PropTypes.string.isRequired,state:a.PropTypes.oneOf((0,i["default"])(d.State)).isRequired,popable:a.PropTypes.bool,escapable:a.PropTypes.bool,requestDismiss:a.PropTypes.func,requestFocus:a.PropTypes.func,getNode:a.PropTypes.func},getInitialState:function(){var e=this.context.uim?this.context.uim.branch(this):new d((void 0),this);return{uim:e}},getDefaultProps:function(){return{state:d.State.ACTIVE}},getChildContext:function(){return{uim:this.state.uim}},componentWillReceiveProps:function(e){this.props.state!==e.state&&(this.state.uim.state=e.state)},componentWillUnmount:function(){this.state.uim.pop(!0)},activate:function(){this.state.uim.activate()},popable:function(){return this.props.popable},escapable:function(){return this.props.escapable},requestDismiss:function(e){this.props.requestDismiss&&this.props.requestDismiss(e)},requestFocus:function(){this.props.requestFocus&&this.props.requestFocus()},getRef:function(){return this.refs.uiElement},getNode:function(){var e=this.refs.uiElement;return e&&e.getElement?s.findDOMNode(e.getElement()):s.findDOMNode(this)},render:function(){var e=this.props.children;return e?a.cloneElement(e,{ref:"uiElement"}):null}});c.State=d.State,c.contextTypes={uim:a.PropTypes.instanceOf(d)},c.childContextTypes={uim:a.PropTypes.instanceOf(d)},e.exports=c},,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(2),i=n(o),a=r(6),s=r(1),d=r(21),c=r(204),u=r(79),l=r(45),p=r(424),f=r(433),h=r(10),m=r(101),g=r(14),v=r(64).ActionToast,y=r(64).ActionType,b=r(65),w={ptt:0,audio:0,image:1,location:2,url:3,video:4,document:5},E={NONE:0,ALLOW:1,DISABLE:2,UPGRADE:3,FORWARD:4},S=u.extend({Collection:"Contact",props:{id:"string",name:"string",shortName:"string",type:{type:"string",values:["in","out"],"default":"in"},plaintextDisabled:"boolean"},session:{verificationString:"string",verificationBinary:"object",pendingAction:"number",checked:"boolean",notifyName:{type:"any","default":null},_capabilities:"object",promises:{type:"object","default":function(){return{}}}},derived:{userid:{fn:function(){return this.isUser?d.user(this.id):null}},searchName:{deps:["name"],fn:function(){return this.name?l10n.accentFold(this.name):null}},header:{deps:["name"],fn:function(){if(this.name){var e=this.name.charAt(0).toLowerCase();if(c.alpha.test(e)){var t=l10n.removeAccents(e);return S.Collator.compare(t,e)?e:t}return"#"}}},isMe:{fn:function(){return Store.Conn.me===this.id}},isUser:{fn:function(){return d.isUser(this.id)}},isGroup:{fn:function(){return d.isGroup(this.id)}},isBroadcast:{fn:function(){return d.isBroadcast(this.id)}},isPSA:{fn:function(){return d.isPSA(this.id)}},formattedShortNameWithNonBreakingSpaces:{deps:["shortName","formattedName","id"],fn:function(){if(this.id)return this.isMe?l10n.t("web_you"):this.shortName||this.formattedName.replace(/\s/g,"")}},formattedShortName:{deps:["shortName","formattedName","id"],fn:function(){if(this.id)return this.isMe?l10n.t("web_you"):this.shortName||this.formattedName}},formattedName:{deps:["name","id"],fn:function(){if(this.id){if(this.isMe)return l10n.t("web_you");var e;return this.name||(e=l10n.isRTL()?l10n.embedLTR(d.formattedUser(this.id)):d.formattedUser(this.id)),this.name||e}}},formattedUser:{deps:["name","id"],fn:function(){if(this.id)return this.name?this.name:l10n.isRTL()?l10n.embedLTR(d.formattedUser(this.id)):d.formattedUser(this.id)}},isWAContact:{deps:["type"],fn:function(){return this.isUser&&"in"===this.type}},isMyContact:{deps:["name"],fn:function(){return!!(this.isUser&&this.name&&this.name.length)}},capabilities:{cache:!1,fn:function(){var e=this;return _.isObject(this._capabilities)?i["default"].resolve(this._capabilities):this.promises.capabilitiesPromise?this.promises.capabilitiesPromise:this.isUser?this.promises.capabilitiesPromise=l.getCapabilities([this.id]).then(function(t){if(200===t.status){var r=e._capabilities=t[e.id];return r?r.jid=e.id:r=e._capabilities={jid:e.id},r}return i["default"].reject(new g.CapabilityUnknown(e.id+" status:"+t.status))})["finally"](function(){return e.promises.capabilitiesPromise=void 0}):this.isGroup||this.isBroadcast?this.promises.capabilitiesPromise=i["default"].loop(function(t){return Store.GroupMetadata.find(e.id).then(t)["catch"](g.EphemeralDrop,function(){return b.waitForSocket()})}).then(function(e){return i["default"].all(e.participants.map(function(e){return Store.Contact.get(e.id).capabilities}))}).tap(function(t){e._capabilities=t})["finally"](function(){e.promises.capabilitiesPromise=void 0}):i["default"].reject(new g.CapabilityInvalid("unknown contact type: "+this.id))}}},children:{status:p,profilePicThumb:f},initialize:function(){this.id&&(this.status=Store.Status.gadd(this.id),this.listenTo(this.status,"all",this._getEventBubblingHandler("status")),this.listenTo(h,"locale_change",function(){this.trigger("change:name",this,this.name)}),this.profilePicThumb=Store.ProfilePicThumb.gadd(this.id),this.listenTo(this.profilePicThumb,"all",this._getEventBubblingHandler("profilePicThumb")),this.pendingAction=0,this.listenTo(this,"change:pendingAction",this.onPendingActionUpdate))},onPendingActionUpdate:function(){this.pendingAction<0&&(s.log("contact:onPendingActionUpdate pendingAction value is invalid")(),this.pendingAction=0)},canBlock:function(){return m.supportsFeature(m.F.SET_BLOCK)},setBlock:function(e,t){var r=this;if(e&&Store.Blocklist.get(this.id))return i["default"].resolve();if(!e&&!Store.Blocklist.get(this.id))return i["default"].resolve();var n=l.sendSetBlock(e,[{jid:this.id}]),o=new y(e?l10n.t("action_blocking",{participant:this.formattedName}):l10n.t("action_unblocking",{participant:this.formattedName}));t=t||v.genId();var d=n.bind(this)["catch"](function(n){s.error("models:contact:setBlock dropped")(n);var o=new y(e?l10n.t("action_block_failed",{participant:r.formattedName}):l10n.t("action_unblock_failed",{participant:r.formattedName}),l10n.t("action_try_again"),r.setBlock.bind(r,e,t));return i["default"].reject(o)}).then(function(n){if(200===n.status){var o=e?l10n.t("action_blocked",{participant:r.formattedName}):l10n.t("action_unblocked",{participant:r.formattedName});return new y(o,l10n.t("action_undo"),r.setBlock.bind(r,!e,t))}if(n.status>=400){var a=new y(e?l10n.t("action_block_failed",{participant:r.formattedName}):l10n.t("action_unblock_failed",{participant:r.formattedName}));return i["default"].reject(a)}});return h.openToast(a.createElement(v,{id:t,initialAction:o,pendingAction:d})),n.bind(this).then(function(t){200!==t.status||t._duplicate||(e?Store.Blocklist.add({id:r.id}):Store.Blocklist.remove(r.id))})},isBlocked:function(){return!!Store.Blocklist.get(this.id)},findCommonGroups:function(){var e=this.id;return new i["default"](function(t,r){l.commonGroupsFind(e).then(function(e){if(200===e.status){var n=e.groups.map(function(e){return Store.Chat.get(e)}),o=_.zipObject(e.groups,n);t(o)}else s.error("models:Contact:findCommonGroups error: "+e.status)(),r(new Error("models:Contact:findCommonGroups error: "+e.status))})})},updateCommonGroups:function(e,t){var r=Store.GroupMetadata.get(t).participants,n=Store.Conn.me;return t in e?r.get(this.id)&&r.get(n)?void 0:_.omit(e,t):r.get(this.id)&&r.get(n)?(e||(e={}),e[t]=Store.Chat.get(t),e):void 0},searchMatch:function(e){return this.searchName?this.searchName.indexOf(e)>-1:!(!e||!this.userid)&&this.userid.indexOf(e)>-1},canSendEncryptedMedia:function(e,t){var r=this,n=w[e];return void 0===n?i["default"].reject(new g.CapabilityInvalid(e)):this.capabilities.then(function(o){function a(e){return e[n]===E.ALLOW}var d=_.flatten([o]);if(0===d.length)return s.assert(!1,"no-caps","given "+o)(),
i["default"].reject(new g.CapabilityUnknown("no caps"));if(_.every(d,a))return!0;var c=function(){var o=void 0;return t&&(o={},_.forEach(d,function(e){a(e)||(o[e.jid]=e[n])})),{v:i["default"].reject(new g.CapabilityUnsupported(r.id+" "+e,o))}}();return"object"==typeof c?c.v:void 0})},queryIdentity:function(){var e=this;return this.verificationBinary&&this.verificationString?i["default"].resolve():this.promises.queryIdentity?this.promises.queryIdentity:this.promises.queryIdentity=l.queryIdentity(this.id).then(function(t){e.updateIdentity(t)})["catch"](function(e){s.error("models:contact:queryIdentity error: "+e)()})["finally"](function(){e.promises.queryIdentity=null})},updateIdentity:function(e){e.status&&e.status>=400?(this.unset("verificationBinary"),this.unset("verificationString")):(this.verificationBinary=e.binary,this.verificationString=e.string)}});S.setCollator=function(e){S.Collator=window.Intl?window.Intl.Collator([e],{sensitivity:"base"}):{compare:function(e,t){return e.localeCompare(t)}}},S.Comparator=function(e,t){var r=e.id,n=t.id;if(r===Store.Conn.me)return 1;if(n===Store.Conn.me)return-1;var o=e.name,i=t.name;if(!o&&i)return 1;if(o&&!i)return-1;if(o&&i){var a=S.Collator.compare(e.header,t.header);return 0===a?S.Collator.compare(o,i):a}return r&&n?r.localeCompare(n):-1},e.exports=S},function(e,t,r){"use strict";function n(){return _.chain(s).pickBy(function(e,t){return"document"===e.msgType&&e.canSend}).keys().value().join(",")}var o=r(476),i=r(14),a=r(442),s={"text/plain":{ext:"TXT",msgType:"document",icon:"icon-doc-txt",canSend:!1},"text/rtf":{ext:"RTF",msgType:"document",icon:"icon-doc-doc",canSend:!1,signatureMimetype:"application/rtf"},"application/pdf":{ext:"PDF",msgType:"document",icon:"icon-doc-pdf",canSend:!0,signatureMimetype:"application/pdf",previewType:"pdf"},"application/msword":{ext:"DOC",msgType:"document",icon:"icon-doc-doc",canSend:!1,signatureMimetype:"application/x-msi",previewType:"msoffice"},"application/vnd.ms-excel":{ext:"XLS",msgType:"document",icon:"icon-doc-xls",canSend:!1,signatureMimetype:"application/x-msi",previewType:"msoffice"},"application/vnd.ms-powerpoint":{ext:"PPT",msgType:"document",icon:"icon-doc-ppt",canSend:!1,signatureMimetype:"application/x-msi",previewType:"msoffice"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{ext:"DOCX",msgType:"document",icon:"icon-doc-doc",canSend:!1,signatureMimetype:"application/zip",previewType:"msoffice"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{ext:"PPTX",msgType:"document",icon:"icon-doc-ppt",canSend:!1,signatureMimetype:"application/zip",previewType:"msoffice"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{ext:"XLSX",msgType:"document",icon:"icon-doc-xls",canSend:!1,signatureMimetype:"application/zip",previewType:"msoffice"},"audio/aac":{msgType:"audio"},"audio/mp4":{msgType:"audio"},"audio/amr":{msgType:"audio"},"audio/mpeg":{msgType:"audio"},"audio/ogg; codecs=opus":{msgType:"audio"},"video/mp4":{msgType:"video"},"video/3gpp":{msgType:"video"},"image/jpeg":{msgType:"image"}},d={MIMETYPES:s,DOC_MIMES:n(),EXT_TO_MIME:o(),updateDocMimes:function(e){if("*"===e)d.DOC_MIMES="*";else if(_.isString(e)){var t=e.split(",");for(var r in s){var o=s[r];"document"===o.msgType&&(_.isString(o.ext)&&t.indexOf(o.ext.toLowerCase())>-1?o.canSend=!0:o.canSend=!1)}d.DOC_MIMES=n()}},isAllowedDocumentMimetype:function(e,t){var r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];for(var n in s){var o=s[n];if("document"===o.msgType){var i=r?o.signatureMimetype:n;if(i===e&&o.canSend&&t&&t.toLowerCase().endsWith(o.ext.toLowerCase()))return n}}return!1},getExtension:function(e){var t=s[e];return t?"."+(t.ext||e.split("/")[1]).toLowerCase():""},previewType:function(e){var t=_.find(s,function(t,r){return t.previewType&&(r===e||t.signatureMimetype===e)});return t?t.previewType:void 0},getMediaMimeType:function(e,t,r){if(r)return r;var n=a(new Uint8Array(t,0,Math.min(262,t.byteLength)));if(n)return n.mime;if("image"===e)return"image/jpeg";throw new i.MediaEncryptionError("unknown mime decrypt error for type:"+e)}};e.exports=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return CryptoJS.lib.WordArray.create(new Uint8Array(e))}function i(e,t){return e instanceof ArrayBuffer||e instanceof Uint8Array||(e=new Uint8Array(e)),t instanceof ArrayBuffer||t instanceof Uint8Array||(t=new Uint8Array(t)),l.build(e,t).readBuffer()}var a=r(2),s=n(a),d=r(14),c=r(224),u=r(31),l=r(13),p=r(201),f={image:"WhatsApp Image Keys",video:"WhatsApp Video Keys",audio:"WhatsApp Audio Keys",ptt:"WhatsApp Audio Keys",document:"WhatsApp Document Keys"},h={decryptE2EMediaWithWebCrypto:function(e,t,r,n){if(t.length<10)throw new d.MediaEncryptionError("ciphertext too short: "+t.length);var o=this.computeKeys(e,r),a=o.iv,s=o.cipherKey,c=o.macKey,l={name:"HMAC",hash:{name:"SHA-256"}},f={name:"AES-CBC",iv:new Uint8Array(a)};return this.getWebCrypto().then(function(r){var o=u.encode(t.slice(-10)),h=t.slice(0,-10),m=i(a,h);return r.importKey("raw",new Uint8Array(c),l,!1,["sign"]).then(function(e){return r.sign(l,e,m)}).then(function(e){var t=u.encode(new Uint8Array(e)),r=u.encode(u.decode(t).slice(0,10));if(!r||!o||r!==o)throw new d.MediaEncryptionError("hmac fail computed: "+r+" given: "+o)}).then(function(){return r.importKey("raw",new Uint8Array(s),f,!1,["decrypt"])}).then(function(e){return r.decrypt(f,e,h)}).then(function(t){return new Blob([t],{type:p.getMediaMimeType(e,t,n)})})})["catch"](d.MediaEncryptionError,function(e){throw e})["catch"](function(e){return!(e instanceof d.MediaEncryptionError)},function(e){throw new d.MediaEncryptionError("encryption error: "+e+"; stack: "+e.stack)})},encryptE2EMediaWithWebCrypto:function(e,t,r){var n=this.computeKeys(e,r),o=n.iv,a=n.cipherKey,s=n.macKey,c={name:"HMAC",hash:{name:"SHA-256"}},u={name:"AES-CBC",iv:new Uint8Array(o)};return this.getWebCrypto().then(function(e){return e.importKey("raw",new Uint8Array(a),u,!1,["encrypt"]).then(function(r){return e.encrypt(u,r,t)}).then(function(t){var r=i(o,t);return e.importKey("raw",new Uint8Array(s),c,!1,["sign"]).then(function(t){return e.sign(c,t,r)}).then(function(e){var r=e.slice(0,10),n=i(t,r);return new Blob([n])})})})["catch"](d.MediaEncryptionError,function(e){throw e})["catch"](function(e){return!(e instanceof d.MediaEncryptionError)},function(e){throw new d.MediaEncryptionError("encryption error: "+e+"; stack: "+e.stack)})},decryptE2EMediaWithCryptoJS:function(e,t,r,n){try{if(t.length<10)throw new d.MediaEncryptionError("ciphertext too short: "+t.length);var a=this.computeKeys(e,r),s=a.iv,c=a.cipherKey,l=a.macKey,f=u.encode(t.slice(-10)),h=t.slice(0,-10),m=i(s,h),_=CryptoJS.lib.WordArray.create(m),g=CryptoJS.HmacSHA256(_,o(l)).toString(CryptoJS.enc.Base64),v=u.encode(u.decode(g).slice(0,10));if(!v||!f||v!==f)throw new d.MediaEncryptionError("hmac fail computed: "+v+" given: "+f);var y=CryptoJS.AES.decrypt({ciphertext:CryptoJS.lib.WordArray.create(h),salt:void 0},o(c),{iv:o(s),mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7}),b=u.decode(y.toString(CryptoJS.enc.Base64));return new Blob([b],{type:p.getMediaMimeType(e,b,n)})}catch(w){throw w instanceof d.MediaEncryptionError?w:new d.MediaEncryptionError("unknown decrypt error: "+w+" stack: "+w.stack)}},encryptE2EMediaWithCryptoJS:function(e,t,r){try{var n=this.computeKeys(e,r),i=n.iv,a=n.cipherKey,s=n.macKey,c=CryptoJS.AES.encrypt(CryptoJS.lib.WordArray.create(t),o(a),{iv:o(i),mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7}),l=c.iv.concat(c.ciphertext),p=CryptoJS.HmacSHA256(l,o(s));p.sigBytes=10,p.clamp();var f=c.ciphertext.concat(p),h=u.decode(f.toString(CryptoJS.enc.Base64));return new Blob([h])}catch(m){throw m instanceof d.MediaEncryptionError?m:new d.MediaEncryptionError("unknown encrypt error: "+m+" stack: "+m.stack)}},computeKeys:function(e,t){var r=f[e];if(!t||!r)throw new d.MediaEncryptionError("computeKeys fail: !!mediakey: "+!!t+" info: "+r+" type: "+e);var n=c.extractAndExpand(u.decode(t),void 0,r,112,!0);if(!n||n.length<112)throw new d.MediaEncryptionError("computeKeys:hkdf error");return{iv:n.slice(0,16),cipherKey:n.slice(16,48),macKey:n.slice(48,80),refKey:n.slice(80,112)}},getWebCryptoObject:function(){return new s["default"](function(e,t){var r=window.crypto||window.msCrypto;r?e(r):t("browser doesn't support crypto")})},getWebCrypto:function(){return this.getWebCryptoObject().then(function(e){var t=e.subtle||e.webkitSubtle;return t?t:s["default"].reject("browser doesn't support crypto.subtle")})}};e.exports=h},function(e,t){"use strict";var r="animation",n="transition",o={_normalize:function(e,t,r){var n=e.toLowerCase().indexOf(t),o=e.slice(0,n).toLowerCase();return 0===e.indexOf(t)?o+e.slice(n)+r.toLowerCase():o+e.slice(n)+r},prefix:function(e,t){var o;return 0===e.indexOf(r)?(o=e.substring(r.length),this._normalize(window.Modernizr.prefixed(r),r,o)):0===e.indexOf(n)?(o=e.substring(n.length),this._normalize(window.Modernizr.prefixed(n),n,o)):window.Modernizr.prefixed(e,t,!1)||e}};e.exports=o},function(e,t){"use strict";e.exports={alpha:new RegExp("[A-Za-z-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),mark:new RegExp("[----------------------------------------------------------------------------------------------------------]","g"),arabic:"[-------------------]"}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=this;this.assetStyle=new f("asset-style"),this.assets={},this.promises={},window.addEventListener("dpichange",function(){e.loadAssets(e.assets)["catch"](d["default"].CancellationError,_.noop)})}function i(e,t){var r=a(e);return r.then(function(r){p.idb().then(function(n){return n.assets.put({key:t,hash:_.last(e.split("/")),data:r})})["catch"](function(e){c.warn('Failed to "put" asset: '+t)(e)})}),r}function a(e){return d["default"].loop(function(t,r,n){var o=void 0;o=l.info===l.INFO.OFFLINE?u.waitForBBEvent(l,"change:info",function(e){return e.info!==l.INFO.OFFLINE}):n>0?d["default"].delay(5e3):d["default"].resolve();var i=void 0;return o.then(function(){return new d["default"](function(t,r){i=new XMLHttpRequest,i.onload=t,i.onerror=r,i.open("GET",e,!0),i.responseType="blob",i.send()})}).then(function(){return 200!==i.status?d["default"].reject("garbage error, replaced below"):void t(i.response)})["catch"](function(t){c.warn("Asset: "+_.last(e.split("/"))+" failed. Retrying...")(t)})})}var s=r(2),d=n(s),c=r(1),u=r(29),l=r(65),p=r(26),f=r(487),h=r(436),m=r(418),g={DEFAULT:"default",WEBP:"webp"},v={sprite:{"class":".icon, .icon-s, .icon-l, .icon-xl",low:{"default":r(253)},high:{"default":r(253)}},"bg-chat":{"class":".pane-chat-tile",low:{"default":r(252)},high:{"default":r(252)}},"emoji-small":{"class":".emoji",low:{"default":r(582),webp:r(583)},high:{"default":r(585),webp:r(586)}},"emoji-large":{"class":".emojik",low:{"default":r(584)},high:{"default":r(587),webp:r(588)}},"intro-connection":{"class":".intro-image",low:{"default":r(592)},high:{"default":r(591)}}},y=new d["default"](function(e){Modernizr.on("webp",e)}).then(function(e){return!(!e||!e.valueOf())}).timeout(500)["catch"](d["default"].TimeoutError,function(){return!1});o.prototype.loadInitialAssets=function(){this.loadAssets(v).then(function(){c.log("AssetLoader:loadInitialAssets complete")()})["catch"](d["default"].CancellationError,function(){c.log("AssetLoader:loadInitialAssets cancelled by more recent request.")()})},o.prototype.loadAssets=function(e){var t=this;return d["default"].all(_.map(e,function(e,r){return t.loadAsset(e,r)}))},o.prototype.loadAsset=function(e,t){var r=this,n=void 0,o=void 0,a=h.currentRes,s=t+"-"+a,u=void 0;_.isEqual(this.assets[t],e)?this.promises[t]&&_.forEach(this.promises[t],function(e,t){t!==a||e.isRejected()?e.cancel():u=e}):this.unloadAsset(t),n=window.performance.now(),this.assets[t]=e,this.promises[t]=this.promises[t]||{};var l=void 0;return l=u?u:y.cancellable().then(function(t){var r=t&&e[a][g.WEBP]?g.WEBP:g.DEFAULT;return p.idb().then(function(e){return e.assets.get(s)})["catch"](function(e){c.warn('Failed to "get" asset: '+s)(e)}).then(function(t){var n=_.last(e[a][r].split("/"));return d["default"].resolve(t&&t.hash===n&&m.validateBlob(t.data)).then(function(n){return n?t.data:i(e[a][r],s)})})}).then(function(e){return URL.createObjectURL(e)}).uncancellable(),l.then(function(t){r.assetDidLoad(e,a,t),o=window.performance.now(),c.log("Asset: "+s+" loaded: "+(o-n).toFixed(2)+"ms")()})["catch"](d["default"].CancellationError,function(){c.log("Asset load cancelled by more recent request: "+s)()}),this.promises[t][a]=l,l},o.prototype.assetDidLoad=function(e,t,r){e["class"]&&this.assetStyle.setRule(""+e["class"],{"background-image":"url('"+r+"')"}),e.onSet&&e.onSet(r)},o.prototype.isAssetLoaded=function(e){return this.assets[e]&&_.some(this.promises[e],function(e){return e.isFulfilled()})},o.prototype.unloadAsset=function(e){var t=this.promises[e];delete this.assets[e],delete this.promises[e],_.forEach(t,function(e){e.then(function(e){URL.revokeObjectURL(e)})["catch"](_.noop),e.cancel()})},e.exports=new o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=this.phone||{};e.mcc&&"string"==typeof e.mcc&&(e.mcc=parseInt(e.mcc,10)),e.mnc&&"string"==typeof e.mnc&&(e.mnc=parseInt(e.mnc,10)),u.Global.set({mcc:e.mcc||null,mnc:e.mnc||null,webcPhoneDeviceManufacturer:e.device_manufacturer||null,webcPhoneDeviceModel:e.device_model||null,webcPhoneOsBuildNumber:e.os_build_number||null,webcPhoneOsVersion:e.os_version||null,webcPhoneAppVersion:e.wa_version||null})}var i=r(2),a=n(i),s=r(6),d=r(79),c=r(15),u=r(56),l=r(1),p=r(86),f=r(45),h=r(101),m=r(14),g=r(10),v=r(196),y=r(36),b=r(64).ActionToast,w=r(64).ActionType,E=r(8),S={ANDROID:"android",BB:"bb",BBX:"bbx",IPAD:"ipad",IPHONE:"iphone",IPOD:"ipod",S40:"s40",SYMBIAN:"symbian",WP7:"wp7"},N=d.extend({props:{id:"number",ref:"string",refTTL:"number",refId:"number",wid:"string",connected:"boolean",me:"string",clientToken:"string",serverToken:"string",secret:"string",isResponse:"string",battery:"number",plugged:"boolean",lc:"string",lg:"string",is24h:"boolean",platform:"string",phone:"object",tos:"number",pushname:"string"},derived:{refExpiry:{deps:["ref","refTTL"],fn:function(){return Date.now()+this.refTTL}},locale:{deps:["lg","lc"],fn:function(){return this.lg?this.lc?this.lg+"-"+this.lc:this.lg:null}},platformField:{deps:["platform"],fn:function(){return"wp7"===this.platform?u.PLATFORM_TYPE.WP:this.platform?u.PLATFORM_TYPE[this.platform.toUpperCase()]||u.PLATFORM_TYPE.UNKNOWN:u.PLATFORM_TYPE.UNKNOWN}},tosShowCallNotification:{deps:["tos"],fn:function(){return this.tos<2}}},initialize:function(){var e=this;this.listenTo(this,"change:locale",function(e,t){l10n.setLocale(t,E.L10N_PRIORITY.PHONE)}),this.listenTo(this,"change:plugged",_.debounce(function(){u.Global.webcPhoneCharging=e.plugged},5e3,{leading:!0})),this.listenTo(this,"change:phone",o)},"delete":function(){this.clear()},handle:function(e){var t,r=e.shift();if(r.id=1,r.protoVersion){h.setVersion(r.protoVersion);var n=r.features||{},o=h.setFeatures(n);t=!!o.KEY_PARTICIPANT,f.setVersion(r.protoVersion,r.binVersion),Store.Stream.handle(["awake"])}if(r.initial){h.setPlatform(r.platform),c.setLogoutToken(r.browserToken),r.hasOwnProperty("is24h")&&v.setIs24Hour(r.is24h);var i=r.ref,a=r.serverToken,s=r.clientToken,d=r.connected;i&&d&&a&&c.setRefTok(i,a),c.setLoginTokens({client:s,server:a}),r.secret&&f.setSharedSecret(r.secret),"true"!==r.isResponse&&p.save(),"iw"===r.lg&&(r.lg="he"),r.wid&&(this.me=r.wid,Store.Contact.gadd(r.wid))}else this.connected&&t&&(l.log("models:Conn:participantChange:to:"+h.supportsFeature(h.F.KEY_PARTICIPANT))(),y.hardRefresh());this.set(r)},canSetMyPushname:function(){return h.supportsFeature(h.F.SET_PUSHNAME)},updatePushname:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],r=arguments[1];if(t=t.trim(),!t)return a["default"].reject(new m.ActionError);var n=f.setPushname(t),o=new w(l10n.t("action_pushname_setting")),i=this.pushname;r=r||b.genId();var d=n.then(function(t){return 200===t.status?new w(l10n.t("action_pushname_set"),l10n.t("action_undo"),e.updatePushname.bind(e,i,r)):t.status>=400?new w(l10n.t("action_status_set_failed")):void 0})["catch"](function(t){throw l.error("models:conn:updatePushname dropped")(t),new w(l10n.t("action_pushname_set_failed"),l10n.t("action_try_again"),e.updatePushname.bind(e,status,r))});return g.openToast(s.createElement(b,{id:r,initialAction:o,pendingAction:d})),n.then(function(r){200!==r.status||r._duplicate||(e.pushname=t)})}}),C=new N({id:1});C.PLATFORMS=S,e.exports=C},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return new Uint8Array(e.split("").map(function(e){return e.charCodeAt()}))}function i(e){var t=Array.prototype.slice.call(e);return t.map(function(e){return String.fromCharCode(e)}).join("")}var a=r(2),s=n(a),d="whatsapp is da best",c=o(d),u=r(202),l=r(1),p={name:"HMAC",hash:{name:"SHA-256"}},f={name:"AES-CBC",length:256},h={name:"ECDH",namedCurve:"P-256"},m={supportsHmacSha256:function(){return u.getWebCrypto().then(function(e){return e.generateKey(p,!1,["sign","verify"]).then(function(t){return e.sign(p,t,c).then(function(r){return e.verify(p,t,r,c)})["catch"](function(e){return l.log("CryptoSupport:HMAC-SHA256 signing failed: "+e)(),!1}).then(function(e){return e?(l.log("CryptoSupport:HMAC-SHA256 is verified")(),!0):(l.log("CryptoSupport:HMAC-SHA256 is not verified")(),!1)})["catch"](function(e){return l.log("CryptoSupport:HMAC-SHA256 verification failed: "+e)(),!1})})["catch"](function(e){return l.log("CryptoSupport:HMAC-SHA256 key generation failed: "+e)(),!1})})["catch"](function(e){return l.log("CryptoSupport:HMAC-SHA256: "+e)(),!1})},supportsAesCbc:function(){return u.getWebCrypto().then(function(e){return e.generateKey(f,!1,["encrypt","decrypt"]).then(function(t){return u.getWebCryptoObject().then(function(e){var t=e.getRandomValues(new Uint8Array(16)),r={name:"AES-CBC",iv:t};return r}).then(function(r){return e.encrypt(r,t,c).then(function(n){return e.decrypt(r,t,n)})["catch"](function(e){return l.log("CryptoSupport:AES-CBC encryption failed: "+e)(),!1}).then(function(e){return e=new Uint8Array(e),i(e)===d?(l.log("CryptoSupport:AES-CBC encryption/decryption is correct")(),!0):(l.log("CryptoSupport:AES-CBC encryption/decryption is incorrect")(),!1)})["catch"](function(e){return l.log("CryptoSupport:AES-CBC decryption failed: "+e)(),!1})})})["catch"](function(e){return l.log("CryptoSupport:AES-CBC key generation failed: "+e)(),!1})})["catch"](function(e){return l.log("CryptoSupport:AES-CBC: "+e)(),!1})},supportsEcdh:function(){return u.getWebCrypto().then(function(e){return e.generateKey(h,!1,["deriveKey"]).then(function(t){return e.generateKey(h,!1,["deriveKey"]).then(function(r){var n={name:"ECDH",namedCurve:"P-256","public":r.publicKey};return e.deriveKey(n,t.privateKey,f,!1,["encrypt","decrypt"]).then(function(e){return l.log("CryptoSupport:ECDH key derivation succeeded")(),!0})["catch"](function(e){return l.log("CryptoSupport:ECDH key derivation failed: "+e)(),!1})})["catch"](function(e){return l.log("CryptoSupport:ECDH key generation #2 failed: "+e)(),!1})})["catch"](function(e){return l.log("CryptoSupport:ECDH key generation #1 failed: "+e)(),!1})})["catch"](function(e){return l.log("CryptoSupport:ECDH: "+e)(),!1})},supportsWebCrypto:function(){return this.webCryptoPromise||(this.webCryptoPromise=s["default"].all([this.supportsHmacSha256(),this.supportsAesCbc()])),this.webCryptoPromise.spread(function(e,t){return s["default"].resolve(e&&t)})}};e.exports=m},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=x||window.location.href||"",t=e.split("/%F0%9F%8C%90/");return t.length>1?_.head(t[1].split("/")):void 0}var i=r(2),a=n(i),s=r(53),d=n(s),c=r(44),u=n(c),l=r(52),p=n(l),f=r(199),h=n(f),m=r(235),g=n(m),v=r(198),y=n(v),b=r(447),w=r(1),E=r(54),S=r(200),N=r(10),C=r(29),T=r(103),k=r(8),$=r(15),A=r(0),x=window.location.href,M=window.history&&window.history.pushState&&window.location;M&&x&&x.indexOf("/%F0%9F%8C%90/")>-1&&window.history.replaceState({},"","/");var O="en-GB",I=document.documentElement.getAttribute("dir"),R=document.getElementById("style").getAttribute("href"),P={LTR:"ltr",RTL:"rtl"},L=k.L10N_PRIORITY,D={aa:"17a23625b30a0c0de3cc4709cdca80ef",az:"29c0e82ec75e9996c111f2c4cb9fd4b1",ar:"f60616938b6a3a7c159895575885f01c",bn:"3b8d1e5748cf67b86473759f0a5edf02",ca:"eaac33bc9916f0935f2f42f117bf0d38",cs:"bdbbcd80b4223f877689d7d4e5b454ff",da:"abe4ca2ccf20fd31eb94687e1b273b45",de:"8ed2d25e4d3e1364effab7df5c346bee",el:"e5fd8cf4ccfa122392c4d41e9f436a04",en:"9d738425e20d4e82f8f3ade58072f1b4",es:"8cd8d967d2e90acb3ecd95b206dbfeb9",fa:"dc8ffc5841c9443e673a5b5aacc1a4ab",fi:"3a379181b5c0aa0a092e6344c8d8c325",fil:"42c7687878ee1a9754fee2b7fb525cc2",he:"267b5075df73633f0c842a9430f6215b",fr:"e79ad3d8a18d31f9f5911879cc70aa0d",hi:"81bcadf3fcb1834be7b3d301dccd328e",hr:"37b4df3cf81fbf6a62139f142e15abca",hu:"d45b787bc13f76a44e8e362b59218821",id:"696330420783758a17000f31a37978ed",it:"a71174a6f9862f47a6e944584f796b5a",kk:"fecddab0f1bf66aa9832d44fcc335ddd",kn:"543279f2c7281adad1ce730e12588cf6",lt:"394bc0b7c48b48d67a9171d6f50e632f",bg:"c38013e4633d5f65234135a258f8944f",lv:"a743c74e4e6912eb30e2b3995990ec8d",mk:"b9a1b551b444a53c37e7709c5fc8ad53",ml:"7fa401fdb30a833bd5a20a8993ab7c9e",mr:"1356517e5bcd12968a5086d8f0b61a43",ms:"0ac8f9a5d2e503e4608c9f49abad51ec",nb:"e7b7e69a74458f0b3c44dcf3167ff37b",nl:"9a0f35e545654b320891203ee374c1d3",pl:"3b9968d108a51c13fad36fad4fbc03af",pt:"baeb32f2be3641d6afce43d64d7eff06","pt-BR":"b903080007857e506f08906c8c7b3804",ro:"9cac8961ff383a96532899d2b93f6e72",ru:"e573d376a8af6af77b8d382141b7ffd1",sk:"fc2e8b3eb8013cb09406e99135011413",sl:"5eb25d991b6bc4e20b78e619d1d0c191",sn:"ce9b88d4bcf5e6e71bd1e8c2fceccbd9",sq:"1413c3f896683874ed0b724479939597",sv:"416160db0c0e8da9eb490d59cba8dc2a",sr:"c7f629700057d37dcecb0e3dd2f57ecb",ta:"96de735764e6beeaa21035168ca2f0bf",sw:"9e97c82e5e2abddf2ee0c918f931c6c9",tr:"c083f28353c8cbd3934f7cf29179112f",th:"010cb853bc128b1ad483a45796b0765f",uk:"34bd9f6172d3e59e486605c980734f17",uz:"27dd1c3ce6bb888890f347c33f25eb07",vi:"ed6a72d6b88086b92627859fe531d18f","zh-CN":"d74bb111a41383daf31449d31f073874","zh-TW":"d1eac827fea41b511e3c8754de1087f7"},B={"zh-tw":{longDateFormat:{LT:"Ah:mm",LTS:"Ah:m:s",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"}},"zh-cn":{longDateFormat:{LT:"Ah:mm",LTS:"Ah:m:s",L:"YYYY-MM-DD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"}},ar:{longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"}}};S.setCollator(k.L10N.DEFAULT);var U=function(e){function t(){(0,u["default"])(this,t);var e={l:k.L10N.DEFAULT,priority:L.DEFAULT};return(0,h["default"])(this,(0,d["default"])(t).call(this,e,r(254)))}return(0,y["default"])(t,e),(0,p["default"])(t,[{key:"log",value:function(e){w.log(e)()}},{key:"getLocale",value:function(){return this._locale.l}},{key:"setLocale",value:function(e,t){var r={l:this._locale.l,priority:this._locale.priority,loc:this._locale.l};this._considerLocale(r,e,t)&&r.l!==this.getLocale()&&this._fetchTranslationStrings(r).then(this._updateUI.bind(this)).then(function(){})["catch"](function(e){w.log("l10n:failed to set locale "+r.l+":")(e)})}},{key:"isLocaleSupported",value:function(e){try{return(0,g["default"])(t.prototype.__proto__||(0,d["default"])(t.prototype),"isLocaleSupported",this).call(this,e)&&(!window.Intl||_.isArray(window.Intl.Collator.supportedLocalesOf(e)))}catch(r){return!1}}},{key:"init",value:function(e){var t={l:k.L10N.DEFAULT,priority:L.DEFAULT,loc:k.L10N.DEFAULT};if(this._considerLocale(t,e,L.PREVIOUS),this._considerLocale(t,o(),L.URL),navigator.languages&&navigator.languages.length)for(var r=0;r<navigator.languages.length&&!this._considerLocale(t,navigator.languages[r],L.BROWSER);r++);this._considerLocale(t,navigator.language,L.BROWSER),this._fetchTranslationStrings(t).then(this._updateUI.bind(this)).then(function(){})["catch"](function(e){w.log("l10n:failed to set locale "+t.l+":")(e)})}},{key:"_considerLocale",value:function(e,t,r){if(!(r<e.priority)){var n=this._normalize(t);return n?(e.l=n,e.priority=r,e.loc=t,e):void 0}}},{key:"_fetchTranslationStrings",value:function(e){var t=this,n=e.l;if(this.localeStrings[n])return this._locale=e,$.setLangPref(n),this._saveToIndexedDB(n),a["default"].resolve();var o=r(26),i=void 0;return o.idb().then(function(e){return e.l10n.get(n)}).then(function(r){if(!r)throw i="l10n:strings for "+n+" not cached",w.log(i)(),i;if(t._dbHash=r.hash,r.hash!==D[n])throw i="l10n:cached strings for "+n+" outdated",w.log(i)(),i;return t.localeStrings[n]=r.t,t._locale=e,$.setLangPref(n),a["default"].resolve()})["catch"](function(r){return i||w.warn("l10n:error reading from IndexedDB")(r),t._downloadTranslationStrings(e)})}},{key:"_downloadTranslationStrings",value:function(e){var t=this,n=e.l;return this._fetchPromise&&this._fetchPromise.cancel(),this._fetchPromise=C.loopOnError(function(e){return a["default"].delay(T.expBackoff(e,12e4,1e3,.1)).then(function(){return r(444)("./"+n+"/translation.json")()})}).bind(this).cancellable().then(function(r){return t.localeStrings[n]=r,t._locale=e,$.setLangPref(n),t._saveToIndexedDB(n)})["catch"](a["default"].CancellationError,_.noop)}},{key:"_saveToIndexedDB",value:function(e){var t=this;if(e===k.L10N.DEFAULT||this._dbHash===D[e])return a["default"].resolve();var n=r(26);return n.idb().then(function(r){return r.transaction("rw",r.l10n,function(){r.l10n.clear(),r.l10n.put({key:e,hash:D[e],t:t.localeStrings[e]})})}).then(function(){t._dbHash=D[e]})["catch"](function(e){w.warn("l10n:error writing to IndexedDB")(e)})}},{key:"_updateUI",value:function(){var e=this.getLocale();S.setCollator(e);var t=[e,O].filter(function(e){return!!e});A.locale(t),this.customizeMomentLocale(A.locale());var r=this.curDir(),n=this.isRTL()?P.RTL:P.LTR;if(n!==I){if(this._loadedStyle&&r===I)return this._switchStyleDir(r,n),N.localeChange(),w.log("i10n:init Locale Updated: "+e)(),e;var o=window.performance.now();return this._loadStyle().bind(this).then(function(t){this._loadedStyle=t;var i=window.performance.now();this._switchStyleDir(r,n);var a=window.performance.now();return w.log("i10n:init style fetching:"+(i-o)+"ms")(),w.log("i10n:init style executing:"+(a-i)+"ms")(),N.localeChange(),w.log("i10n:init Locale Updated: "+e)(),e})}return this._switchStyleDir(r,n),N.localeChange(),w.log("i10n:init Locale Updated: "+e)(),e}},{key:"getSpellCheckLocale",value:function(){return this._spellCheckLocale}},{key:"_switchStyleDir",value:function(e,t){if(e!==t){var r=document.getElementById("style");t===I?(e!==I&&this._loadedStyle&&(this._loadedStyle.unuse(),E.isGecko&&r.setAttribute("href",R)),r.removeAttribute("disabled"),document.documentElement.setAttribute("dir",t)):(E.isGecko&&r.setAttribute("href",""),r.setAttribute("disabled","true"),document.documentElement.setAttribute("dir",t),this._loadedStyle.use())}}},{key:"_loadRTL",value:function(){return C.loopOnError(function(e){return a["default"].delay(T.expBackoff(e,12e4,1e3,.1)).then(function(){return r.e(1).then(function(e){return r(891)}.bind(null,r))["catch"](function(e){r.oe(e)})})})}},{key:"_loadLTR",value:function(){return C.loopOnError(function(e){return a["default"].delay(T.expBackoff(e,12e4,1e3,.1)).then(function(){return r.e(2).then(function(e){return r(890)}.bind(null,r))["catch"](function(e){r.oe(e)})})})}},{key:"_loadStyle",value:function(){return I===P.RTL?this._loadLTR():this._loadRTL()}},{key:"curDir",value:function(){return document.documentElement.getAttribute("dir")===P.RTL?P.RTL:P.LTR}},{key:"customizeMomentLocale",value:function(e){var t=B[e];t&&A.locale(e,t)}}]),t}(b);e.exports=new U},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(2),i=n(o),a=r(53),s=n(a),d=r(44),c=n(d),u=r(52),l=n(u),p=r(199),f=n(p),h=r(235),m=n(h),g=r(198),v=n(g),y=r(1),b=r(205),w=r(8),E=r(415),S=r(485),N=r(80),C=r(10),T=function(e){function t(){var e;(0,c["default"])(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(0,f["default"])(this,(e=(0,s["default"])(t)).call.apply(e,[this].concat(n)))}return(0,v["default"])(t,e),(0,l["default"])(t,[{key:"setTitleAndIcon",value:function(e){switch(e){case-1:case 0:document.title=l10n.t("whatsapp_web");break;default:document.title="("+l10n.n(e)+") "+l10n.t("whatsapp_web")}this.setIcon(e)}},{key:"setIcon",value:function(e){var t;t=e===-1?"favicon-error2":0===e?"favicon":e<10?"f0"+e:e<100?"f"+e:"f00";var r="/img/favicon/1x/"+t+".png",n="/img/favicon/2x/"+t+".png",o={low:{"default":r},high:{"default":n},onSet:function(e){var t=document.getElementById("favicon");t||(t=document.createElement("link"),t.id="favicon",t.rel="shortcut icon",document.head.appendChild(t)),t.href=e,t.type="image/png"}};b.loadAsset(o,t).then(function(){y.log("Favicon updated: "+t)()})["catch"](i["default"].CancellationError,_.noop)}},{key:"showNotification",value:function(e,r,n,o,i,a){var d,c=this;try{d=new window.Notification(E.normalizeEmoji(n),{body:E.normalizeEmoji(o),tag:a?r:e,icon:N.relToAbs(i),dir:"auto",lang:l10n.lng(),silent:!0})}catch(u){window.Notification=void 0}if(!d)return void y.log("notificationManager:showDesktopNotification: could not create Notification")();(0,m["default"])(t.prototype.__proto__||(0,s["default"])(t.prototype),"showNotification",this).call(this,e,r,d);var l=function p(){window.removeEventListener("unload",p),c.closeNotification(r)};d.onclick=function(){window.focus();var t=Store.Chat.get(e),n=a?void 0:Store.Msg.get(r);if(t){var o=n&&n!==t.msgs.last()?t.getSearchContext(n):void 0;C.openChat(t,o,!0),o&&C.focusShowMsg(r),l()}},d.onclose=l,d.onshow=function(){_.delay(l,a?w.CALL_NOTIFICATION_TIMEOUT:w.NOTIFICATION_TIMEOUT)},_.delay(l,a?w.CALL_NOTIFICATION_TIMEOUT:5*w.NOTIFICATION_TIMEOUT),window.addEventListener("unload",l)}}]),t}(S);e.exports=new T},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(){this.Type=f,this.pendingUpdate=void 0,this.pendingHardRefreshTimer=void 0,this.version=d.VERSION_BASE}var i=r(2),a=n(i),s=r(137),d=r(8),c=r(1),u=r(68),l=r(107),p=r(82),f={SILENT:"silent",SOFT:"soft",HARD:"hard"};o.prototype.updateImmediately=function(){this.update(0)},o.prototype.update=function(e,t){var n=this;c.log("AppUpdate:update: "+e+" current: "+this.version+" latest: "+t)();var o=void 0;if(_.isNumber(e))o=f.HARD;else if(e)o=f.SOFT;else{
if(this.version===t)return;o=f.SILENT}this.clearHardRefresh();var i=r(36),a=function(){i.hardRefresh(!0),n.clearHardRefresh()};if(o===f.HARD){var d=Date.now()+e;this.pendingHardRefreshTimer=s.setTimeout(function(){return Store.Stream.clientExpired=!0,n._update(t).then(a)},d)}return this._update(t).then(function(e){o!==f.SILENT&&(Store.Stream.needsUpdate=e),o===f.HARD&&(Store.Stream.couldForce&&a(),n.listenTo(Store.Stream,"change:couldForce",a))})},o.prototype._update=function(e){if(this.version!==e){if(p&&navigator.serviceWorker.controller)return this._swUpdate(e);if(window.applicationCache&&window.applicationCache.status!==window.applicationCache.UNCACHED)return this._appcacheUpdate(e)}return a["default"].resolve(this.version!==e)},o.prototype.killServiceWorker=function(){return p&&navigator.serviceWorker.controller?(c.info("Killing service worker")(),navigator.serviceWorker.ready.then(function(e){return e.unregister()}).then(function(e){return c.log("Service worker unregistration status: "+e)(),e})):a["default"].resolve()},o.prototype._swUpdate=function(e){return navigator.serviceWorker.ready.then(function(t){return new a["default"](function(r,n){function o(t){a(),c.error("Unable to update service worker to version "+e+". Error: "+t)()}function i(e){a(),r(!0)}function a(){navigator.serviceWorker.removeEventListener("error",o),navigator.serviceWorker.removeEventListener("controllerchange",i)}navigator.serviceWorker.addEventListener("error",o),navigator.serviceWorker.addEventListener("controllerchange",i),t.update().then(function(){t.installing||r(!0)})["catch"](function(e){o(e),r(!1)})})})["catch"](function(e){return c.error("Unable to update serviceworker, error: "+e)(),!1})};var h=r(29),m=r(14),g=r(103);o.prototype._appcacheUpdate=function(e){return this.pendingUpdate||this.fetch(e).then(function(){return window.applicationCache.status===window.applicationCache.UPDATEREADY?(c.info("Updater:handleUpdate:ApplicationCacheSuccess")(),!0):(c.log("Updater:handleUpdate:ApplicationNoUpdate")(),!1)})["catch"](function(e){return c.error("Updater:handleUpdate:ApplicationCacheError "+e)(e),r(22).upload("appcache-error"),!1})},o.prototype.fetch=function(e){var t=this;return this.pendingUpdate=h.loopOnError(m.ShouldLoop,function(r){return a["default"].delay(1e3*g.expBackoff(r,120,1,.1)).then(function(){return new a["default"](function(r,n){function o(){window.applicationCache.removeEventListener("updateready",a),window.applicationCache.removeEventListener("error",s),window.applicationCache.removeEventListener("noupdate",i)}function i(){o(),d.version=e,r()}function a(){o(),d.version=e,r()}function s(e){o(),n(new m.ShouldLoop("AppCache Error. Retrying..."))}var d=t;window.applicationCache.addEventListener("updateready",a),window.applicationCache.addEventListener("error",s),window.applicationCache.addEventListener("noupdate",i),window.applicationCache.status!==window.applicationCache.IDLE&&window.applicationCache.status!==window.applicationCache.UPDATEREADY||window.applicationCache.update()})})})["finally"](function(){t.pendingUpdate=void 0})},o.prototype.clearHardRefresh=function(){this.pendingHardRefreshTimer&&(s.clearTimeout(this.pendingHardRefreshTimer),this.pendingHardRefreshTimer=void 0),this.stopListening(Store.Stream,"change:couldForce")},o.prototype.restart=function(){var e=r(36);e.hardRefresh(void 0,!1)},e.exports=new o,_.extend(e.exports,u,l)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var r=S(e),n=r.names,i=r.types,a=r.meta,s=void 0,d=0;d<i.length&&!s;d++){var c=i[d];c&R&&void 0===t[n[d]]?s=[n[d]]:(c&P)===V&&t[n[d]]&&(s=o(a[d],t[n[d]]),s&&s.push(n[d]))}return s}function i(e,t,r){return"number"!=typeof e||e!==e||Math.floor(e)!==e?{path:[],error:"value must be an int, given "+$(e)}:(e<t||e>=r)&&{path:[],error:"value out of range, given "+e}}function a(e,t,r){return e?void 0:{path:[],error:"value must be "+t+", given "+$(r)}}function s(e,t){var r=S(t),n=r.names,o=r.types,i=r.meta;if(!(e instanceof t))return{path:[],error:"value not of proper class, given "+$(e)};for(var a=void 0,s=0;s<n.length&&!a;s++){var d=n[s],c=o[s],u=e[d];if(c&(I|O))if(Array.isArray(u))for(var l=i[s],p=ne[c&P],f=0;f<u.length&&!a;f++)a=p(u[f],l),a&&a.path.push(d+"["+f+"]");else a={path:[d],error:"repeated field must be array, given "+$(u)};else void 0!==u&&(a=ne[c&P](u,i[s]),a&&a.path.push(d))}return a}function d(e,t){var r=o(e,t);if(r)throw r.reverse(),new TypeError("Message missing required value this."+r.join("."))}function c(e,t){d(e,t);var r=s(t,e);if(r)throw r.path.reverse(),new TypeError("Invalid value at this."+r.path.join(".")+": "+r.error)}function u(e,t){e.writeVarInt(t)}function l(e,t){e.writeVarInt(t>=0?2*t:2*-t+1)}function p(e,t){e.writeVarInt(M.numUtf8Bytes(t)),e.writeString(t)}function f(e,t){e.writeVarInt(t.byteLength),e.writeBuffer(t)}function h(e,t){for(var r=S(t.constructor),n=r.names,o=r.fields,i=r.types,a=0;a<n.length;a++){var s=n[a],d=t[s];if(void 0!==d){oe=s;var c=o[a],u=i[a],l=u&P,p=8*c|N(u);if(u&I)e.writeVarInt(p),ae[l](e,d);else if(u&O)for(var f=ie[l],h=0;h<d.length;h++)e.writeVarInt(p),f(e,d[h]);else e.writeVarInt(p),ie[l](e,d)}}}function m(e,t){e.writeWithVarIntLength(h,t)}function _(e){var t=arguments.length<=1||void 0===arguments[1]?new M:arguments[1];return c(e.constructor,e),h(t,e),oe=void 0,t}function g(){return void 0!==oe?"Last encoded value for "+oe:"No information known"}function v(e,t){var r=t instanceof M?t:new M(t),n=y(e,r,void 0);return d(e,n),n}function y(e,t,r){var n=S(e),o=n.names,i=n.fields,a=n.types,s=n.meta;r||(r=new e);for(var d=0,c=i[0];t.size();){var u=T(t,0,4294967296,"field and enc type"),l=7&u,p=u>>>3;if(p!==c){var f=d;do++d===i.length&&(d=0),c=i[d];while(p!==c&&d!==f)}if(p===c){var h=o[d],m=a[d];k(l,m,h);var _=m&P,g=s[d];if(m&I)for(var v=t.readVarInt(),b=t.readBinary(v),w=r[h];b.size();){var E=C(h,_,b);(_!==F||g[E])&&w.push(E)}else if(_===V){var N=t.readVarInt(),$=t.readBinary(N),A=r[h];r[h]=y(g,$,A)}else{var x=C(h,_,t);(_!==F||g[x])&&(m&O?r[h].push(x):r[h]=x)}}else l===Z?t.readVarInt():l===ee?t.advance(8):l===te?t.advance(t.readVarInt()):l===re&&t.advance(4)}return r}function b(e,t){function r(t){return v(e,t)}var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];e._spec=t,e._defaults=n,e.parse=r,e.encode=_}function w(e,t,r){var n=S(t),o=n.names,i=n.types,a=n.defaults;r||(r=void 0);for(var s=0;s<o.length;s++){var d=o[s],c=r&&r[d];void 0!==c?e[d]=c:void 0!==a[s]?e[d]=a[s]:i[s]&O?e[d]=[]:e[d]=void 0}}function E(e,t,r,n,o){this.names=e,this.fields=t,this.types=r,this.defaults=n,this.meta=o}function S(e){if(e._compiledSpec)return e._compiledSpec;var t=e._spec;if(!t)throw new Error("Message Class "+e+" does not have _spec");var r=e._defaults,n=(0,x["default"])(t),o=new Array(n.length),i=[],a=[],s=new Array(n.length);n.sort(function(e,r){return t[e][0]-t[r][0]});for(var d=0;d<n.length;d++){var c=t[n[d]];s[d]=r[n[d]];var u=c[1];if(i.push(c[0]),a.push(u),(u&P)===V)o[d]=c[2];else if((u&P)===F){var l=c[2],p=!0,f=0;for(var h in l)p&&h!==f++&&(p=!1);var m=void 0;if(p){m=[];for(var _=0;_<f;_++)m.push(!0)}else{m={};for(var g in l)m[l[g]]=!0}o[d]=m}else o[d]=null}var v=new E(n,i,a,s,o);return e._compiledSpec=v,v}function N(e){if(e&I)return te;var t=e&P;return t<=F?Z:t<=K?ee:t<=V?te:re}function C(e,t,r){switch(t){case L:return T(r,-2147483648,2147483648,e);case D:return r.readVarInt();case B:return T(r,0,4294967296,e);case U:return T(r,0,1/0,e);case j:var n=T(r,0,4294967296,e);return 1&n?-(n>>>1):n>>>1;case W:var o=r.readVarInt()/2,i=Math.floor(o);return i!==o?-i:i;case Y:return!!T(r,0,2,e);case F:return r.readVarInt();case G:return r.readUint64(!0);case q:return r.readInt64(!0);case K:return r.readFloat64(!0);case H:return r.readString(r.readVarInt());case z:return r.readBuffer(r.readVarInt());case Q:return r.readUint32(!0);case X:return r.readInt32(!0);case J:return r.readFloat32(!0)}}function T(e,t,r,n){var o=e.readVarInt();if(o<t||o>=r)throw new Error("FormatError: "+n+" encoded with out-of-range value "+o);return o}function k(e,t,r){if(e!==N(t))throw new Error("FormatError: "+r+" encoded with wire type "+e)}function $(e){return"string"==typeof e?'"'+e+'"':Array.isArray(e)?"["+e.join(", ")+"]":""+e}var A=r(46),x=n(A),M=r(13),O=64,I=128,R=256,P=31,L=1,D=2,B=3,U=4,j=5,W=6,Y=7,F=8,G=9,q=10,K=11,H=12,z=13,V=14,Q=15,X=16,J=17,Z=0,ee=1,te=2,re=5,ne=[void 0,function(e){return i(e,-2147483648,2147483648)},function(e){return i(e,-0x8000000000000000,0x8000000000000000)},function(e){return i(e,0,4294967296)},function(e){return i(e,0,0x10000000000000000)},function(e){return i(e,-2147483648,2147483648)},function(e){return i(e,-0x8000000000000000,0x8000000000000000)},function(e){return a("boolean"==typeof e,"boolean",e)},function(e,t){return a("number"==typeof e&&t[e],"in enum",e)},function(e){return i(e,0,0x10000000000000000)},function(e){return i(e,-0x8000000000000000,0x8000000000000000)},function(e){return a("number"==typeof e,"number",e)},function(e){return a("string"==typeof e,"string",e)},function(e){return a(e instanceof ArrayBuffer||e instanceof Uint8Array,"ArrayBuffer or Uint8Array",name,e)},s,function(e){return i(e,0,4294967296)},function(e){return i(e,-2147483648,2147483648)},function(e){return a("number"==typeof e,"number",e)}],oe=void 0,ie=[void 0,u,u,u,u,l,l,function(e,t){e.writeVarInt(t?1:0)},u,function(e,t){e.writeUint64(t,!0)},function(e,t){e.writeInt64(t,!0)},function(e,t){e.writeFloat64(t,!0)},p,f,m,function(e,t){e.writeUint32(t,!0)},function(e,t){e.writeInt32(t,!0)},function(e,t){e.writeFloat32(t,!0)}],ae=ie.map(function(e){function t(t,r){for(var n=0;n<r.length;n++)e(t,r[n])}if(e)return function(e,r){e.writeWithVarIntLength(t,r)}});e.exports={encode:_,encodeErrorInfo:g,decode:v,defineProtobufClass:b,construct:w}},function(e,t,r){e.exports={"default":r(506),__esModule:!0}},function(e,t,r){var n=r(88);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){"use strict";var n=r(108),o=r(25),i=r(245),a=r(57),s=r(60),d=r(71),c=r(523),u=r(104),l=r(243),p=r(16)("iterator"),f=!([].keys&&"next"in[].keys()),h="@@iterator",m="keys",_="values",g=function(){return this};e.exports=function(e,t,r,v,y,b,w){c(r,t,v);var E,S,N,C=function(e){if(!f&&e in A)return A[e];switch(e){case m:return function(){return new r(this,e)};case _:return function(){return new r(this,e)}}return function(){return new r(this,e)}},T=t+" Iterator",k=y==_,$=!1,A=e.prototype,x=A[p]||A[h]||y&&A[y],M=x||C(y),O=y?k?C("entries"):M:void 0,I="Array"==t?A.entries||x:x;if(I&&(N=l(I.call(new e)),N!==Object.prototype&&(u(N,T,!0),n||s(N,p)||a(N,p,g))),k&&x&&x.name!==_&&($=!0,M=function(){return x.call(this)}),n&&!w||!f&&!$&&A[p]||a(A,p,M),d[t]=M,d[T]=g,y)if(E={values:k?M:C(_),keys:b?M:C(m),entries:O},w)for(S in E)S in A||i(A,S,E[S]);else o(o.P+o.F*(f||$),t,E);return E}},function(e,t){},function(e,t){"use strict";var r={L10N:{DEFAULT:"en"}};e.exports=r},function(e,t){"use strict";var r={STREAM_END:2,LIST_EMPTY:0,DICTIONARY_0:236,DICTIONARY_1:237,DICTIONARY_2:238,DICTIONARY_3:239,LIST_8:248,LIST_16:249,JID_PAIR:250,BINARY_8:252,BINARY_20:253,SINGLE_BYTE_MAX:256};e.exports=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return(0,c["default"])(_.pick(e,["message","filename","lineno","colno"]))}function i(e){return new Uint8Array(u.decode(e.toString(CryptoJS.enc.Base64)))}var a=r(2),s=n(a),d=r(18),c=n(d),u=r(31),l=r(13),p=r(202),f=r(207),h=r(798),m=r(14),g=r(1),v=r(489),y=r(86),b={getKeys:function(){var e=y.get().encKey.toString(CryptoJS.enc.Base64),t=y.get().macKey.toString(CryptoJS.enc.Base64);return{enc:CryptoJS.enc.Base64.parse(e),mac:CryptoJS.enc.Base64.parse(t)}},encryptWithWebCrypto:function(e){var t=this;return p.getWebCrypto().then(function(r){var n=new Uint8Array(16);window.crypto.getRandomValues(n);var o=t.getKeys(),a={name:"HMAC",hash:{name:"SHA-256"}},s={name:"AES-CBC",iv:n};return r.importKey("raw",i(o.enc),s,!1,["encrypt"]).then(function(t){return r.encrypt(s,t,e)}).then(function(e){var t=l.build(n.buffer,e).readBuffer();return r.importKey("raw",i(o.mac),a,!1,["sign"]).then(function(e){return r.sign(a,e,t)}).then(function(e){return l.build(e,t).readBuffer()})})})},decryptWithWebCrypto:function(e){var t=this;return p.getWebCrypto().then(function(r){var n=u.encode(e.slice(0,32)),o=e.slice(32),a=e.slice(32,48),s=e.slice(48),d=t.getKeys(),c={name:"HMAC",hash:{name:"SHA-256"}},l={name:"AES-CBC",iv:new Uint8Array(a)};return r.importKey("raw",i(d.mac),c,!1,["sign"]).then(function(e){return r.sign(c,e,o)}).then(function(e){var t=u.encode(new Uint8Array(e));if(n!==t)throw g.error("bp:03:decryptWithWebCrypto HMAC don't match "+n+" vs. "+t)(),new Error("decryptWithWebCrypto HMAC mismatch")}).then(function(){return r.importKey("raw",i(d.enc),l,!1,["decrypt"])}).then(function(e){return r.decrypt(l,e,s)})})},encryptWithCryptoJS:function(e){var t=this;return new s["default"](function(r,n){var o=new h;o.onmessage=r,o.onerror=n;var i=t.getKeys(),a=new Uint32Array(4);window.crypto.getRandomValues(a),o.postMessage({command:"encrypt",ab:e,encKey:i.enc.toString(CryptoJS.enc.Base64),macKey:i.mac.toString(CryptoJS.enc.Base64),ivBuf:a})})["catch"](function(e){throw new Error(o(e))}).then(function(e){return e.data})},decryptWithCryptoJS:function(e){var t=this;return new s["default"](function(r,n){var o=new h;o.onmessage=r,o.onerror=n;var i=t.getKeys();o.postMessage({command:"decrypt",ab:e,encKey:i.enc.toString(CryptoJS.enc.Base64),macKey:i.mac.toString(CryptoJS.enc.Base64)})})["catch"](function(e){throw new Error(o(e))}).then(function(e){return e.data})},encrypt:function(e){var t=this;if(!e)throw new Error("Missing ArrayBuffer in cryptoAsync:encrypt");var r=f.supportsWebCrypto().then(function(r){return r?t.encryptWithWebCrypto(e)["catch"](function(r){return g.error("binaryProtocol:03:encrypt retrying with CryptoJS after "+r)(),t.encryptWithCryptoJS(e)}):t.encryptWithCryptoJS(e)});return this._encryptQueue.enqueue(r)},decrypt:function(e){var t=this;if(!e)throw new Error("Missing ArrayBuffer in cryptoAsync:decrypt");var r=f.supportsWebCrypto().then(function(r){return r?t.decryptWithWebCrypto(e)["catch"](function(r){return g.error("binaryProtocol:03:decrypt retrying with CryptoJS after "+r)(),t.decryptWithCryptoJS(e)}):t.decryptWithCryptoJS(e)});return this._decryptQueue.enqueue(r)},dropAllBecauseLogout:function(){var e=new m.LogoutDrop("cancelled binary protocol call");this._encryptQueue.cancelAll(e),this._decryptQueue.cancelAll(e)},_encryptQueue:new v,_decryptQueue:new v};e.exports=b},function(e,t){"use strict";var r={STREAM_END:2,LIST_EMPTY:0,DICTIONARY_0:236,DICTIONARY_1:237,DICTIONARY_2:238,DICTIONARY_3:239,LIST_8:248,LIST_16:249,JID_PAIR:250,BINARY_8:252,BINARY_20:253,BINARY_32:254,NIBBLE_8:255,SINGLE_BYTE_MAX:256,NIBBLE_MAX:254};e.exports=r},function(e,t){"use strict";var r={STREAM_END:2,LIST_EMPTY:0,DICTIONARY_0:236,DICTIONARY_1:237,DICTIONARY_2:238,DICTIONARY_3:239,LIST_8:248,LIST_16:249,JID_PAIR:250,HEX_8:251,BINARY_8:252,BINARY_20:253,BINARY_32:254,NIBBLE_8:255,SINGLE_BYTE_MAX:256,PACKED_MAX:254};e.exports=r},function(e,t){"use strict";function r(e){var t=[],r=!1,o=0;_.each(e,function(e,i){function a(e){return e.hasOwnProperty(i)&&s(e[i])}if(e===_)return void(r=!0);o++;var s=n(e);t.push(a)});var i=_.reduceRight(t,function(e,t){return e?function(r){return t(r)&&e(r)}:t});return function(e){if("object"!=typeof e)return!1;var t=_.keys(e).length;return!(t<o)&&(!(!r&&t>o)&&i(e))}}function n(e){switch(typeof e){case"object":return r(e);case"function":return e;case"boolean":case"null":case"undefined":case"number":case"string":return function(t){return t===e}}}function o(e){this.predicate=n(e)}o.ANY=_.constant(!0),o.OBJECT=_.isObject,o.STRING=_.isString,o.BOOLEAN=_.isBoolean,o.prototype={test:function(e){return this.predicate(e)}},e.exports=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(2),i=n(o),a=r(44),s=n(a),d=r(52),c=n(d),u=r(12),l=r(137),p=r(29),f=r(1),h=r(15),m=6e5,g={INIT:"init",PING:"ping",PONG:"pong",TAKEOVER:"local-takeover"},v=function(){function e(){(0,s["default"])(this,e)}return(0,c["default"])(e,[{key:"init",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?0:arguments[0];if(t+=1,t>3)return i["default"].resolve(!0);var r=h.getNoTakeover();return h.setNoTakeover(),u.preload(),this._pingForOtherLocalSession().then(function(n){return n?(h.maybeMigrate(),e._updateMutex(),u.launch(!r),!1):!!r||i["default"].reject(t)})}},{key:"takeoverLocal",value:function(e){return h.compareVersion()<0||Store.Stream.needsUpdate?(f.log("app:takeoverLcal stale client: "+h._version()+" ls: "+h._getLSVersion())(),document.location.reload(!0),i["default"].resolve()):h.getMutex()?(h.setMutex(g.TAKEOVER),p.waitForEvent(window,"storage",h.takeoverFilter).bind(this).timeout(3e4,"takeoverLocalTimeout").then(function(t){var r=h.parseTakeover(t.newValue);return h.getRememberMe()||h._setAllKeyValues(r),u.mustExitLoop=!1,h.removeMutex(),this.init(e)})["catch"](i["default"].TimeoutError,function(t){return f.error("app:takeoverLocal timeout")(),u.mustExitLoop=!1,h.removeMutex(),this.init(e)})):this.init(e)}},{key:"unloadMutex",value:function(){var e=h.getMutex();e&&this._ourMutex&&e.indexOf(this._ourMutex)>-1&&h.removeMutex()}},{key:"storagePong",value:function(e){if(h.mutexFilter(e)){var t=h.parseMutex(e.newValue);if(t)return t===g.TAKEOVER?(this._clearMutexTimer(),u.exitLoop(),h.localTakeoverSuccess(),!0):void(0===t.indexOf(g.PING)&&h.setMutex(g.PONG+Math.random()))}}},{key:"_clearMutexTimer",value:function(){this._updateMutexTimerID&&l.clearTimeout(this._updateMutexTimerID)}},{key:"_updateMutex",value:function(){this._clearMutexTimer();var e=Date.now();h.setMutex(this._ourMutex=g.INIT+"_"+e),this._updateMutexTimerID=l.setTimeout(this._updateMutex.bind(this),e+m)}},{key:"_pingForOtherLocalSession",value:function(){var e=h.getMutex();if(e){e+="";var t=1e4;if(e.indexOf("_")>0&&(e=parseInt(_.last(e.split("_")),10),_.isFinite(e))){var r=Date.now()-1.5*m;e<r&&(f.log("app:_pingForOtherLocalSession stale mutex")(),t=1e3)}var n=p.waitForEvent(window,"storage",h.mutexFilter).timeout(t,"waitForOtherLocalSessionTimeout")["return"](!1)["catch"](i["default"].TimeoutError,function(e){return f.error("app:_pingForOtherLocalSession mutex timeout")(),!0});return h.setMutex(g.PING+Math.random()),n}return i["default"].resolve(!0)}}]),e}();e.exports=new v},function(e,t,r){"use strict";function n(){c||(c=r(800))}function o(e){var t=void 0;return void 0===e?(t=new Uint8Array(32),window.crypto.getRandomValues(t)):t=new Uint8Array(e),t[0]&=248,t[31]&=127,t[31]|=64,d({pubKey:32,privKey:t,basepoint:u},function(e){var r=c._curve25519_donna(e.pubKey,e.privKey,e.basepoint);if(r)throw new Error("Curve25519:keyPair Error Code "+r);return{pubKey:s(e.pubKey,32),privKey:t.buffer}})}function i(e,t){return d({sharedKey:32,pubKey:e,privKey:t},function(e){var t=c._curve25519_donna(e.sharedKey,e.privKey,e.pubKey);if(t)throw new Error("Curve25519:sharedSecret Error Code "+t);return s(e.sharedKey,32)})}function a(e){if("number"==typeof e)return c._malloc(e);var t=new Uint8Array(e.buffer||e),r=c._malloc(t.length);return c.HEAPU8.set(t,r),r}function s(e,t){var r=new Uint8Array(t);return r.set(c.HEAPU8.subarray(e,e+t)),r.buffer}function d(e,t){n();var r={};try{for(var o in e)r[o]=a(e[o]);return t(r)}finally{for(var i in r)c._free(r[i])}}var c,u=new Uint8Array(32);u[0]=9,e.exports={keyPair:o,sharedSecret:i}},function(e,t,r){"use strict";function n(e){return"string"==typeof e?e:CryptoJS.lib.WordArray.create(new Uint8Array(e))}function o(e,t){return d.decode(e.toString(CryptoJS.enc.Base64),!!t)}function i(e){var t=arguments.length<=1||void 0===arguments[1]?new Uint8Array(c):arguments[1],r=arguments[2];return o(CryptoJS.HmacSHA256(n(e),n(t)),r)}function a(e,t,r,i){if(r<0||r>255*c)return null;var a=n(e),s=n(t),d=Math.ceil(r/c),u=new Array(d+1);u[0]="";for(var l=new Uint8Array(1),p=0;p<d;p++){l[0]=p+1;var f=CryptoJS.algo.HMAC.create(CryptoJS.algo.SHA256,a);f.update(u[p]),f.update(s),f.update(n(l)),u[p+1]=f.finalize()}for(var h=new Uint8Array(r),m=0,_=0;m<d;m++)for(var g=new Uint8Array(o(u[m+1])),v=0;v<c&&_<r;v++,_++)h[_]=g[v];return i?Array.prototype.slice.call(h):h.buffer}function s(e,t,r,n,o){return a(i(e,t),r,n,o)}var d=r(31),c=32;e.exports={extract:i,expand:a,extractAndExpand:s}},function(e,t,r){"use strict";function n(){var e=this.onTimeout;return e?(this.failGeneration++,void(e(this)&&this._run(!1))):(i.error("Watchdog timed-out without handler!")(),void a.upload("watchdog-no-handler"))}function o(e,t,r){return"number"==typeof r?function(n){switch(n.failGeneration){case 0:return Math.min(r,t);case 1:return Math.min(r,e+t);default:return Math.min(r,n.waitDuration+n.prevWaitDuration)}}:function(r){switch(r.failGeneration){case 0:return t;case 1:return e+t;default:return r.waitDuration+r.prevWaitDuration}}}var i=r(1),a=r(22),s=r(70),d=r(81),c=s.extend({session:{failGeneration:{type:"number",allowNull:!1,"default":0},ts:"number",waitDuration:{type:"number",allowNull:!1,"default":0},prevWaitDuration:{type:"number",allowNull:!1,"default":0},jitter:{type:"number","default":0},shiftTimer:"object",waitAlgorithm:{type:"function",required:!0,allowNull:!1},onActivated:"function",onDeactivated:"function",onFed:"function",onTimeout:"function"},initialize:function(){var e=this;this.shiftTimer=new d(function(){return n.call(e)})},activate:function(){this.shiftTimer.ts||(this._run(!0),this.onActivated&&this.onActivated(this))},deactivate:function(){this.shiftTimer.ts&&(this.shiftTimer.cancel(),this.onDeactivated&&this.onDeactivated(this))},feed:function(){this.shiftTimer.ts&&(this._run(!0),this.onFed&&this.onFed(this))},forceTimeout:function(e){this.shiftTimer.ts?e?this.ts=this.shiftTimer.onOrBefore(e):this.shiftTimer.forceRun():i.error("forced non-running watchdog!")()},poke:function(){this.forceTimeout.apply(this,arguments)},_run:function(e){e&&(this.failGeneration=0);var t=this.waitAlgorithm(this),r=this.jitter*Math.random()*t;this.set({ts:this.shiftTimer.debounce(t+r),waitDuration:t,prevWaitDuration:this.waitDuration})}});c.FIBONACCI=o,e.exports=c},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(t){return"number"==typeof t.status&&t.status>=500?t:void e(t)}}var i=r(18),a=n(i),s=r(2),d=n(s),c=r(46),u=n(c),l=r(1),p=r(14),f=r(12),h=r(31),m=r(59),g=r(21),v=r(80),y=r(85),b=r(55),w={BinaryProtocol:null,N:null,M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16},isRequestingDeviceUploadLogsMutex:0,wrap:o,wrap02:o,binWrap:function(e,t){return function(r){if("object"==typeof r&&"number"==typeof r.status){if(401===r.status)throw new p.E401;if(r.status>=500)return r;t(r)}else e(r)}},actionNode:function(e,t){return["action",{type:e},t]},queryNode:function(e,t){return["query",e,t]},dropIfConditionMet:function(e,t){return e.reduce(function(e,t){return e||t},!1)?void 0:t},actionGetMeta:function(e){var t={};if("action"!==this.N.tag(e))return t;var r=this.N.attr("add",e),n=this.N.attr("missing",e),o=this.N.attr("checksum",e);switch(r){case"unread":t.unreadId=this.N.attr("index",e),t.unreadFromMe="true"===this.N.attr("owner",e),t.unreadParticipant=this.N.attr("participant",e);case"after":case"before":case"last":t.pendingMsgsDone="true"===this.N.attr("last",e),t.resume="true"===this.N.attr("resume",e);case"relay":case"update":t.add=r}switch(n){case"remove":t.missing=n}return o&&(t.checksum=o),t},groupActionsByType:function(e){var t={};if(!_.isArray(e))return t;var r,n,o=e.length;for(n=0;n<o;n++)switch(r=e[n],this.N.tag(r)){case"broadcast":switch(this.N.attr("type",r)){case"create":case"add":case"remove":t.msg||(t.msg=[]),t.msg.push(r);break;case"modify":t.bcUpdate||(t.bcUpdate=[]),t.bcUpdate.push(r)}break;case"message":case"groups_v2":case"notification":case"call_log":case"security":t.msg||(t.msg=[]),t.msg.push(r);break;case"read":case"log":case"identity":t.cmd||(t.cmd=[]),t.cmd.push(r);break;case"received":t.ack||(t.ack=[]),t.ack.push(r);break;case"user":t.contact||(t.contact=[]),t.contact.push(r);break;case"chat":switch(this.N.attr("type",r)){case"mute":t.mute||(t.mute=[]),t.mute.push(r);break;default:t.chat||(t.chat=[]),t.chat.push(r)}break;case"battery":t.battery||(t.battery=[]),t.battery.push(r);break;default:l.errorVerbose("Wap:groupActionsByType unknown action: "+this.N.toString(r),r)()}return t},safeParseInt:function(e,t){var r=parseInt(this.N.attr(t,e),10);return _.isNaN(r)?void 0:r},parseChat:function(e){if("chat"===this.N.tag(e)){var t=this.N.attr("jid",e),r=parseInt(this.N.attr("t",e),10)||void 0,n=this.N.attr("type",e),o=parseInt(this.N.attr("mute",e),10)||void 0,i=parseInt(this.N.attr("before",e),10)||void 0,a="true"===this.N.attr("archive",e),s="true"===this.N.attr("read_only",e),d=parseInt(this.N.attr("modify_tag",e),10)||void 0,c=this.N.attr("name",e)||void 0,u=this.safeParseInt(e,"count"),l="true"===this.N.attr("message",e);"ahead"===n&&(n="clear");var p,f=this.N.children(e);if(_.isArray(f)){p=[];var h,m,g=f.length;for(h=0;h<g;h++)if(m=f[h],"item"===this.N.tag(m)){var v=this.N.attr("index",m);v&&p.push([v,"true"===this.N.attr("owner",m)])}}var y={id:t,t:r,type:n,keys:p,before:i,archive:a,isReadOnly:s,unreadCount:u,muteExpiration:o,modifyTag:d,name:c,pendingMsgs:l},b=[n&&"delete"!==n&&"clear"!==n&&"archive"!==n&&"unarchive"!==n&&"mute"!==n&&"modify_tag"!==n,!n&&!t,a&&n&&"clear"!==n,"clear"!==n&&i&&i>0,"clear"!==n&&p&&p.length>0];return this.dropIfConditionMet(b,y)}},parseContact:function(e){if("user"===this.N.tag(e)){var t=this.N.attr("jid",e),r=this.N.attr("name",e),n=this.N.attr("short",e)||void 0,o=this.N.attr("type",e)||"in",i="true"===this.N.attr("plaintext_disabled",e),a={id:t,name:r,type:o,shortName:n,plaintextDisabled:i},s=[!t,"in"!==o&&"out"!==o&&!!o];return this.dropIfConditionMet(s,a)}},parseCmd:function(e){if("read"===this.N.tag(e)){var t=this.N.attr("jid",e),r={type:"read",jid:t},n=[!t];return this.dropIfConditionMet(n,r)}},parseAck:function(e){if("received"===this.N.tag(e)){var t,r=this.N.attr("type",e),n=this.N.attr("id",e),o=this.N.attr("to",e);switch(r){case"message":t=2;break;case"read":t=3;break;case"played":t=4;break;case"error":t=-1;break;case"pending":default:t=0}var i={cmd:"ack",id:n,ack:t,from:Store.Conn.me,to:o},a=[!n,!o,"message"!==r&&"read"!==r&&"played"!==r&&"error"!==r&&"pending"!==r];return this.dropIfConditionMet(a,i)}},parseBCUpdate:function(e){if("broadcast"===this.N.tag(e)&&"modify"===this.N.attr("type",e)){var t=this.N.attr("jid",e),r=this.N.children(e),n=[];if(_.isArray(r)){var o,i,a,s=r.length;for(o=0;o<s;o++)i=r[o],a=this.N.attr("jid",i),"recipient"===this.N.tag(i)&&a&&2===a.split("@").length&&"c.us"===a.split("@")[1]&&n.push({id:a})}var d={id:t,participants:n},c=[!t,"broadcast"!==t.split("@")[1],0===n.length];return this.dropIfConditionMet(c,d)}},parseBattery:function(e){if("battery"===this.N.tag(e)){var t=Math.min(parseInt(this.N.attr("value",e),10)||-1,100),r=this.N.attr("live",e),n={battery:t<0?void 0:t,plugged:r?"true"===r:void 0},o=[t<0&&!r];return this.dropIfConditionMet(o,n)}},msgGetTarget:function(e){return e.from===Store.Conn.me?e.to:e.from},parseMsg:function(e,t){switch(this.N.tag(e)){case"message":return this.parseMsgMessage(e,t);case"groups_v2":return this.parseMsgGp2(e);case"broadcast":return this.parseMsgBroadcast(e);case"notification":return this.parseMsgNotification(e);case"call_log":return this.parseMsgCallLog(e);case"security":return this.parseMsgSecurity(e);default:return}},parseMsgMessage:function(e,t){if("message"===this.N.tag(e)){var r;this.N.attr("from",e)!==Store.Conn.me||this.N.attr("to",e)?this.N.attr("to",e)!==Store.Conn.me||this.N.attr("from",e)||(r="out"):r="in";var n,o=this.N.attr("id",e),i=parseInt(this.N.attr("t",e),10)||0,a=this.N.attr("to",e)||Store.Conn.me,s=this.N.attr("from",e)||Store.Conn.me,d="broadcast"===s.split("@")[1],c=this.N.attr("participant",e),u=d?c:s,p=d?void 0:c,f=!d&&(this.N.child("broadcast",e)&&s===Store.Conn.me),h="invis"===this.N.attr("web",e),m=this.N.attr("notify",e)||"",g=parseInt(this.N.attr("status",e))||0,v=[],y=this.N.child("broadcast",e);if("broadcast"!==a){try{var w=new b({from:u,to:a,id:o,participant:c,selfDir:r})}catch(E){return void l.error("drop: cannot create MsgKey: "+E.stack)()}switch(t){case"fresh":n=1;break;default:n=g>=-1&&g<=4?g:1}if(_.isArray(y)){var S,N=y.length;for(S=0;S<N;S++){var C=y[S],T=this.N.attr("jid",C);"to"===this.N.tag(C)&&T&&v.push(T)}}var k,$=[],A=this.N.attr("type",e);switch(A){case"ciphertext":case"text":var x=this.N.dataStr(this.N.child("body",e))||"";k={id:w,body:"text"===A?x:void 0,type:"text"===A?"chat":"ciphertext",t:i,notifyName:m,from:u,to:a,self:r,author:p,invis:h,ack:n,broadcast:f,recipients:v},$=[!o,!i,!u,!a];break;case"media":var M,O,I,R,P,L=this.N.child("media",e),D=this.N.attr("type",L),B=this.N.attr("media_key",L),U=this.N.attr("mimetype",L);if("retry"===this.N.attr("reason",L))return;switch(D){case"image":case"video":var j=this.N.attr("caption",L);M=this.thumbFromMediaXml(L),O=this.N.attr("url",L),O=_.isString(O)&&O.indexOf("/u/")>0?void 0:O,I=this.N.attr("filehash",L),R=parseInt(this.N.attr("size",L),10)||0,P=this.N.attr("seconds",L),k={id:w,body:M,type:D,t:i,notifyName:m,from:u,to:a,self:r,author:p,invis:h,ack:n,clientUrl:O,duration:P,broadcast:f,recipients:v,filehash:I,size:R,caption:j,mediaKey:B,mimetype:U},$=[!o,!i,!u,!a];break;case"location":var W=this.N.attr("latitude",L),Y=this.N.attr("longitude",L),F=this.N.attr("name",L);M=this.thumbFromMediaXml(L),O=this.N.attr("url",L),k={id:w,body:M,type:D,t:i,notifyName:m,from:u,to:a,self:r,author:p,invis:h,ack:n,clientUrl:O,loc:F,lat:W,lng:Y,broadcast:f,recipients:v},$=[!o,!i,!u,!a,!W||!Y];break;case"audio":var G="live"===this.N.attr("origin",L)?"ptt":D;O=this.N.attr("url",L),O=_.isString(O)&&O.indexOf("/u/")>0?void 0:O,I=this.N.attr("filehash",L),R=parseInt(this.N.attr("size",L),10)||0,P=this.N.attr("seconds",L),k={id:w,type:G,t:i,notifyName:m,from:u,to:a,self:r,author:p,invis:h,ack:n,clientUrl:O,duration:P,broadcast:f,recipients:v,filehash:I,size:R,mediaKey:B,mimetype:U},$=[!o,!i,!u,!a];break;case"vcard":var q=this.N.child("vcard",L),K=this.N.dataStr(q),H=this.N.attr("name",q);k={id:w,body:K,type:D,subtype:H,t:i,notifyName:m,from:u,to:a,self:r,author:p,invis:h,ack:n,broadcast:f,recipients:v},$=[!o,!i,!u,!a,!K,!H];break;default:l.error("wap:parseMsgMessage: unknown media type: "+this.N.toString(e),e)()}break;default:l.error("wap:parseMsgMessage: unknown message type: "+this.N.toString(e),e)()}return this.dropIfConditionMet($,k)}}},thumbFromMediaXml:function(e){return"raw"===this.N.attr("encoding",e)?this.N.children(e)instanceof ArrayBuffer?h.encode(this.N.children(e)):"":this.N.dataStr(e)},parseMsgGp2:function(e){if("groups_v2"===this.N.tag(e)){var t,r=parseInt(this.N.attr("t",e),10)||0,n=this.N.attr("id",e),o=this.N.attr("jid",e),i="invis"===this.N.attr("web",e),a=this.N.attr("type",e),s=this.N.attr("author",e),d=this.N.children(e),c=[];switch(a){case"create":t=this.N.attr("subject",e);break;case"subject":t=this.N.attr("subject",e);break;case"picture":t=this.N.attr("picture",e)}if(_.isArray(d)){var u,p=d.length;for(u=0;u<p;u++){var f=d[u],h=this.N.attr("jid",f);"participant"===this.N.tag(f)&&h&&c.push(h)}}var m=_.isString(s)?s.indexOf("s.whatsapp.net"):-1;m>-1&&(s=s.slice(0,m)+"c.us");try{var g=new b({from:o,to:o,id:n})}catch(v){return void l.error("drop: cannot create MsgKey: "+v.stack)()}var y={t:r,id:g,to:o,from:o,author:s,body:t?t.toString():void 0,type:"gp2",subtype:a,invis:i,recipients:c},w=[!n,!r,"subject"!==a&&"add"!==a&&"invite"!==a&&"remove"!==a&&"leave"!==a&&"picture"!==a&&"modify"!==a&&"create"!==a&&"delete"!==a&&"promote"!==a&&"demote"!==a,"subject"===a&&!t,("add"===a||"invite"===a||"remove"===a||"leave"===a||"promote"===a||"demote"===a||"modify"===a)&&0===c.length,!o,"string"==typeof o&&"g.us"!==o.split("@")[1]];
return this.dropIfConditionMet(w,y)}},parseMsgBroadcast:function(e){if("broadcast"===this.N.tag(e)){var t,r=this.N.attr("type",e),n=this.N.attr("id",e),o=parseInt(this.N.attr("t",e),10)||0,i=this.N.attr("jid",e);switch(r){case"create":t=parseInt(this.N.attr("count",e),10)||0;break;case"add":case"remove":t=this.N.attr("participant",e)}try{var a=new b({from:i,to:i,id:n})}catch(s){return void l.error("drop: cannot create MsgKey: "+s.stack)()}var d={id:a,t:o,type:"broadcast_notification",subtype:r,from:i,to:i,body:t?t.toString():void 0},c=[!n,!o,!i,"string"==typeof i&&"broadcast"!==i.split("@")[1],"create"!==r&&"add"!==r&&"remove"!==r,("add"===r||"remove"===r)&&2!==t.split("@").length];return this.dropIfConditionMet(c,d)}},parseMsgNotification:function(e){if("notification"===this.N.tag(e)){var t=this.N.attr("id",e),r=parseInt(this.N.attr("t",e),10)||0,n=this.N.attr("jid",e),o="invis"===this.N.attr("web",e),i=this.N.dataStr(e),a="true"===this.N.attr("owner",e);try{var s=new b({fromMe:a,remote:n,id:t})}catch(d){return void l.error("drop: cannot create MsgKey: "+d.stack)()}var c={id:s,type:"notification",t:r,invis:o,from:a?Store.Conn.me:n,to:a?n:Store.Conn.me,body:i},u=[!t,!r,!n,2!==n.split("@").length];return this.dropIfConditionMet(u,c)}},"delete":_.noop,error2412:_.noop,setSubProtocol:function(e){1===e?(this.BinaryProtocol=new y("01"),this.N=this.BinaryProtocol.Node):(this.BinaryProtocol=new y("03"),this.N=this.BinaryProtocol.Node)},handle:function(e,t,r){var n=this;return this.BinaryProtocol.read(e).then(function(e){var o,i,a,s,d,c,p,f;switch(n.N.tag(e)){case"response":if(0===r.indexOf("preempt"))switch(n.N.attr("type",e)){case"chat":if(l.logColor("green","bin-recv: "+r+",response,chat",e)(),i=n.N.children(e)||[],_.isArray(i)){for(s=i.length,o=[],a=0;a<s;a++)p=n.parseChat(i[a]),p&&o.push(p);Store.Chat.handle([{cmd:"preempt",response:o}],t)}break;case"contacts":if(l.logColor("green","bin-recv: "+r+",response,contact",e)(),i=n.N.children(e),_.isArray(i)){for(s=i.length,o=[],a=0;a<s;a++)d=n.parseContact(i[a]),d&&o.push(d);Store.Contact.handle([{cmd:"preempt",checksum:n.N.attr("checksum",e),response:o}],t)}break;default:l.error("Wap:handle unknown response type: "+n.N.toString(e,!0),e)()}else l.error("Wap:handle non-preemptive response: "+n.N.toString(e,!0),e)();break;case"action":var h=n.actionGetMeta(e),m=n.groupActionsByType(n.N.children(e)),g=(0,u["default"])(m);if(_.isArray(g)){var v,y,b,w,E=g.length;if(0===E&&"last"===h.add)Store.Msg.handle([{recent:!0,meta:h}]);else for(a=0;a<E;a++){y=g[a],v=m[y];var S,N=v.length;switch(y){case"msg":var C;switch(h.add){case"relay":case"update":C=n.parseMsg(v[0],"relay"),1!==N&&l.error("Wap:handle action msg relay length not 1",e)(),C?(l.logColor("green","bin-recv: "+[r,"action","msg",h.add,C.type,C.from,C.to,C.id].join(","),e,C)(),w=n.msgGetTarget(C),Store.Msg.handle([{meta:{add:h.add},chat:w,msg:C}])):l.error("Wap:handle action msg relay dropped",v[0])();break;case"last":for(b=[],S=0;S<N;S++)C=n.parseMsg(v[S],"last"),C?b.push(C):l.error("Wap:handle action msg last dropped",v[S])();if(b.length>0){l.logColor("green","bin-recv: "+[r,"action","msg","last",v.length].join(","),e,[b])();for(var T={recent:!0,meta:h},k=0;k<b.length;k++)T[n.msgGetTarget(b[k])]=b[k];Store.Msg.handle([T])}else l.error("Wap:handle action msg last dropped to 0")();break;case"before":case"after":case"unread":if(N>0){for(b=[],S=0;S<N;S++)C=n.parseMsg(v[S],h.add),C?b.push(C):l.error("Wap:handle action msg before/after dropped",v[S])();b.length>0?(w=n.msgGetTarget(b[0]),l.logColor("green","bin-recv: "+[r,"action","msg",h.add,w,b.length].join(","),e,[b])(),Store.Msg.handle([{meta:h,chat:w,msgs:b}])):l.error("Wap:handle action msg "+h.add+" dropped to 0")()}else l.error("Wap:handle action msg before/after 0 msgs")();break;default:l.error("Wap:handle action msg no meta.add",e)()}break;case"cmd":for(S=0;S<N;S++){var $=n.parseCmd(v[S]);if($){var A=_.values($).join(",");l.logColor("green","bin-recv: "+[r,"action","cmd",A].join(","),e)(),Store.Cmd.handle([$],t)}else l.error("Wap:handle action cmd invalid",e)()}break;case"bcUpdate":var x=[];for(S=0;S<N;S++){var M=n.parseBCUpdate(v[S]);M?x.push(M):l.error("Wap:handle action bc update invalid",v[S])()}l.logColor("green","bin-recv: "+[r,"action","bcUpdate",x.length].join(","),e)(),x.length>0&&Store.GroupMetadata.handle(x,t);break;case"ack":for(S=0;S<N;S++){var O=n.parseAck(v[S]);O?(l.logColor("green","bin-recv: "+[r,"action","ack",O.to,O.id,O.ack].join(","),e)(),Store.Msg.handle([O],t)):l.error("Wap:handle action ack invalid",e)()}break;case"contact":for(c=[],S=0;S<N;S++)d=n.parseContact(v[S]),d?c.push(d):l.error("Wap:handle action contact dropped",v[S])();if(l.logColor("green","bin-recv: "+[r,"action","contact",c.length,h.missing].join(","),e)(),c.length>0){var I=[c];(h.missing||h.checksum)&&I.push(h),Store.Contact.handle(I,t)}break;case"chat":for(f=[],S=0;S<N;S++)p=n.parseChat(v[S]),p?f.push(p):l.error("Wap:handle action chat dropped",v[S])();l.logColor("green","bin-recv: "+[r,"action","chat",f.length].join(","),e)(),f.length>0&&Store.Chat.handle([f],t);break;case"battery":var R=n.parseBattery(v[0]);R?(l.logColor("green","bin-recv: "+[r,"action","battery",R.battery,R.plugged].join(","),e)(),Store.Conn.handle([R],t)):l.error("Wap:handle action battery dropped",v[0])();break;case"mute":for(f=[],S=0;S<N;S++)p=n.parseChat(v[S]),p?f.push(p):l.error("Wap:handle action mute dropped",v[S])();l.logColor("green","bin-recv: "+[r,"action","mute",f.length].join(","),e)(),f.length>0&&Store.Mute.handle(f,t);break;default:l.error("Wap:handle action unknown "+y,e)()}}}break;default:l.errorVerbose("TODO "+n.N.toString(e,!0),e)()}return!0})},requestDeviceUploadLogs:function(){var e,t=this;return new d["default"](function(r,n){if(t.isRequestingDeviceUploadLogsMutex)return void r();e=++t.isRequestingDeviceUploadLogsMutex;var o=t.actionNode("debug",[["log",void 0,void 0]]),i=r;i.drop=!0,t.BinaryProtocol.write(o).then(function(e){f.send({data:e,onSend:i,onDrop:n,binaryOpts:{debugString:"debug,log",debugObj:o,metric:t.M.DEBUG_LOG,ackRequest:!0}})})["catch"](n)})["finally"](function(){e===t.isRequestingDeviceUploadLogsMutex&&(t.isRequestingDeviceUploadLogsMutex=0)})},resyncMessages:function(e){var t=this;return new m(function(r,n){var o=function(e){t.BinaryProtocol.read(e).then(function(e){var n=[],o=t.N.children(e);if(l.logColor("green","bin-recv: response,resume",e)(),"response"===t.N.tag(e)&&"resume"===t.N.attr("type",e)&&_.isArray(o)){var i,a=o.length;for(i=0;i<a;i++){var s=t.parseChat(o[i]);s&&n.push(s)}}r({checksum:t.N.attr("checksum",e),data:n})})["catch"](n)},i=e.map(function(e){var t={jid:e.wid,index:e.id,owner:e.fromMe,archive:(!!e.archive).toString()};return e.mute&&(t.mute=e.mute.toString()),e.active&&(t.active="true"),g.isGroup(e.wid)&&(t.read_only=(!!e.isReadOnly).toString()),e.modifyTag&&(t.modify_tag=e.modifyTag.toString()),e.unreadCount&&(t.count=e.unreadCount.toString()),["last",t,void 0]}),a=t.queryNode({type:"resume"},i);t.BinaryProtocol.write(a).then(function(e){f.sendEphemeral({data:e,onSend:t.binWrap(o,r),onDrop:n,binaryOpts:{debugString:"query,resume",debugObj:a,metric:t.M.QUERY_RESUME,ackRequest:!1}})})["catch"](n)})},resyncReceipts:function(e){var t=this;return new d["default"](function(r,n){var o=function(e){t.BinaryProtocol.read(e).then(function(e){var n=[],o=t.N.children(e);if(l.logColor("green","bin-recv: response,receipt",e)(),"response"===t.N.tag(e)&&"receipt"===t.N.attr("type",e)&&_.isArray(o)){var i,a,s,d=o.length;for(i=0;i<d;i++){a=o[i],s=t.N.children(a);var c=t.N.attr("jid",a),u=t.N.attr("t",a);if("receipt"===t.N.tag(a)&&c&&u&&_.isArray(s)){var p,f=[],h=s.length;for(p=0;p<h;p++){var m=s[p];if("item"===t.N.tag(m)){var g=t.N.attr("index",m),v=parseInt(t.N.attr("status",m),10)||0;g&&0!==v&&v<=4&&f.push([g,!0,void 0,v])}}f.length>0&&n.push({id:c,t:parseInt(u,10),acks:f})}}}r(n)})["catch"](n)},i=e.map(function(e){return["last",{jid:e.remote,index:e.id,t:e.t.toString()},void 0]}),a=t.queryNode({type:"receipt"},i);t.BinaryProtocol.write(a).then(function(e){f.sendEphemeral({data:e,onSend:t.binWrap(o,r),onDrop:n,binaryOpts:{debugString:"query,receipt",debugObj:a,metric:t.M.QUERY_RECEIPT,ackRequest:!1}})})["catch"](n)})},addParticipant:function(e,t){var r=this;return new d["default"](function(n,o){var i=f.tag(),a=r.wrap(n);a.tag=i;var s=["participant",{jid:t},void 0],d=["group",{id:i,jid:e,type:"add",author:Store.Conn.me},[s]],c=r.actionNode("set",[d]);r.BinaryProtocol.write(c).then(function(e){f.send({data:e,onSend:a,onDrop:o,binaryOpts:{debugString:"action,group,add_participant",debugObj:c,metric:r.M.GROUP,ackRequest:!1}})})["catch"](o)})},changeSubject:function(e,t){var r=this;return new d["default"](function(n,o){var i=f.tag(),a=r.wrap(n);a.tag=i;var s=["group",{id:i,jid:e,type:"subject",author:Store.Conn.me,subject:t},void 0],d=r.actionNode("set",[s]);r.BinaryProtocol.write(d).then(function(e){f.send({data:e,onSend:a,onDrop:o,binaryOpts:{debugString:"action,group,subject",debugObj:d,metric:r.M.GROUP,ackRequest:!1}})})["catch"](o)})},createGroup:function(e,t){var r=this;return new d["default"](function(n,o){var i=f.tag(),a=r.wrap(n);a.tag=i;var s=t.map(function(e){return["participant",{jid:e},void 0]});l.log("create group tag",i)();var d=["group",{id:i,type:"create",author:Store.Conn.me,subject:e},s],c=r.actionNode("set",[d]);r.BinaryProtocol.write(c).then(function(e){f.send({data:e,onSend:a,onDrop:o,binaryOpts:{debugString:"action,group,create",debugObj:c,metric:r.M.GROUP,ackRequest:!1}})})["catch"](o)})},leaveGroup:function(e){var t=this;return new d["default"](function(r,n){var o=f.tag(),i=t.wrap(r);i.tag=o;var a=["group",{id:o,jid:e,type:"leave",author:Store.Conn.me},void 0],s=t.actionNode("set",[a]);t.BinaryProtocol.write(s).then(function(e){f.send({data:e,onSend:i,onDrop:n,binaryOpts:{debugString:"action,group,delete",debugObj:s,metric:t.M.GROUP,ackRequest:!1}})})["catch"](n)})},removeParticipant:function(e,t){var r=this;return new d["default"](function(n,o){var i=f.tag(),a=r.wrap(n);a.tag=i;var s=["participant",{jid:t},void 0],d=["group",{id:i,jid:e,type:"remove",author:Store.Conn.me},[s]],c=r.actionNode("set",[d]);r.BinaryProtocol.write(c).then(function(e){f.send({data:e,onSend:a,onDrop:o,binaryOpts:{debugString:"action,group,rem_participant",debugObj:c,metric:r.M.GROUP,ackRequest:!1}})})["catch"](o)})},requestMediaReupload:function(e){var t=this;return new d["default"](function(r,n){var o=e.id,i=function(e){t.BinaryProtocol.read(e).then(function(e){var n;if("response"===t.N.tag(e)&&"media"===t.N.attr("type",e)){var o=parseInt(t.N.attr("code",e))||400,i=t.N.attr("url",e);o>=500&&502!==o?(l.error("wap:requestMediaReupload:error "+o)(),n={status:o}):200===o&&i?n={status:200,url:i,mediaKey:t.N.attr("media_key",e)}:200!==o||i?(l.error("wap:requestMediaReupload:error "+o)(),n={status:o}):n={status:400}}else l.error("wap:requestMediaReupload:malformed")(),n={status:400};r(n)})["catch"](n)},a=o,s=t.queryNode({type:"media",index:a.id,jid:a.remote,owner:a.fromMe.toString()},void 0);t.BinaryProtocol.write(s).then(function(e){f.sendEphemeral({data:e,onSend:t.binWrap(i,r),onDrop:n,binaryOpts:{debugString:"query,media",debugObj:s,metric:t.M.QUERY_MEDIA,ackRequest:!1}})})["catch"](n)})},sendConversationSeen:function(e,t,r){var n=this;return new d["default"](function(o,i){var s=o,d=n.actionNode("set",[["read",{jid:e,index:t?t.id:void 0,owner:t?t.fromMe.toString():void 0,count:r&&t?r.toString():void 0},void 0]]);n.BinaryProtocol.write(d).then(function(e){f.sendEphemeral({data:e,onSend:s,onDrop:i,binaryOpts:{debugString:"action,chat,read, "+(0,a["default"])(t)+", "+r,debugObj:d,metric:n.M.READ,ackRequest:!0}})})["catch"](i)})},sendConversationDelete:function(e){var t=this;return new d["default"](function(r,n){var o=r,i=t.actionNode("set",[["chat",{type:"delete",jid:e},void 0]]);t.BinaryProtocol.write(i).then(function(e){f.send({data:e,onSend:o,onDrop:n,binaryOpts:{debugString:"action,chat,delete",debugObj:i,metric:t.M.CHAT,ackRequest:!0}})})["catch"](n)})},sendConversationArchive:function(e,t){var r=this;return new d["default"](function(n,o){var i=n,a=t?"archive":"unarchive",s=r.actionNode("set",[["chat",{type:a,jid:e},void 0]]);r.BinaryProtocol.write(s).then(function(e){f.send({data:e,onSend:i,onDrop:o,binaryOpts:{debugString:"action,chat, "+a,debugObj:s,metric:r.M.CHAT,ackRequest:!0}})})["catch"](o)})},sendConversationMute:function(e,t){var r=this;return new d["default"](function(n,o){var i=n,a=t?t.toString():void 0,s=r.actionNode("set",[["chat",{type:"mute",mute:a,jid:e},void 0]]);r.BinaryProtocol.write(s).then(function(t){f.send({data:t,onSend:i,onDrop:o,binaryOpts:{debugString:"action,chat, "+e+", "+(a?"mute, "+a:"unmute"),debugObj:s,metric:r.M.CHAT,ackRequest:!0}})})["catch"](o)})},sendMessagePlayed:function(e){var t=this;return new d["default"](function(r,n){var o=r,i=e.remote,a=e.id,s=t.actionNode("set",[["received",{type:"played",index:a,from:i},void 0]]);t.BinaryProtocol.write(s).then(function(e){f.send({data:e,onSend:o,onDrop:n,binaryOpts:{debugString:"action,played, "+i+"_"+a,debugObj:s,metric:t.M.RECEIVED,ackRequest:!0}})})["catch"](n)})},profilePicFindThumbFromPhone:function(e,t){var r=this;return new d["default"](function(n,o){var i=function(i){r.BinaryProtocol.read(i).then(function(i){"response"===r.N.tag(i)&&"preview"===r.N.attr("type",i)||o("Not a response or preview");var a=r.N.children(i),s=a&&a[0];if(s||o("Missing preview node"),"missing"===r.N.attr("type",s))n({id:e,tag:void 0,raw:void 0});else{var d,c=r.N.attr("id",s);if(t&&c===t.tag&&t.raw)d=t.raw;else{var u=r.N.children(s);d=u?h.encode(u):void 0}n({id:e,tag:c,raw:d})}})["catch"](o)},a={type:"preview",jid:e};t&&t.tag&&(a.id=t.tag);var s=r.queryNode(a,[]);r.BinaryProtocol.write(s).then(function(t){f.sendEphemeral({data:t,onSend:r.binWrap(i,n),onDrop:o,binaryOpts:{debugString:"query,thumb, "+e,debugObj:s,ackRequest:!1}})})["catch"](o)})},groupMetadataFindFromPhone:function(e,t){var r=this;return new d["default"](function(t,n){var o=function(o){r.BinaryProtocol.read(o).then(function(n){if("response"!==r.N.tag(n)||"group"!==r.N.attr("type",n))return void t({status:"error",info:"bad format: response incorrect"});var o=r.N.children(n),i=o&&o[0];if(!i)return void t({status:"error",info:"bad format: no group node"});if("missing"===r.N.attr("type"))return void t({status:"missing"});var a=_.map(r.N.children(i),function(e){return{id:r.N.attr("jid",e),isAdmin:"admin"===r.N.attr("type",e)}});t({status:"ok",data:{id:e,owner:r.N.attr("creator",i),creation:parseInt(r.N.attr("create",i),10)||void 0,participants:a}})})["catch"](n)},i=r.queryNode({type:"group",jid:e},[]);r.BinaryProtocol.write(i).then(function(a){f.sendEphemeral({data:a,onSend:r.binWrap(o,t),onDrop:n,binaryOpts:{debugString:"query,group, "+e,debugObj:i,ackRequest:!1}})})["catch"](n)})},queryReceivedActions:function(){return d["default"].resolve([])},sendPresenceUpdate:function(e){var t=this;if(["available","unavailable"].indexOf(e)>-1)return new d["default"](function(r,n){var o=r,i=t.actionNode("set",[["presence",{type:e},void 0]]);t.BinaryProtocol.write(i).then(function(r){var a={data:r,onSend:o,onDrop:n,binaryOpts:{debugString:"action,presence, "+e,debugObj:i,metric:t.M.PRESENCE,available:"available"===e,ackRequest:"available"===e}};"available"===e?f.sendEphemeral(a):f.sendEphemeralIgnore(a)})["catch"](n)})},sendChatstateUpdate:function(e,t){var r=this;if(["composing","paused","recording"].indexOf(e)>-1)return new d["default"](function(n,o){var i=n,a=r.actionNode("set",[["presence",{type:e,to:t},void 0]]);r.BinaryProtocol.write(a).then(function(t){f.sendEphemeralIgnore({data:t,onSend:i,onDrop:o,binaryOpts:{debugString:"action,chatstate, "+e,debugObj:a,metric:r.M.PRESENCE,skipOffline:!0,ackRequest:!1}})})["catch"](o)})},sendSetPicture:function(e,t,r){var n=this;return new d["default"](function(o,i){var a=v.parseDataURL(t).data,s=v.parseDataURL(r).data,d=h.decode(a),c=h.decode(s),u=f.tag(),l=n.wrap(o);l.tag=u;var p=["picture",{id:u,jid:e,type:"set"},[["image",void 0,c],["preview",void 0,d]]],m=n.actionNode("set",[p]);n.BinaryProtocol.write(m).then(function(t){f.send({data:t,onSend:l,onDrop:i,binaryOpts:{debugString:"action,set_pic, "+e,debugObj:m,metric:n.M.PIC,ackRequest:!1}})})["catch"](i)})},deletePicture:function(e){var t=this;return new d["default"](function(r,n){var o=f.tag(),i=t.wrap(r);i.tag=o;var a=["picture",{id:o,jid:e,type:"delete"},void 0],s=t.actionNode("set",[a]);t.BinaryProtocol.write(s).then(function(r){f.send({data:r,onSend:i,onDrop:n,binaryOpts:{debugString:"action,delete_pic, "+e,debugObj:s,metric:t.M.PIC,ackRequest:!1}})})["catch"](n)})},sendSetStatus:function(e){var t=this;return new d["default"](function(r,n){var o=f.tag(),i=t.wrap(r);i.tag=o;var a=t.actionNode("set",[["status",void 0,e]]);t.BinaryProtocol.write(a).then(function(e){f.send({data:e,onSend:i,onDrop:n,binaryOpts:{debugString:"action,status,set",debugObj:a,metric:t.M.STATUS,ackRequest:!1}})})["catch"](n)})},chatFindQuery:function(e){var t=this;return new d["default"](function(r,n){var o=function(e){t.BinaryProtocol.read(e).then(function(e){var n=[],o=t.N.children(e);if("response"===t.N.tag(e)&&"chat"===t.N.attr("type",e))if("true"===t.N.attr("duplicate",e))n="preempted";else if(_.isArray(o)){var i,a=o.length;for(i=0;i<a;i++){var s=t.parseChat(o[i]);s&&n.push(s)}}r(n)})["catch"](n)},i=t.queryNode({type:"chat",kind:e?"retry":void 0},void 0);t.BinaryProtocol.write(i).then(function(a){f.sendEphemeral({data:a,onSend:t.binWrap(o,r),onDrop:n,binaryOpts:{debugString:"query,chat, "+e,debugObj:i,metric:t.M.QUERY_CHAT,ackRequest:!1}})})["catch"](n)})},contactFindQuery:function(e){var t=this;return new d["default"](function(r,n){var o=function(e){t.BinaryProtocol.read(e).then(function(e){var n=[],o=t.N.children(e);if("response"===t.N.tag(e)&&"contacts"===t.N.attr("type",e))if("true"===t.N.attr("duplicate",e))n="preempted";else if(_.isArray(o)){var i,a=o.length;for(i=0;i<a;i++){var s=t.parseContact(o[i]);s&&n.push(s)}}r({checksum:t.N.attr("checksum",e),data:n})})["catch"](n)},i=t.queryNode({type:"contacts",kind:e?"retry":void 0},void 0);t.BinaryProtocol.write(i).then(function(a){f.send({data:a,onSend:t.binWrap(o,r),onDrop:n,binaryOpts:{debugString:"query,contacts, "+e,debugObj:i,metric:t.M.QUERY_CONTACTS,ackRequest:!1}})})["catch"](n)})},msgCreateRecord:function(e,t){var r=this;return new d["default"](function(n,o){var i,a,s=e.id.id;if("chat"===e.type)a=d["default"].resolve(["message",{type:"text",to:e.to,id:e.id.id,t:e.t.toString()},[["body",void 0,e.body]]]);else if("location"===e.type)i=e.body?h.decode(e.body):void 0,a=d["default"].resolve(["message",{type:"media",to:e.to,id:e.id.id,t:e.t.toString()},[["media",{type:"location",latitude:e.lat||void 0,longitude:e.lng||void 0,name:e.loc&&e.clientUrl?e.loc:void 0,url:e.loc&&e.clientUrl?e.clientUrl:void 0,encoding:e.body?"raw":void 0},i]]]);else if("vcard"===e.type){var c=["vcard",{name:e.subtype},e.body];a=d["default"].resolve(["message",{type:"media",to:e.to,id:e.id.id,t:e.t.toString()},[["media",{type:"vcard"},[c]]]])}else{var u=e.mediaKey;i=e.body?h.decode(e.body):void 0,a=(t&&!u?r.sendMedia(e.avparams):d["default"].resolve(_.merge({status:200},e.avparams))).then(function(t){if(200===t.status)return d["default"].resolve(["message",{type:"media",to:e.to,id:e.id.id,t:e.t.toString()},[["media",{encoding:e.body?"raw":void 0,origin:"ptt"===e.type?"live":void 0,seconds:"ptt"===e.type&&e.duration?e.duration.toString():void 0,type:t.type,mimetype:e.mimetype||t.mimetype||void 0,size:e.size?e.size.toString():void 0,filehash:t.filehash,url:t.url,duration:t.duration?t.duration.toString():void 0,vcodec:t.vcodec||void 0,width:t.width?t.width.toString():void 0,height:t.height?t.height.toString():void 0,fps:t.fps?t.fps.toString():void 0,vbitrate:t.vbitrate?t.vbitrate.toString():void 0,acodec:t.acodec||void 0,asampfreq:t.asampfreq?t.asampfreq.toString():void 0,asampfmt:t.asampfmt||void 0,abitrate:t.abitrate?t.abitrate.toString():void 0,caption:"video"!==e.type&&"image"!==e.type||!e.caption?void 0:e.caption,page_count:"number"!=typeof e.pageCount||isNaN(e.pageCount)?void 0:e.pageCount.toString(),media_key:u,filename:t.filename},i]]]);var r="wap:msgCreateRecord:sendMedia error "+t.status;return l.error(r)(),d["default"].reject(r)})["catch"](function(){return l.error("wap:msgCreateRecord:sendMedia dropped")(),d["default"].reject("wap:msgCreateRecord:sendMedia dropped")})}a.then(function(t){var i=r.actionNode("relay",[t]),a=r.wrap(n);a.tag=s,a.meta={type:"message",key:e.id},r.BinaryProtocol.write(i).then(function(t){f.send({data:t,onSend:a,onDrop:o,binaryOpts:{debugString:"action,message, "+e.type,debugObj:i,metric:r.M.MESSAGE,ackRequest:!1}})})["catch"](o)})["catch"](function(){l.error("wap:msgCreateRecord mPromise error")(),o("wap:msgCreateRecord mPromise error")})})},msgFindQuery:function(e,t){var r=this;return"before"!==e?d["default"].reject("wap:msgFindQuery:unsupported:"+e):new d["default"](function(e,n){var o=function(t){r.BinaryProtocol.read(t).then(function(t){var n=[],o=r.N.children(t);if("response"===r.N.tag(t)&&"message"===r.N.attr("type",t)&&_.isArray(o)){var i,a=o.length;for(i=0;i<a;i++){var s=r.parseMsg(o[i],"response");s&&n.push(s)}}e(n)})["catch"](n)},i=r.queryNode({type:"message",jid:t.remote,count:t.count.toString(),index:t.id,owner:"undefined"==typeof t.fromMe?void 0:t.fromMe.toString()},void 0);r.BinaryProtocol.write(i).then(function(a){f.sendEphemeral({data:a,onSend:r.binWrap(o,e),onDrop:n,binaryOpts:{debugString:"query,message, "+t.remote+"_"+t.id+"_"+t.fromMe+"_"+t.count,debugObj:i,metric:r.M.QUERY_MESSAGES,ackRequest:!1}})})["catch"](n)})},presenceSubscribe:function(e){var t=this;return new d["default"](function(r,n){var o=r,i=t.actionNode("set",[["presence",{type:"subscribe",to:e},void 0]]);t.BinaryProtocol.write(i).then(function(r){f.sendEphemeral({data:r,onSend:o,onDrop:n,binaryOpts:{debugString:"action,presence,subscribe, "+e,debugObj:i,metric:t.M.PRESENCE_SUBSCRIBE,ackRequest:!0}})})["catch"](n)})},sendMedia:function(e){var t=this;return new d["default"](function(r,n){var o=_.clone(e),i=function(e){r(_.merge(o,e))};f.send({data:["query","sendMedia",o.url],onSend:t.wrap02(i),onDrop:n})})},clearBPQueue:function(){this.BinaryProtocol.dropAllBecauseLogout()}};e.exports=w},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(18),i=n(o),a=r(2),s=n(a),d=r(1),c=r(14),u=r(12),l=r(31),p=r(59),f=r(21),h=r(80),m=r(85),g=r(55),v=r(0),y=r(226),b={BinaryProtocol:null,N:null,M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20},epochCount:0,epoch:0,isRequestingDeviceUploadLogsMutex:0,epochSend:function(e){return 0===this.epochCount&&this.epoch++,e||this.epochCount++,d.log("wap:epochCount: "+this.epochCount+" epoch: "+this.epoch)(),this.epoch.toString()},epochRecv:function(){this.epochCount>0?this.epochCount--:d.error("wap:epochRecv: NEGATIVE")(),d.log("wap:epochCount: "+this.epochCount+" epoch: "+this.epoch)()},wrap:function(e){var t=this;return function(r){return r&&"number"==typeof r.status&&r.status>=500?r:(t.epochRecv(),void e(r))}},binWrap:function(e,t){var r=this;return function(n){if("object"==typeof n&&"number"==typeof n.status){if(401===n.status)throw r.epochRecv(),new c.E401;if(n.status>=500)return n;r.epochRecv(),t(n)}else r.epochRecv(),e(n)}},actionNode:function(e,t,r){return["action",{type:e,epoch:this.epochSend(r)},t]},queryNode:function(e,t){return e.epoch=this.epochSend(),["query",e,t]},parseMsgMessage:function(e,t){if("message"===this.N.tag(e)){var r;this.N.attr("from",e)!==Store.Conn.me||this.N.attr("to",e)?this.N.attr("to",e)!==Store.Conn.me||this.N.attr("from",e)||(r="out"):r="in";var n,o=this.N.attr("id",e),i=parseInt(this.N.attr("t",e),10)||0,a=this.N.attr("to",e)||Store.Conn.me,s=this.N.attr("from",e)||Store.Conn.me,c="broadcast"===s.split("@")[1],u=this.N.attr("participant",e),l=c?u:s,p=c?void 0:u,f=!c&&(this.N.child("broadcast",e)&&s===Store.Conn.me),h="invis"===this.N.attr("web",e),m=this.N.attr("notify",e)||"",v=parseInt(this.N.attr("status",e))||0,y=[],b=this.N.child("broadcast",e);if("broadcast"!==a){try{var w=new g({from:l,to:a,id:o,participant:u,selfDir:r})}catch(E){return void d.error("drop: cannot create MsgKey: "+E.stack)()}switch(t){case"fresh":n=1;break;default:n=v>=-1&&v<=4?v:1}if(_.isArray(b)){var S,N=b.length;for(S=0;S<N;S++){var C=b[S],T=this.N.attr("jid",C);"to"===this.N.tag(C)&&T&&y.push(T)}}var k,$=[],A=this.N.attr("type",e);switch(A){case"ciphertext":case"text":var x=this.N.dataStr(this.N.child("body",e))||"";k={id:w,body:"text"===A?x:void 0,type:"text"===A?"chat":"ciphertext",t:i,notifyName:m,from:l,to:a,self:r,author:p,invis:h,ack:n,broadcast:f,recipients:y},$=[!o,!i,!l,!a];break;case"media":var M,O,I,R,P,L=this.N.child("media",e),D=this.N.attr("type",L),B=this.N.attr("media_key",L),U=this.N.attr("mimetype",L);if("retry"===this.N.attr("reason",L))return;switch(D){case"image":case"video":var j=this.N.attr("caption",L);M=this.thumbFromMediaXml(L),O=this.N.attr("url",L),O=_.isString(O)&&O.indexOf("/u/")>0?void 0:O,I=this.N.attr("filehash",L),R=parseInt(this.N.attr("size",L),10)||0,P=this.N.attr("seconds",L),k={id:w,body:M,type:D,t:i,notifyName:m,from:l,to:a,self:r,author:p,invis:h,ack:n,clientUrl:O,duration:P,broadcast:f,recipients:y,filehash:I,size:R,caption:j,mediaKey:B,mimetype:U},$=[!o,!i,!l,!a];break;case"location":var W=this.N.attr("latitude",L),Y=this.N.attr("longitude",L),F=this.N.attr("name",L);M=this.thumbFromMediaXml(L),O=this.N.attr("url",L),k={id:w,body:M,type:D,t:i,notifyName:m,from:l,to:a,self:r,author:p,invis:h,ack:n,clientUrl:O,loc:F,lat:W,lng:Y,broadcast:f,recipients:y},$=[!o,!i,!l,!a,!W||!Y];break;case"audio":var G="live"===this.N.attr("origin",L)?"ptt":D;O=this.N.attr("url",L),O=_.isString(O)&&O.indexOf("/u/")>0?void 0:O,I=this.N.attr("filehash",L),R=parseInt(this.N.attr("size",L),10)||0,P=this.N.attr("seconds",L),k={id:w,type:G,t:i,notifyName:m,from:l,to:a,self:r,author:p,invis:h,ack:n,clientUrl:O,duration:P,broadcast:f,recipients:y,filehash:I,size:R,mediaKey:B,mimetype:U},$=[!o,!i,!l,!a];break;case"vcard":var q=this.N.child("vcard",L),K=this.N.dataStr(q),H=this.N.attr("name",q);k={id:w,body:K,type:D,subtype:H,t:i,notifyName:m,from:l,to:a,self:r,author:p,invis:h,ack:n,broadcast:f,recipients:y},$=[!o,!i,!l,!a,!K,!H];break;default:d.error("wap:parseMsgMessage unknown media type: "+this.N.toString(e),e)()}break;default:d.error("wap:parseMsgMessage unknown message type: "+this.N.toString(e),e)()}return this.dropIfConditionMet($,k)}}},parseMsgGp2:function(e){if("groups_v2"===this.N.tag(e)){var t,r=parseInt(this.N.attr("t",e),10)||0,n=this.N.attr("id",e),o=this.N.attr("jid",e),i="invis"===this.N.attr("web",e),a=this.N.attr("type",e),s=this.N.attr("author",e),c=this.N.children(e),u=[];switch(a){case"create":t=this.N.attr("subject",e);break;case"subject":t=this.N.attr("subject",e);break;case"picture":t=this.N.attr("picture",e)}if(_.isArray(c)){var l,p=c.length;for(l=0;l<p;l++){var f=c[l],h=this.N.attr("jid",f);"participant"===this.N.tag(f)&&h&&u.push(h)}}try{var m=new g({from:o,to:o,id:n})}catch(v){return void d.error("drop: cannot create MsgKey: "+v.stack)()}var y={t:r,id:m,to:o,from:o,author:s,body:t?t.toString():void 0,type:"gp2",subtype:a,invis:i,recipients:u},b=[!n,!r,"subject"!==a&&"add"!==a&&"invite"!==a&&"remove"!==a&&"leave"!==a&&"picture"!==a&&"modify"!==a&&"create"!==a&&"delete"!==a&&"promote"!==a&&"demote"!==a,"subject"===a&&!t,("add"===a||"invite"===a||"remove"===a||"leave"===a||"promote"===a||"demote"===a||"modify"===a)&&0===u.length,!o,"string"==typeof o&&"g.us"!==o.split("@")[1]];return this.dropIfConditionMet(b,y)}},setGroupParticipant:function(e,t,r){var n=this;return new s["default"](function(o,i){var a=u.tag(),s=n.wrap(o),d=["participant",{jid:r},void 0],c=["group",{id:a,jid:t,type:e,author:Store.Conn.me},[d]],l=n.actionNode("set",[c]);n.BinaryProtocol.write(l).then(function(o){u.send({tag:a,data:o,clientCacheable:!0,onSend:s,onDrop:n.wrap(i),binaryOpts:{debugString:"action,group,participant,"+[e,t,r].join(","),debugObj:l,metric:n.M.GROUP,ackRequest:!1,expires:v().unix()}})})["catch"](i)})},"delete":function(){this.epochCount=0,this.epoch=0},error2412:function(){this.epochRecv()},setSubProtocol:function(e){4===e?(this.BinaryProtocol=new m("04"),this.N=this.BinaryProtocol.Node):(d.error("Wap:setSubProtocol unknown "+e)(),this.BinaryProtocol=new m("04"),this.N=this.BinaryProtocol.Node)},requestDeviceUploadLogs:function(){var e,t=this;return new s["default"](function(r,n){if(t.isRequestingDeviceUploadLogsMutex)return void r();e=++t.isRequestingDeviceUploadLogsMutex;var o=t.actionNode("debug",[["log",void 0,void 0]]),i=t.wrap(r);i.drop=!0,t.BinaryProtocol.write(o).then(function(e){u.send({data:e,onSend:i,onDrop:n,binaryOpts:{debugString:"debug,log",debugObj:o,metric:t.M.DEBUG_LOG,ackRequest:!0}})})["catch"](n)})["finally"](function(){e===t.isRequestingDeviceUploadLogsMutex&&(t.isRequestingDeviceUploadLogsMutex=0)})},resyncMessages:function(e){var t=this;return new p(function(r,n){var o=function(e){t.BinaryProtocol.read(e).then(function(e){var n=[],o=t.N.children(e);if(d.logColor("green","bin-recv: response,resume",e)(),"response"===t.N.tag(e)&&"resume"===t.N.attr("type",e)&&_.isArray(o)){var i,a=o.length;for(i=0;i<a;i++){var s=t.parseChat(o[i]);s&&n.push(s)}}r({checksum:t.N.attr("checksum",e),data:n})})["catch"](n)},i=e.map(function(e){var t={jid:e.wid,index:e.id,owner:e.fromMe,archive:(!!e.archive).toString()};return e.mute&&(t.mute=e.mute.toString()),e.active&&(t.active="true"),f.isGroup(e.wid)&&(t.read_only=(!!e.isReadOnly).toString()),e.modifyTag&&(t.modify_tag=e.modifyTag.toString()),e.unreadCount&&(t.count=e.unreadCount.toString()),["last",t,void 0]}),a=t.queryNode({type:"resume"},i);t.BinaryProtocol.write(a).then(function(e){u.sendEphemeral({data:e,onSend:t.binWrap(o,r),onDrop:t.wrap(n),binaryOpts:{debugString:"query,resume",debugObj:a,metric:t.M.QUERY_RESUME,ackRequest:!1}})})["catch"](n)})},resyncReceipts:function(e){var t=this;return new s["default"](function(r,n){var o=function(e){t.BinaryProtocol.read(e).then(function(e){var n=[],o=t.N.children(e);if(d.logColor("green","bin-recv: response,receipt",e)(),"response"===t.N.tag(e)&&"receipt"===t.N.attr("type",e)&&_.isArray(o)){var i,a,s,c=o.length;for(i=0;i<c;i++){a=o[i],s=t.N.children(a);var u=t.N.attr("jid",a),l=t.N.attr("t",a);if("receipt"===t.N.tag(a)&&u&&l&&_.isArray(s)){var p,f=[],h=s.length;for(p=0;p<h;p++){var m=s[p];if("item"===t.N.tag(m)){var g=t.N.attr("index",m),v=parseInt(t.N.attr("status",m),10)||0;g&&0!==v&&v<=4&&f.push([g,!0,void 0,v])}}f.length>0&&n.push({id:u,t:parseInt(l,10),acks:f})}}}r(n)})["catch"](n)},i=e.map(function(e){return["last",{jid:e.remote,index:e.id,t:e.t.toString()},void 0]}),a=t.queryNode({type:"receipt"},i);t.BinaryProtocol.write(a).then(function(e){u.sendEphemeral({data:e,onSend:t.binWrap(o,r),onDrop:t.wrap(n),binaryOpts:{debugString:"query,receipt",debugObj:a,metric:t.M.QUERY_RECEIPT,ackRequest:!1}})})["catch"](n)})},queryReceivedActions:function(e){var t=this;return new s["default"](function(r,n){var o=function(e){t.BinaryProtocol.read(e).then(function(e){var n=[],o=t.N.children(e);if(d.logColor("green","bin-recv: response,actions",e)(),"response"===t.N.tag(e)&&"action"===t.N.attr("type",e))if(_.isArray(o)){var i,a=o.length;for(i=0;i<a;i++){var s=o[i],c=t.N.attr("id",s),u=parseInt(t.N.attr("code",s),10)||0;"item"===t.N.tag(s)&&c&&0!==u&&n.push({id:c,code:u})}}else"true"===t.N.attr("replaced",e)&&(n="replaced");r(n)})["catch"](n)},i=e.map(function(e){return["item",{id:e},void 0]}),a=t.queryNode({type:"action"},i);t.BinaryProtocol.write(a).then(function(e){u.sendEphemeral({data:e,onSend:t.binWrap(o,r),onDrop:t.wrap(n),binaryOpts:{debugString:"query,actions",debugObj:a,metric:t.M.QUERY_ACTIONS,ackRequest:!1
}})})["catch"](n)})},changeSubject:function(e,t){var r=this;return new s["default"](function(n,o){var i=u.tag(),a=r.wrap(n);a.tag=i;var s=["group",{id:i,jid:e,type:"subject",author:Store.Conn.me,subject:t},void 0],d=r.actionNode("set",[s]);r.BinaryProtocol.write(d).then(function(e){u.send({data:e,clientCacheable:!0,onSend:a,onDrop:r.wrap(o),binaryOpts:{debugString:"action,group,subject",debugObj:d,metric:r.M.GROUP,ackRequest:!1,expires:v().unix()}})})["catch"](o)})},createGroup:function(e,t){var r=this;return new s["default"](function(n,o){var i=u.tag(),a=r.wrap(n);a.tag=i;var s=t.map(function(e){return["participant",{jid:e},void 0]});d.log("create group tag",i)();var c=["group",{id:i,type:"create",author:Store.Conn.me,subject:e},s],l=r.actionNode("set",[c]);r.BinaryProtocol.write(l).then(function(e){u.send({data:e,clientCacheable:!0,onSend:a,onDrop:r.wrap(o),binaryOpts:{debugString:"action,group,create",debugObj:l,metric:r.M.GROUP,ackRequest:!1,expires:v().unix()}})})["catch"](o)})},leaveGroup:function(e){var t=this;return new s["default"](function(r,n){var o=u.tag(),i=t.wrap(r);i.tag=o;var a=["group",{id:o,jid:e,type:"leave",author:Store.Conn.me},void 0],s=t.actionNode("set",[a]);t.BinaryProtocol.write(s).then(function(e){u.send({data:e,clientCacheable:!0,onSend:i,onDrop:t.wrap(n),binaryOpts:{debugString:"action,group,delete",debugObj:s,metric:t.M.GROUP,ackRequest:!1,expires:v().unix()}})})["catch"](n)})},addParticipant:function(e,t){return this.setGroupParticipant("add",e,t)},removeParticipant:function(e,t){return this.setGroupParticipant("remove",e,t)},promoteParticipant:function(e,t){return this.setGroupParticipant("promote",e,t)},requestMediaReupload:function(e){var t=this;return new s["default"](function(r,n){var o=e.id,i=function(e){t.BinaryProtocol.read(e).then(function(e){var n;if("response"===t.N.tag(e)&&"media"===t.N.attr("type",e)){var o=parseInt(t.N.attr("code",e))||400,i=t.N.attr("url",e);o>=500&&502!==o?(d.error("wap:requestMediaReupload:error "+o)(),n={status:o}):200===o&&i?n={status:200,url:i,mediaKey:t.N.attr("media_key",e)}:200!==o||i?(d.error("wap:requestMediaReupload:error "+o)(),n={status:o}):n={status:400}}else d.error("wap:requestMediaReupload:malformed")(),n={status:400};r(n)})["catch"](n)},a=o,s=t.queryNode({type:"media",index:a.id,jid:a.remote,owner:a.fromMe.toString()},void 0);t.BinaryProtocol.write(s).then(function(e){u.sendEphemeral({data:e,onSend:t.binWrap(i,r),onDrop:t.wrap(n),binaryOpts:{debugString:"query,media",debugObj:s,metric:t.M.QUERY_MEDIA,ackRequest:!1}})})["catch"](n)})},sendConversationSeen:function(e,t,r){var n=this;return new s["default"](function(o,a){var s=n.actionNode("set",[["read",{jid:e,index:t?t.id:void 0,owner:t?t.fromMe.toString():void 0,count:r&&t?r.toString():void 0},void 0]]);n.BinaryProtocol.write(s).then(function(e){u.send({data:e,clientCacheable:!0,onSend:n.wrap(o),onDrop:n.wrap(a),binaryOpts:{debugString:"action,chat,read,"+(0,i["default"])(t)+","+r,debugObj:s,metric:n.M.READ,ackRequest:!0}})})["catch"](a)})},sendConversationDelete:function(e,t){var r=this;return new s["default"](function(n,o){var i=r.actionNode("set",[["chat",{type:"delete",jid:e,index:t?t.id:void 0,owner:t?t.fromMe.toString():void 0},void 0]]);r.BinaryProtocol.write(i).then(function(e){u.send({data:e,clientCacheable:!0,onSend:r.wrap(n),onDrop:r.wrap(o),binaryOpts:{debugString:"action,chat,delete",debugObj:i,metric:r.M.CHAT,ackRequest:!0}})})["catch"](o)})},sendConversationArchive:function(e,t,r){var n=this;return new s["default"](function(o,i){var a=t?"archive":"unarchive",s=n.actionNode("set",[["chat",{type:a,jid:e,index:r?r.id:void 0,owner:r?r.fromMe.toString():void 0},void 0]]);n.BinaryProtocol.write(s).then(function(e){u.send({data:e,clientCacheable:!0,onSend:n.wrap(o),onDrop:n.wrap(i),binaryOpts:{debugString:"action,chat,"+a,debugObj:s,metric:n.M.CHAT,ackRequest:!0}})})["catch"](i)})},sendConversationMute:function(e,t,r){var n=this;return new s["default"](function(o,i){var a=t?t.toString():void 0,s=r?r.toString():void 0,d=n.actionNode("set",[["chat",{type:"mute",mute:a,previous:s,jid:e},void 0]]);n.BinaryProtocol.write(d).then(function(t){u.send({data:t,clientCacheable:!0,onSend:n.wrap(o),onDrop:n.wrap(i),binaryOpts:{debugString:"action,chat,"+e+", "+(a?"mute,"+a:"unmute"),debugObj:d,metric:n.M.CHAT,ackRequest:!0}})})["catch"](i)})},sendMessagePlayed:function(e){var t=this;return new s["default"](function(r,n){var o=t.wrap(r),i=e.remote,a=e.id,s=t.actionNode("set",[["received",{type:"played",index:a,from:i},void 0]]);t.BinaryProtocol.write(s).then(function(e){u.send({data:e,onSend:o,onDrop:t.wrap(n),binaryOpts:{debugString:"action,played,"+i+"_"+a,debugObj:s,metric:t.M.RECEIVED,ackRequest:!0}})})["catch"](n)})},profilePicFindThumbFromPhone:function(e,t){var r=this;return new s["default"](function(n,o){var i=function(i){r.BinaryProtocol.read(i).then(function(i){"response"===r.N.tag(i)&&"preview"===r.N.attr("type",i)||o("Not response or preview");var a=r.N.children(i),s=a&&a[0];if(s||o("Missing preview node"),"missing"===r.N.attr("type",s))n({id:e,tag:void 0,raw:void 0});else{var d,c=r.N.attr("id",s);if(t&&c===t.tag&&t.raw)d=t.raw;else{var u=r.N.children(s);d=u?l.encode(u):void 0}n({id:e,tag:c,raw:d})}})["catch"](o)},a={type:"preview",jid:e};t&&t.tag&&(a.id=t.tag);var s=r.queryNode(a,[]);r.BinaryProtocol.write(s).then(function(t){u.sendEphemeral({data:t,onSend:r.binWrap(i,n),onDrop:r.wrap(o),binaryOpts:{debugString:"query,thumb,"+e,debugObj:s,metric:r.M.QUERY_PREVIEW,ackRequest:!1}})})["catch"](o)})},groupMetadataFindFromPhone:function(e,t){var r=this;return new s["default"](function(t,n){var o=function(o){r.BinaryProtocol.read(o).then(function(n){if("response"!==r.N.tag(n)||"group"!==r.N.attr("type",n))return void t({status:"error",info:"bad format: response incorrect"});var o=r.N.children(n),i=o&&o[0];if(!i)return void t({status:"error",info:"bad format: no group node"});if("missing"===r.N.attr("type"))return void t({status:"missing"});var a=_.map(r.N.children(i),function(e){return{id:r.N.attr("jid",e),isAdmin:"admin"===r.N.attr("type",e)}});t({status:"ok",data:{id:e,owner:r.N.attr("creator",i),creation:parseInt(r.N.attr("create",i),10)||void 0,participants:a}})})["catch"](n)},i=r.queryNode({type:"group",jid:e},[]);r.BinaryProtocol.write(i).then(function(a){u.sendEphemeral({data:a,onSend:r.binWrap(o,t),onDrop:r.wrap(n),binaryOpts:{debugString:"query,group,"+e,debugObj:i,metric:r.M.QUERY_GROUP,ackRequest:!1}})})["catch"](n)})},sendPresenceUpdate:function(e){var t=this;if(["available","unavailable"].indexOf(e)>-1)return new s["default"](function(r,n){var o="available"===e,i=t.actionNode("set",[["presence",{type:e},void 0]],!o);t.BinaryProtocol.write(i).then(function(a){var s={data:a,onSend:o?t.wrap(r):r,onDrop:o?t.wrap(n):r,binaryOpts:{debugString:"action,presence,"+e,debugObj:i,metric:t.M.PRESENCE,available:"available"===e,ackRequest:o}};o?u.sendEphemeral(s):u.sendEphemeralIgnore(s)})["catch"](n)})},sendChatstateUpdate:function(e,t){var r=this;if(["composing","paused","recording"].indexOf(e)>-1)return new s["default"](function(n,o){var i=n,a=r.actionNode("set",[["presence",{type:e,to:t},void 0]],!0);r.BinaryProtocol.write(a).then(function(t){u.sendEphemeralIgnore({data:t,onSend:i,onDrop:o,binaryOpts:{debugString:"action,chatstate,"+e,debugObj:a,metric:r.M.PRESENCE,skipOffline:!0,ackRequest:!1}},!0)})["catch"](o)})},sendSetPicture:function(e,t,r){var n=this;return new s["default"](function(o,i){var a=h.parseDataURL(t).data,s=h.parseDataURL(r).data,d=l.decode(a),c=l.decode(s),p=u.tag(),f=n.wrap(o);f.tag=p;var m=["picture",{id:p,jid:e,type:"set"},[["image",void 0,c],["preview",void 0,d]]],_=n.actionNode("set",[m]);n.BinaryProtocol.write(_).then(function(t){u.send({data:t,clientCacheable:!0,onSend:f,onDrop:n.wrap(i),binaryOpts:{debugString:"action,set_pic,"+e,debugObj:_,metric:n.M.PIC,ackRequest:!1,expires:v().unix()}})})["catch"](i)})},deletePicture:function(e){var t=this;return new s["default"](function(r,n){var o=u.tag(),i=t.wrap(r);i.tag=o;var a=["picture",{id:o,jid:e,type:"delete"},void 0],s=t.actionNode("set",[a]);t.BinaryProtocol.write(s).then(function(r){u.send({data:r,clientCacheable:!0,onSend:i,onDrop:t.wrap(n),binaryOpts:{debugString:"action,delete_pic,"+e,debugObj:s,metric:t.M.PIC,ackRequest:!1,expires:v().unix()}})})["catch"](n)})},sendSetStatus:function(e){var t=this;return new s["default"](function(r,n){var o=t.wrap(r),i=t.actionNode("set",[["status",void 0,e]]);t.BinaryProtocol.write(i).then(function(e){u.send({data:e,clientCacheable:!0,onSend:o,onDrop:t.wrap(n),binaryOpts:{debugString:"action,status,set",debugObj:i,metric:t.M.STATUS,ackRequest:!1,expires:v().unix()}})})["catch"](n)})},sendSetBlock:function(e,t){var r=this;return new s["default"](function(n,o){var i=t.map(function(t){return["user",{jid:t.jid,reason:e&&t.spam?"spam":void 0},void 0]}),a=["block",{type:e?"add":"remove"},i],s=r.actionNode("set",[a]);r.BinaryProtocol.write(s).then(function(i){u.send({data:i,clientCacheable:!0,onSend:r.wrap(n),onDrop:r.wrap(o),binaryOpts:{debugString:"action,block,"+e+","+_.map(t,"jid").join(","),debugObj:s,metric:r.M.BLOCK,ackRequest:!1,expires:v().unix()}})})["catch"](o)})},chatFindQuery:function(e){var t=this;return new s["default"](function(r,n){var o=function(e){t.BinaryProtocol.read(e).then(function(e){var n=[],o=t.N.children(e);if("response"===t.N.tag(e)&&"chat"===t.N.attr("type",e))if("true"===t.N.attr("duplicate",e))n="preempted";else if(_.isArray(o)){var i,a=o.length;for(i=0;i<a;i++){var s=t.parseChat(o[i]);s&&n.push(s)}}r(n)})["catch"](n)},i=t.queryNode({type:"chat",kind:e?"retry":void 0},void 0);t.BinaryProtocol.write(i).then(function(a){u.sendEphemeral({data:a,onSend:t.binWrap(o,r),onDrop:t.wrap(n),binaryOpts:{debugString:"query,chat,"+e,debugObj:i,metric:t.M.QUERY_CHAT,ackRequest:!1}})})["catch"](n)})},contactFindQuery:function(e){var t=this;return new s["default"](function(r,n){var o=function(e){t.BinaryProtocol.read(e).then(function(e){var n=[],o=t.N.children(e);if("response"===t.N.tag(e)&&"contacts"===t.N.attr("type",e))if("true"===t.N.attr("duplicate",e))n="preempted";else if(_.isArray(o)){var i,a=o.length;for(i=0;i<a;i++){var s=t.parseContact(o[i]);s&&n.push(s)}}r({checksum:t.N.attr("checksum",e),data:n})})["catch"](n)},i=t.queryNode({type:"contacts",kind:e?"retry":void 0},void 0);t.BinaryProtocol.write(i).then(function(a){u.send({data:a,onSend:t.binWrap(o,r),onDrop:t.wrap(n),binaryOpts:{debugString:"query,contacts, "+e,debugObj:i,metric:t.M.QUERY_CONTACTS,ackRequest:!1}})})["catch"](n)})},msgCreateRecord:function(e,t){var r=this;return new s["default"](function(n,o){var i,a,c=e.id.id;if("chat"===e.type)a=s["default"].resolve(["message",{type:"text",to:e.to,id:e.id.id,t:e.t.toString()},[["body",void 0,e.body]]]);else if("location"===e.type)i=e.body?l.decode(e.body):void 0,a=s["default"].resolve(["message",{type:"media",to:e.to,id:e.id.id,t:e.t.toString()},[["media",{type:"location",latitude:e.lat||void 0,longitude:e.lng||void 0,name:e.loc&&e.clientUrl?e.loc:void 0,url:e.loc&&e.clientUrl?e.clientUrl:void 0,encoding:e.body?"raw":void 0},i]]]);else if("vcard"===e.type){var p=["vcard",{name:e.subtype},e.body];a=s["default"].resolve(["message",{type:"media",to:e.to,id:e.id.id,t:e.t.toString()},[["media",{type:"vcard"},[p]]]])}else{var f=e.mediaKey;i=e.body?l.decode(e.body):void 0,a=(t&&!f?r.sendMedia(e.avparams):s["default"].resolve(_.merge({status:200},e.avparams))).then(function(t){if(200===t.status)return s["default"].resolve(["message",{type:"media",to:e.to,id:e.id.id,t:e.t.toString()},[["media",{encoding:e.body?"raw":void 0,origin:"ptt"===e.type?"live":void 0,seconds:"ptt"===e.type&&e.duration?e.duration.toString():void 0,type:t.type,mimetype:e.mimetype||t.mimetype||void 0,size:e.size?e.size.toString():void 0,filehash:t.filehash,url:t.url,duration:t.duration?t.duration.toString():void 0,vcodec:t.vcodec||void 0,width:t.width?t.width.toString():void 0,height:t.height?t.height.toString():void 0,fps:t.fps?t.fps.toString():void 0,vbitrate:t.vbitrate?t.vbitrate.toString():void 0,acodec:t.acodec||void 0,asampfreq:t.asampfreq?t.asampfreq.toString():void 0,asampfmt:t.asampfmt||void 0,abitrate:t.abitrate?t.abitrate.toString():void 0,caption:"video"!==e.type&&"image"!==e.type||!e.caption?void 0:e.caption,page_count:"number"!=typeof e.pageCount||isNaN(e.pageCount)?void 0:e.pageCount.toString(),media_key:f,filename:t.filename},i]]]);var r="wap:msgCreateRecord:sendMedia error "+t.status;return d.error(r)(),s["default"].reject(r)})["catch"](function(){return d.error("wap:msgCreateRecord:sendMedia dropped")(),s["default"].reject("wap:msgCreateRecord:sendMedia dropped")})}a.then(function(t){var i=r.actionNode("relay",[t]),a=r.wrap(n);a.tag=c,a.meta={type:"message",key:e.id},r.BinaryProtocol.write(i).then(function(t){u.send({data:t,onSend:a,onDrop:r.wrap(o),binaryOpts:{debugString:"action,message, "+e.type,debugObj:i,metric:r.M.MESSAGE,ackRequest:!1}})})["catch"](o)})["catch"](function(){d.error("wap:msgCreateRecord mPromise error")(),o("wap:msgCreateRecord mPromise error")})})},msgFindQuery:function(e,t){var r=this;return"before"!==e?s["default"].reject("wap:msgFindQuery:unsupported:"+e):new s["default"](function(e,n){var o=function(t){r.BinaryProtocol.read(t).then(function(t){var n=[],o=r.N.children(t);if("response"===r.N.tag(t)&&"message"===r.N.attr("type",t)&&_.isArray(o)){var i,a=o.length;for(i=0;i<a;i++){var s=r.parseMsg(o[i],"response");s&&n.push(s)}}e(n)})["catch"](n)},i=r.queryNode({type:"message",jid:t.remote,count:t.count.toString(),index:t.id,owner:"undefined"==typeof t.fromMe?void 0:t.fromMe.toString()},void 0);r.BinaryProtocol.write(i).then(function(a){u.sendEphemeral({data:a,onSend:r.binWrap(o,e),onDrop:r.wrap(n),binaryOpts:{debugString:"query,message,"+t.remote+"_"+t.id+"_"+t.fromMe+"_"+t.count,debugObj:i,metric:r.M.QUERY_MESSAGES,ackRequest:!1}})})["catch"](n)})},presenceSubscribe:function(e){var t=this;return new s["default"](function(r,n){var o=t.wrap(r),i=t.actionNode("set",[["presence",{type:"subscribe",to:e},void 0]]);t.BinaryProtocol.write(i).then(function(r){u.sendEphemeral({data:r,onSend:o,onDrop:t.wrap(n),binaryOpts:{debugString:"action,presence,subscribe,"+e,debugObj:i,metric:t.M.PRESENCE_SUBSCRIBE,ackRequest:!0}})})["catch"](n)})}};e.exports=_.defaults(b,y)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(18),i=n(o),a=r(2),s=n(a),d=r(1),c=r(12),u=r(59),l=r(21),p=r(85),f=r(55),h=r(227),m={BinaryProtocol:null,N:null,M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22},epochCount:0,epoch:0,isRequestingDeviceUploadLogsMutex:0,parseChat:function(e){if("chat"===this.N.tag(e)){var t=this.N.attr("jid",e),r=parseInt(this.N.attr("t",e),10)||void 0,n=this.N.attr("type",e),o=parseInt(this.N.attr("mute",e),10)||void 0,i=parseInt(this.N.attr("before",e),10)||void 0,a="true"===this.N.attr("archive",e),s="true"===this.N.attr("read_only",e),d=parseInt(this.N.attr("modify_tag",e),10)||void 0,c=this.N.attr("name",e)||void 0,u=this.safeParseInt(e,"count"),l="true"===this.N.attr("message",e);"ahead"===n&&(n="clear");var p,f=this.N.children(e);if(_.isArray(f)){p=[];var h,m,g=f.length;for(h=0;h<g;h++)if(m=f[h],"item"===this.N.tag(m)){var v=this.N.attr("index",m);v&&p.push([v,"true"===this.N.attr("owner",m),this.N.attr("participant",m)])}}var y={id:t,t:r,type:n,keys:p,before:i,archive:a,isReadOnly:s,unreadCount:u,muteExpiration:o,modifyTag:d,name:c,pendingMsgs:l},b=[n&&"delete"!==n&&"clear"!==n&&"archive"!==n&&"unarchive"!==n&&"mute"!==n&&"modify_tag"!==n,!n&&!t,a&&n&&"clear"!==n,"clear"!==n&&i&&i>0,"clear"!==n&&p&&p.length>0];return this.dropIfConditionMet(b,y)}},parseCmd:function(e){if("read"===this.N.tag(e)){var t=this.N.attr("jid",e),r="false"===this.N.attr("type",e),n={type:r?"unread":"read",jid:t},o=[!t];return this.dropIfConditionMet(o,n)}},parseMsgMessage:function(e,t){if("message"===this.N.tag(e)){var r;this.N.attr("from",e)!==Store.Conn.me||this.N.attr("to",e)?this.N.attr("to",e)!==Store.Conn.me||this.N.attr("from",e)||(r="out"):r="in";var n,o=this.N.attr("id",e),i=parseInt(this.N.attr("t",e),10)||0,a=this.N.attr("to",e)||Store.Conn.me,s=this.N.attr("from",e)||Store.Conn.me,c="broadcast"===s.split("@")[1],u=this.N.attr("participant",e),l=c?u:s,p=c?void 0:u,h=!c&&(this.N.child("broadcast",e)&&s===Store.Conn.me),m="invis"===this.N.attr("web",e),g=this.N.attr("notify",e)||"",v=parseInt(this.N.attr("status",e))||0,y=[],b=this.N.child("broadcast",e);if("broadcast"!==a){try{var w=new f({from:l,to:a,id:o,participant:u,selfDir:r})}catch(E){return void d.error("drop: cannot create MsgKey: "+E.stack)()}switch(t){case"fresh":n=1;break;default:n=v>=-1&&v<=4?v:1}if(_.isArray(b)){var S,N=b.length;for(S=0;S<N;S++){var C=b[S],T=this.N.attr("jid",C);"to"===this.N.tag(C)&&T&&y.push(T)}}var k,$=[],A=this.N.attr("type",e);switch(A){case"ciphertext":case"text":var x=this.N.dataStr(this.N.child("body",e))||"";k={id:w,body:"text"===A?x:void 0,type:"text"===A?"chat":"ciphertext",t:i,notifyName:g,from:l,to:a,self:r,author:p,participant:u,invis:m,ack:n,broadcast:h,recipients:y},$=[!o,!i,!l,!a];break;case"media":var M,O,I,R,P,L,D=this.N.child("media",e),B=this.N.attr("type",D),U=this.N.attr("media_key",D),j=this.N.attr("mimetype",D);if("retry"===this.N.attr("reason",D))return;switch(B){case"image":case"video":case"document":var W=parseInt(this.N.attr("page_count",D),10)||0,Y=this.N.attr("filename",D);L=this.N.attr("caption",D),M=this.thumbFromMediaXml(D),O=this.N.attr("url",D),O=_.isString(O)&&O.indexOf("/u/")>0?void 0:O,I=this.N.attr("filehash",D),R=parseInt(this.N.attr("size",D),10)||0,P=this.N.attr("seconds",D),k={id:w,body:M,type:B,t:i,notifyName:g,from:l,to:a,self:r,author:p,participant:u,invis:m,ack:n,clientUrl:O,duration:P,broadcast:h,recipients:y,filehash:I,size:R,caption:L,mediaKey:U,pageCount:W,mimetype:j,filename:Y},$=[!o,!i,!l,!a];break;case"location":var F=this.N.attr("latitude",D),G=this.N.attr("longitude",D),q=this.N.attr("name",D);M=this.thumbFromMediaXml(D),O=this.N.attr("url",D),k={id:w,body:M,type:B,t:i,notifyName:g,from:l,to:a,self:r,author:p,participant:u,invis:m,ack:n,clientUrl:O,loc:q,lat:F,lng:G,broadcast:h,recipients:y},$=[!o,!i,!l,!a,!F||!G];break;case"audio":var K="live"===this.N.attr("origin",D)?"ptt":B;O=this.N.attr("url",D),O=_.isString(O)&&O.indexOf("/u/")>0?void 0:O,I=this.N.attr("filehash",D),R=parseInt(this.N.attr("size",D),10)||0,P=this.N.attr("seconds",D),k={id:w,type:K,t:i,notifyName:g,from:l,to:a,self:r,author:p,participant:u,invis:m,ack:n,clientUrl:O,duration:P,broadcast:h,recipients:y,filehash:I,size:R,mediaKey:U,mimetype:j},$=[!o,!i,!l,!a];break;case"vcard":var H=this.N.child("vcard",D),z=this.N.dataStr(H),V=this.N.attr("name",H);k={id:w,body:z,type:B,subtype:V,t:i,notifyName:g,from:l,to:a,self:r,author:p,participant:u,invis:m,ack:n,broadcast:h,recipients:y},$=[!o,!i,!l,!a,!z,!V];break;default:d.error("wap:parseMsgMessage unknown media type: "+this.N.toString(e),e)()}break;default:d.error("wap:parseMsgMessage unknown message type: "+this.N.toString(e),e)()}return this.dropIfConditionMet($,k)}}},parseMsgGp2:function(e){if("groups_v2"===this.N.tag(e)){var t,r=parseInt(this.N.attr("t",e),10)||0,n=this.N.attr("id",e),o=this.N.attr("jid",e),i="invis"===this.N.attr("web",e),a="true"===this.N.attr("owner",e),s=this.N.attr("type",e),c=this.N.attr("author",e),u=this.N.children(e),l=this.N.attr("participant",e),p=[];switch(s){case"create":t=this.N.attr("subject",e);break;case"subject":t=this.N.attr("subject",e);break;case"picture":t=this.N.attr("picture",e)}if(_.isArray(u)){var h,m=u.length;for(h=0;h<m;h++){var g=u[h],v=this.N.attr("jid",g);"participant"===this.N.tag(g)&&v&&p.push(v)}}try{var y=new f({fromMe:a,remote:o,id:n,participant:l})}catch(b){return void d.error("drop: cannot create MsgKey: "+b.stack)()}var w={t:r,id:y,from:a?Store.Conn.me:o,to:a?o:Store.Conn.me,author:c,participant:l,body:t?t.toString():void 0,type:"gp2",subtype:s,invis:i,recipients:p},E=[!n,!r,"subject"!==s&&"add"!==s&&"invite"!==s&&"remove"!==s&&"leave"!==s&&"picture"!==s&&"modify"!==s&&"create"!==s&&"delete"!==s&&"promote"!==s&&"demote"!==s,"subject"===s&&!t,("add"===s||"invite"===s||"remove"===s||"leave"===s||"promote"===s||"demote"===s||"modify"===s)&&0===p.length,!o,"string"==typeof o&&"g.us"!==o.split("@")[1]];return this.dropIfConditionMet(E,w)}},parseMsgBroadcast:function(e){if("broadcast"===this.N.tag(e)){var t,r,n=this.N.attr("type",e),o=this.N.attr("id",e),i=parseInt(this.N.attr("t",e),10)||0,a=this.N.attr("jid",e),s="true"===this.N.attr("owner",e),c=this.N.attr("participant",e);switch(n){case"create":t=parseInt(this.N.attr("count",e),10)||0;break;case"add":case"remove":r=this.N.child("participant",e),r&&(t=this.N.attr("jid",r))}try{var u=new f({fromMe:s,remote:a,id:o,participant:c})}catch(l){return void d.error("drop: cannot create MsgKey: "+l.stack)()}var p={id:u,t:i,participant:c,type:"broadcast_notification",subtype:n,from:s?Store.Conn.me:a,to:s?a:Store.Conn.me,body:t?t.toString():void 0},h=[!o,!i,!a,"string"==typeof a&&"broadcast"!==a.split("@")[1],"create"!==n&&"add"!==n&&"remove"!==n,("add"===n||"remove"===n)&&2!==t.split("@").length];return this.dropIfConditionMet(h,p)}},parseMsgNotification:function(e){if("notification"===this.N.tag(e)){var t=this.N.attr("id",e),r=parseInt(this.N.attr("t",e),10)||0,n=this.N.attr("jid",e),o=this.N.attr("participant",e),i="invis"===this.N.attr("web",e),a=this.N.dataStr(e),s="true"===this.N.attr("owner",e);try{var c=new f({fromMe:s,remote:n,id:t,participant:o})}catch(u){return void d.error("drop: cannot create MsgKey: "+u.stack)()}var l={id:c,type:"notification",t:r,invis:i,from:s?Store.Conn.me:n,to:s?n:Store.Conn.me,participant:o,body:a},p=[!t,!r,!n,2!==n.split("@").length];return this.dropIfConditionMet(p,l)}},sendConversationOpWithKey:function(e,t,r){var n=this;return new s["default"](function(o,i){var a=n.actionNode("set",[["chat",{type:e,jid:t,index:r?r.id:void 0,owner:r?r.fromMe.toString():void 0,participant:r?r.participant:void 0},void 0]]);n.BinaryProtocol.write(a).then(function(t){c.send({data:t,clientCacheable:!0,onSend:n.wrap(o),onDrop:n.wrap(i),binaryOpts:{debugString:"action,chat,"+[e,(r||"no_msg_key").toString()].join(),debugObj:a,metric:n.M.CHAT,ackRequest:!0}})})["catch"](i)})},setSubProtocol:function(e){5===e?(this.BinaryProtocol=new p("05"),this.N=this.BinaryProtocol.Node):6===e?(this.BinaryProtocol=new p("06"),this.N=this.BinaryProtocol.Node):(d.error("Wap:setSubProtocol unknown "+e)(),this.BinaryProtocol=new p("05"),this.N=this.BinaryProtocol.Node)},resyncMessages:function(e){var t=this;return new u(function(r,n){var o=function(e){t.BinaryProtocol.read(e).then(function(e){var n=[],o=t.N.children(e);if(d.logColor("green","bin-recv: response,resume",e)(),"response"===t.N.tag(e)&&"resume"===t.N.attr("type",e)&&_.isArray(o)){var i,a=o.length;for(i=0;i<a;i++){var s=t.parseChat(o[i]);s&&n.push(s)}}r({checksum:t.N.attr("checksum",e),data:n})})["catch"](n)},i=e.map(function(e){var t={jid:e.wid,index:e.id,owner:e.fromMe,participant:e.participant,archive:(!!e.archive).toString()};return e.mute&&(t.mute=e.mute.toString()),e.active&&(t.active="true"),l.isGroup(e.wid)&&(t.read_only=(!!e.isReadOnly).toString()),e.modifyTag&&(t.modify_tag=e.modifyTag.toString()),e.unreadCount&&(t.count=e.unreadCount.toString()),["last",t,void 0]}),a=t.queryNode({type:"resume"},i);t.BinaryProtocol.write(a).then(function(e){c.sendEphemeral({data:e,onSend:t.binWrap(o,r),onDrop:t.wrap(n),binaryOpts:{debugString:"query,resume",debugObj:a,metric:t.M.QUERY_RESUME,ackRequest:!1}})})["catch"](n)})},resyncReceipts:function(e){var t=this;return new s["default"](function(r,n){var o=function(e){t.BinaryProtocol.read(e).then(function(e){var n=[],o=t.N.children(e);if(d.logColor("green","bin-recv: response,receipt",e)(),"response"===t.N.tag(e)&&"receipt"===t.N.attr("type",e)&&_.isArray(o)){var i,a,s,c=o.length;for(i=0;i<c;i++){a=o[i],s=t.N.children(a);var u=t.N.attr("jid",a),l=t.N.attr("t",a);if("receipt"===t.N.tag(a)&&u&&l&&_.isArray(s)){var p,f=[],h=s.length;for(p=0;p<h;p++){var m=s[p];if("item"===t.N.tag(m)){var g=t.N.attr("index",m),v="true"===t.N.attr("owner",m),y=parseInt(t.N.attr("status",m),10)||0,b=t.N.attr("participant",m);g&&0!==y&&y<=4&&f.push([g,v,b,y])}}f.length>0&&n.push({id:u,t:parseInt(l,10),acks:f})}}}r(n)})["catch"](n)},i=e.map(function(e){return["last",{jid:e.remote,index:e.id,owner:e.fromMe.toString(),participant:e.participant,t:e.t.toString()},void 0]}),a=t.queryNode({type:"receipt"},i);t.BinaryProtocol.write(a).then(function(e){c.sendEphemeral({data:e,onSend:t.binWrap(o,r),onDrop:t.wrap(n),binaryOpts:{debugString:"query,receipt",debugObj:a,metric:t.M.QUERY_RECEIPT,ackRequest:!1}})})["catch"](n)})},recentEmojiQuery:function(e){var t=this;return new s["default"](function(r,n){var o=function(e){t.BinaryProtocol.read(e).then(function(e){var n=[],o=t.N.children(e);if(d.logColor("green","bin-recv: response,emoji",e)(),"response"===t.N.tag(e)&&"emoji"===t.N.attr("type",e)&&_.isArray(o)){var i,a=o.length;for(i=0;i<a;i++){var s=o[i],c=t.N.attr("code",s),u=parseFloat(t.N.attr("value",s))||0;"item"===t.N.tag(s)&&c&&u&&!isNaN(u)&&n.push({"char":c,weight:u})}}r(n)})["catch"](n)},i=_.isArray(e)?e.map(function(e){return["item",{code:e["char"],value:e.weight.toString()},void 0]}):void 0,a=t.queryNode({type:"emoji"},i);t.BinaryProtocol.write(a).then(function(e){c.sendEphemeral({data:e,onSend:t.binWrap(o,r),onDrop:t.wrap(n),binaryOpts:{debugString:"query,emoji",debugObj:a,metric:t.M.QUERY_EMOJI,ackRequest:!1}})})["catch"](n)})},queryMsgInfo:function(e){var t=this,r=function(e){var r,n,o=[];if(_.isArray(e)){r=e.length;for(var i=0;i<r;i++)n=e[i],"item"===t.N.tag(n)&&t.N.attr("jid",n)&&t.N.attr("t",n)&&o.push({id:t.N.attr("jid",n),t:parseInt(t.N.attr("t",n),10)||0})}return o};return new s["default"](function(n,o){var i=function(e){t.BinaryProtocol.read(e).then(function(e){var o={played:[],playedRemaining:0,read:[],readRemaining:0,delivery:[],deliveryRemaining:0};if(d.logColor("green","bin-recv: response,msg,info",e)(),"response"===t.N.tag(e)&&"message_info"===t.N.attr("type",e)){var i=t.N.child("played",e),a=t.N.child("read",e),s=t.N.child("delivery",e),c=t.N.children(i),u=t.N.children(a),l=t.N.children(s),p=parseInt(t.N.attr("count",e),10)||0;o.played=r(c),o.read=r(u),o.delivery=r(l);var f=p-o.played.length,h=p-o.played.length-o.read.length,m=p-o.played.length-o.read.length-o.delivery.length;o.playedRemaining=f<0?0:f,o.readRemaining=h<0?0:h,o.deliveryRemaining=m<0?0:m}n(o)})["catch"](o)},a=t.queryNode({type:"message_info",index:e.id,jid:e.remote},void 0);t.BinaryProtocol.write(a).then(function(r){c.sendEphemeral({data:r,onSend:t.binWrap(i,n),onDrop:t.wrap(o),binaryOpts:{debugString:["query,msg,info",e.id,e.remote,e.fromMe].join(),debugObj:a,metric:t.M.QUERY_MESSAGE_INFO,ackRequest:!1}})})["catch"](o)})},requestMediaReupload:function(e){var t=this;return new s["default"](function(r,n){var o=e.id,i=function(e){t.BinaryProtocol.read(e).then(function(e){var n;if("response"===t.N.tag(e)&&"media"===t.N.attr("type",e)){var o=parseInt(t.N.attr("code",e))||400,i=t.N.attr("url",e);o>=500&&502!==o?(d.error("wap:requestMediaReupload:error "+o)(),n={status:o}):200===o&&i?n={status:200,url:i,mediaKey:t.N.attr("media_key",e)}:200!==o||i?(d.error("wap:requestMediaReupload:error "+o)(),n={status:o}):n={status:400}}else d.error("wap:requestMediaReupload:malformed")(),n={status:400};r(n)})["catch"](n)},a=o,s=t.queryNode({type:"media",index:a.id,jid:a.remote,owner:a.fromMe.toString(),participant:a.participant},void 0);t.BinaryProtocol.write(s).then(function(e){c.sendEphemeral({data:e,onSend:t.binWrap(i,r),onDrop:t.wrap(n),binaryOpts:{debugString:"query,media",debugObj:s,metric:t.M.QUERY_MEDIA,ackRequest:!1}})})["catch"](n)})},sendConversationSeen:function(e,t,r){var n=this;return new s["default"](function(o,a){var s=n.actionNode("set",[["read",{jid:e,index:t?t.id:void 0,owner:t?t.fromMe.toString():void 0,participant:t?t.participant:void 0,count:r&&t?r.toString():void 0},void 0]]);n.BinaryProtocol.write(s).then(function(e){c.send({data:e,clientCacheable:!0,onSend:n.wrap(o),onDrop:n.wrap(a),binaryOpts:{debugString:"action,chat,read,"+(0,i["default"])(t)+","+r,debugObj:s,metric:n.M.READ,ackRequest:!0}})})["catch"](a)})},sendConversationUnseen:function(e,t){return this.sendConversationSeen(e,t,-2)},sendConversationClear:function(e,t){return this.sendConversationOpWithKey("clear",e,t)},sendConversationDelete:function(e,t){return this.sendConversationOpWithKey("delete",e,t)},sendConversationArchive:function(e,t,r){return this.sendConversationOpWithKey(t?"archive":"unarchive",e,r)},sendMessagePlayed:function(e){var t=this;return new s["default"](function(r,n){var o=t.wrap(r),i=t.actionNode("set",[["received",{type:"played",index:e.id,from:e.remote,participant:e.participant},void 0]]);t.BinaryProtocol.write(i).then(function(r){c.send({data:r,onSend:o,onDrop:t.wrap(n),binaryOpts:{debugString:"action,played,"+e.toString(),debugObj:i,metric:t.M.RECEIVED,ackRequest:!0}})})["catch"](n)})},sendMessageDelete:function(e,t,r){var n=this;return new s["default"](function(o,i){var a=t.map(function(e){return["item",{index:e.id,owner:e.fromMe.toString(),participant:e.participant},void 0]}),s=n.actionNode("set",[["chat",{type:"clear",jid:e,media:r.toString()},a]]);n.BinaryProtocol.write(s).then(function(a){c.send({data:a,clientCacheable:!0,onSend:n.wrap(o),onDrop:n.wrap(i),binaryOpts:{debugString:"action,msgs,delete,"+[e,r,t.length].join(),debugObj:s,metric:n.M.CHAT,ackRequest:!0}})})["catch"](i)})},msgFindQuery:function(e,t){var r=this;return"before"!==e?s["default"].reject("wap:msgFindQuery:unsupported:"+e):new s["default"](function(e,n){var o=function(t){r.BinaryProtocol.read(t).then(function(t){var n=[],o=r.N.children(t);if("response"===r.N.tag(t)&&"message"===r.N.attr("type",t)&&_.isArray(o)){var i,a=o.length;for(i=0;i<a;i++){var s=r.parseMsg(o[i],"response");s&&n.push(s)}}e(n)})["catch"](n)},i=r.queryNode({type:"message",jid:t.remote,count:t.count.toString(),index:t.id,owner:"undefined"==typeof t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},void 0);r.BinaryProtocol.write(i).then(function(a){c.sendEphemeral({data:a,onSend:r.binWrap(o,e),onDrop:r.wrap(n),binaryOpts:{debugString:"query,message,"+[t.toString(),t.count].join(),debugObj:i,metric:r.M.QUERY_MESSAGES,ackRequest:!1}})})["catch"](n)})}};e.exports=_.defaults(m,h)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(2),i=n(o),a=r(1),s=r(12),d=r(31),c=r(85),u=r(55),l=r(0),p=r(228),f={BinaryProtocol:null,N:null,M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23},epochCount:0,epoch:0,isRequestingDeviceUploadLogsMutex:0,parseChat:function(e){if("chat"===this.N.tag(e)){var t=this.N.attr("jid",e),r=parseInt(this.N.attr("t",e),10)||void 0,n=this.N.attr("type",e),o=parseInt(this.N.attr("mute",e),10)||void 0,i=parseInt(this.N.attr("before",e),10)||void 0,a="true"===this.N.attr("archive",e),s="true"===this.N.attr("read_only",e),d=parseInt(this.N.attr("modify_tag",e),10)||void 0,c=this.N.attr("name",e)||void 0,u=this.safeParseInt(e,"count"),l="true"===this.N.attr("message",e),p="true"===this.N.attr("star",e);"ahead"===n&&(n="clear");var f,h=this.N.children(e);if(_.isArray(h)){f=[];var m,g,v=h.length;for(m=0;m<v;m++)if(g=h[m],"item"===this.N.tag(g)){var y=this.N.attr("index",g);y&&f.push([y,"true"===this.N.attr("owner",g),this.N.attr("participant",g)])}}var b={id:t,t:r,type:n,keys:f,before:i,archive:a,isReadOnly:s,unreadCount:u,
muteExpiration:o,modifyTag:d,name:c,pendingMsgs:l,star:p},w=[n&&"delete"!==n&&"clear"!==n&&"archive"!==n&&"unarchive"!==n&&"mute"!==n&&"star"!==n&&"unstar"!==n&&"modify_tag"!==n,!n&&!t,a&&n&&"clear"!==n,"clear"!==n&&i&&i>0,"clear"!==n&&"star"!==n&&"unstar"!==n&&f&&f.length>0];return this.dropIfConditionMet(w,b)}},parseMsgMessage:function(e,t){if("message"===this.N.tag(e)){var r;this.N.attr("from",e)!==Store.Conn.me||this.N.attr("to",e)?this.N.attr("to",e)!==Store.Conn.me||this.N.attr("from",e)||(r="out"):r="in";var n,o=this.N.attr("id",e),i=parseInt(this.N.attr("t",e),10)||0,s=this.N.attr("to",e)||Store.Conn.me,d=this.N.attr("from",e)||Store.Conn.me,c="broadcast"===d.split("@")[1],l=this.N.attr("participant",e),p=c?l:d,f=c?void 0:l,h=!c&&(this.N.child("broadcast",e)&&d===Store.Conn.me),m="invis"===this.N.attr("web",e),g=this.N.attr("notify",e)||"",v=parseInt(this.N.attr("status",e))||0,y=[],b=this.N.child("broadcast",e),w="true"===this.N.attr("star",e);if("broadcast"!==s){try{var E=new u({from:p,to:s,id:o,participant:l,selfDir:r})}catch(S){return void a.error("drop: cannot create MsgKey: "+S.stack)()}switch(t){case"fresh":n=1;break;default:n=v>=-1&&v<=4?v:1}if(_.isArray(b)){var N,C=b.length;for(N=0;N<C;N++){var T=b[N],k=this.N.attr("jid",T);"to"===this.N.tag(T)&&k&&y.push(k)}}var $,A=[],x=this.N.attr("type",e);switch(x){case"ciphertext":case"text":var M=this.N.dataStr(this.N.child("body",e))||"";$={id:E,body:"text"===x?M:void 0,type:"text"===x?"chat":"ciphertext",t:i,notifyName:g,from:p,to:s,self:r,author:f,participant:l,invis:m,ack:n,broadcast:h,recipients:y,star:w};var O=this.N.child("media",e);O&&"url"===this.N.attr("type",O)&&_.merge($,{subtype:"url",title:this.N.attr("title",O),description:this.N.attr("description",O),canonicalUrl:this.N.attr("canonical-url",O),matchedText:this.N.attr("matched-text",O),thumbnail:this.thumbFromMediaXml(O)}),A=[!o,!i,!p,!s];break;case"media":var I,R,P,L,D,B,U=this.N.child("media",e),j=this.N.attr("type",U),W=this.N.attr("media_key",U),Y=this.N.attr("mimetype",U);if("retry"===this.N.attr("reason",U))return;switch(j){case"image":case"video":case"document":var F=parseInt(this.N.attr("page_count",U),10)||0,G=this.N.attr("filename",U);B=this.N.attr("caption",U),I=this.thumbFromMediaXml(U),R=this.N.attr("url",U),R=_.isString(R)&&R.indexOf("/u/")>0?void 0:R,P=this.N.attr("filehash",U),L=parseInt(this.N.attr("size",U),10)||0,D=this.N.attr("seconds",U),$={id:E,body:I,type:j,t:i,notifyName:g,from:p,to:s,self:r,author:f,participant:l,invis:m,ack:n,clientUrl:R,duration:D,broadcast:h,recipients:y,filehash:P,size:L,caption:B,mediaKey:W,star:w,pageCount:F,mimetype:Y,filename:G},A=[!o,!i,!p,!s];break;case"location":var q=this.N.attr("latitude",U),K=this.N.attr("longitude",U),H=this.N.attr("name",U);I=this.thumbFromMediaXml(U),R=this.N.attr("url",U),$={id:E,body:I,type:j,t:i,notifyName:g,from:p,to:s,self:r,author:f,participant:l,invis:m,ack:n,clientUrl:R,loc:H,lat:q,lng:K,broadcast:h,recipients:y,star:w},A=[!o,!i,!p,!s,!q||!K];break;case"audio":var z="live"===this.N.attr("origin",U)?"ptt":j;R=this.N.attr("url",U),R=_.isString(R)&&R.indexOf("/u/")>0?void 0:R,P=this.N.attr("filehash",U),L=parseInt(this.N.attr("size",U),10)||0,D=this.N.attr("seconds",U),$={id:E,type:z,t:i,notifyName:g,from:p,to:s,self:r,author:f,participant:l,invis:m,ack:n,clientUrl:R,duration:D,broadcast:h,recipients:y,filehash:P,size:L,star:w,mediaKey:W,mimetype:Y},A=[!o,!i,!p,!s];break;case"vcard":var V=this.N.child("vcard",U),Q=this.N.dataStr(V),X=this.N.attr("name",V);$={id:E,body:Q,type:j,subtype:X,t:i,notifyName:g,from:p,to:s,self:r,author:f,participant:l,invis:m,ack:n,broadcast:h,recipients:y,star:w},A=[!o,!i,!p,!s,!Q,!X];break;default:a.error("wap:parseMsgMessage unknown media type: "+this.N.toString(e),e)()}break;default:a.error("wap:parseMsgMessage unknown message type: "+this.N.toString(e),e)()}return this.dropIfConditionMet(A,$)}}},sendConversationOpWithKey:function(e,t,r,n){var o=this;return new i["default"](function(i,a){var d;switch(e){case"clear":d=(!!n).toString()}var c=o.actionNode("set",[["chat",{type:e,jid:t,index:r?r.id:void 0,owner:r?r.fromMe.toString():void 0,participant:r?r.participant:void 0,star:"undefined"!=typeof d?d:void 0},void 0]]);o.BinaryProtocol.write(c).then(function(t){s.send({data:t,clientCacheable:!0,onSend:o.wrap(i),onDrop:o.wrap(a),binaryOpts:{debugString:"action,chat,"+[e,r,n].join(),debugObj:c,metric:o.M.CHAT,ackRequest:!0}})})["catch"](a)})},setSubProtocol:function(e){e?(this.BinaryProtocol=new c(e),this.N=this.BinaryProtocol.Node):(a.error("Wap:setSubProtocol unknown "+e)(),s.updateImmediately("07_unknown_version"))},sendConversationClear:function(e,t,r){return this.sendConversationOpWithKey("clear",e,t,r)},sendMessageStarred:function(e,t,r){var n=this;return new i["default"](function(o,i){var a=t.map(function(e){return["item",{index:e.id,owner:e.fromMe.toString(),participant:e.participant},void 0]}),d=n.actionNode("set",[["chat",{type:r?"star":"unstar",jid:e},a]]);n.BinaryProtocol.write(d).then(function(a){s.send({data:a,clientCacheable:!0,onSend:n.wrap(o),onDrop:n.wrap(i),binaryOpts:{debugString:"action,msgs,star,"+[e,r,t.length].join(),debugObj:d,metrics:n.M.CHAT,ackRequest:!0}})})["catch"](i)})},sendUnstarAll:function(){var e=this;return new i["default"](function(t,r){var n=e.actionNode("set",[["chat",{type:"unstar"},void 0]]);e.BinaryProtocol.write(n).then(function(o){s.send({data:o,clientCacheable:!0,onSend:e.wrap(t),onDrop:e.wrap(r),binaryOpts:{debugString:"action,unstar,all",debugObj:n,metrics:e.M.CHAT,ackRequest:!0,expires:l().unix()}})})["catch"](r)})},sendSetBlock:function(e,t){var r=this;return new i["default"](function(n,o){var i=t.map(function(e){return["user",{jid:e.jid},void 0]}),a=["block",{type:e?"add":"remove"},i],d=r.actionNode("set",[a]);r.BinaryProtocol.write(d).then(function(i){s.send({data:i,clientCacheable:!0,onSend:r.wrap(n),onDrop:r.wrap(o),binaryOpts:{debugString:"action,block,"+e+","+_.map(t,"jid").join(","),debugObj:d,metric:r.M.BLOCK,ackRequest:!1,expires:l().unix()}})})["catch"](o)})},sendSpamReport:function(e){var t=this;return new i["default"](function(r,n){var o=t.actionNode("set",[["spam",{jid:e},void 0]]);t.BinaryProtocol.write(o).then(function(i){s.send({data:i,onSend:t.wrap(r),onDrop:t.wrap(n),binaryOpts:{debugString:"action,spam,"+e,debugObj:o,metric:t.M.SPAM,ackRequest:!1,expires:l().unix()}})})["catch"](n)})},chatFindQuery:function(e){var t=this;return new i["default"](function(r,n){var o=function(e){t.BinaryProtocol.read(e).then(function(e){var n=[],o=t.N.children(e);if("response"===t.N.tag(e)&&"chat"===t.N.attr("type",e))if("true"===t.N.attr("duplicate",e))n="preempted";else if(_.isArray(o)){var i,a=o.length;for(i=0;i<a;i++){var s=t.parseChat(o[i]);s&&n.push(s)}}r(n)})["catch"](n)},i={type:"chat"};"boolean"==typeof e&&e?i.kind="retry":"string"==typeof e&&(i.jid=e);var a=t.queryNode(i,void 0);t.BinaryProtocol.write(a).then(function(i){s.sendEphemeral({data:i,onSend:t.binWrap(o,r),onDrop:t.wrap(n),binaryOpts:{debugString:["query","chat",e].join(),debugObj:a,metric:t.M.QUERY_CHAT,ackRequest:!1}})})["catch"](n)})},msgCreateRecord:function(e,t){var r=this;return new i["default"](function(n,o){var c,u,l=e.id.id;if("chat"===e.type){var p=[["body",void 0,e.body]];"url"===e.subtype&&p.push(["media",{type:"url",title:e.title,description:e.description,"canonical-url":e.canonicalUrl,"matched-text":e.matchedText,encoding:"raw"},e.thumbnail?d.decode(e.thumbnail):void 0]),u=i["default"].resolve(["message",{type:"text",to:e.to,id:e.id.id,t:e.t.toString()},p])}else if("location"===e.type)c=e.body?d.decode(e.body):void 0,u=i["default"].resolve(["message",{type:"media",to:e.to,id:e.id.id,t:e.t.toString()},[["media",{type:"location",latitude:e.lat||void 0,longitude:e.lng||void 0,name:e.loc&&e.clientUrl?e.loc:void 0,url:e.loc&&e.clientUrl?e.clientUrl:void 0,encoding:e.body?"raw":void 0},c]]]);else if("vcard"===e.type){var f=["vcard",{name:e.subtype},e.body];u=i["default"].resolve(["message",{type:"media",to:e.to,id:e.id.id,t:e.t.toString()},[["media",{type:"vcard"},[f]]]])}else{var h=e.mediaKey;c=e.body?d.decode(e.body):void 0;var m="ptt"===e.type?"audio":e.type;u=(t&&!h?r.sendMedia(e.avparams):i["default"].resolve(_.merge({status:200,type:m},e.avparams))).then(function(t){if(200===t.status)return i["default"].resolve(["message",{type:"media",to:e.to,id:e.id.id,t:e.t.toString()},[["media",{encoding:e.body?"raw":void 0,origin:"ptt"===e.type?"live":void 0,seconds:"ptt"===e.type&&e.duration?e.duration.toString():void 0,type:t.type,mimetype:e.mimetype||t.mimetype||void 0,size:e.size?e.size.toString():void 0,filehash:t.filehash,url:t.url,duration:t.duration?t.duration.toString():void 0,vcodec:t.vcodec||void 0,width:t.width?t.width.toString():void 0,height:t.height?t.height.toString():void 0,fps:t.fps?t.fps.toString():void 0,vbitrate:t.vbitrate?t.vbitrate.toString():void 0,acodec:t.acodec||void 0,asampfreq:t.asampfreq?t.asampfreq.toString():void 0,asampfmt:t.asampfmt||void 0,abitrate:t.abitrate?t.abitrate.toString():void 0,caption:"video"!==e.type&&"image"!==e.type&&"document"!==e.type||!e.caption?void 0:e.caption,page_count:"number"!=typeof e.pageCount||isNaN(e.pageCount)?void 0:e.pageCount.toString(),media_key:h,filename:t.filename},c]]]);var r="wap:msgCreateRecord:sendMedia error "+t.status;return a.error(r)(),i["default"].reject(r)})["catch"](function(){return a.error("wap:msgCreateRecord:sendMedia dropped")(),i["default"].reject("wap:msgCreateRecord:sendMedia dropped")})}u.then(function(t){var i=r.actionNode("relay",[t]),a=r.wrap(n);a.tag=l,a.meta={type:"message",key:e.id},r.BinaryProtocol.write(i).then(function(t){s.send({data:t,onSend:a,onDrop:r.wrap(o),binaryOpts:{debugString:["action","message",e.type,e.subtype].join(),debugObj:i,metric:r.M.MESSAGE,ackRequest:!1}})})["catch"](o)})["catch"](function(){a.error("wap:msgCreateRecord mPromise error")(),o("wap:msgCreateRecord mPromise error")})})},msgFindQuery:function(e,t){var r=this;return"before"!==e?i["default"].reject("wap:msgFindQuery:unsupported:"+e):new i["default"](function(e,n){var o=function(t){r.BinaryProtocol.read(t).then(function(t){var n=[],o=r.N.children(t);if("response"===r.N.tag(t)&&("message"===r.N.attr("type",t)||"star"===r.N.attr("type",t)||"search"===r.N.attr("type",t))&&_.isArray(o)){var i,a=o.length;for(i=0;i<a;i++){var s=r.parseMsg(o[i],"response");s&&n.push(s)}}e(n)})["catch"](n)},i=r.queryNode({type:"message",jid:t.remote,count:t.count.toString(),index:t.id,owner:"undefined"==typeof t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},void 0);r.BinaryProtocol.write(i).then(function(a){s.sendEphemeral({data:a,onSend:r.binWrap(o,e),onDrop:r.wrap(n),binaryOpts:{debugString:"query,message,"+[t.toString(),t.count].join(),debugObj:i,metric:r.M.QUERY_MESSAGES,ackRequest:!1}})})["catch"](n)})}};e.exports=_.defaults(f,p)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(2),i=n(o),a=r(1),s=r(12),d=r(59),c=r(21),u=r(85),l=r(229),p={version:"08",BinaryProtocol:null,N:null,M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24},epochCount:0,epoch:0,isRequestingDeviceUploadLogsMutex:0,parseChat:function(e){if("chat"===this.N.tag(e)){var t=this.N.attr("jid",e),r=parseInt(this.N.attr("t",e),10)||void 0,n=this.N.attr("type",e),o=parseInt(this.N.attr("mute",e),10)||void 0,i=parseInt(this.N.attr("before",e),10)||void 0,a="true"===this.N.attr("archive",e),s="true"===this.N.attr("read_only",e),d=parseInt(this.N.attr("modify_tag",e),10)||void 0,c=this.N.attr("name",e)||void 0,u=this.safeParseInt(e,"count"),l="true"===this.N.attr("message",e),p="true"===this.N.attr("star",e),f="false"===this.N.attr("spam",e);"ahead"===n&&(n="clear");var h,m=this.N.children(e);if(_.isArray(m)){h=[];var g,v,y=m.length;for(g=0;g<y;g++)if(v=m[g],"item"===this.N.tag(v)){var b=this.N.attr("index",v);b&&h.push([b,"true"===this.N.attr("owner",v),this.N.attr("participant",v)])}}var w={id:t,t:r,type:n,keys:h,before:i,archive:a,isReadOnly:s,unreadCount:u,muteExpiration:o,modifyTag:d,name:c,pendingMsgs:l,star:p,notSpam:f},E=[n&&"delete"!==n&&"clear"!==n&&"archive"!==n&&"unarchive"!==n&&"mute"!==n&&"star"!==n&&"unstar"!==n&&"spam"!==n&&"modify_tag"!==n,!n&&!t,a&&n&&"clear"!==n,"clear"!==n&&i&&i>0,"clear"!==n&&"star"!==n&&"unstar"!==n&&h&&h.length>0];return this.dropIfConditionMet(E,w)}},sendConversationOpWithKey:function(e,t,r,n){var o=this;return new i["default"](function(i,a){var d,c;switch(e){case"clear":d=(!!n).toString();break;case"spam":c=(!!n).toString()}var u=o.actionNode("set",[["chat",{type:e,jid:t,index:r?r.id:void 0,owner:r?r.fromMe.toString():void 0,participant:r?r.participant:void 0,star:"undefined"!=typeof d?d:void 0,spam:"undefined"!=typeof c?c:void 0},void 0]]);o.BinaryProtocol.write(u).then(function(t){s.send({data:t,clientCacheable:!0,onSend:o.wrap(i),onDrop:o.wrap(a),binaryOpts:{debugString:"action,chat,"+[e,r,n].join(),debugObj:u,metric:o.M.CHAT,ackRequest:!0}})})["catch"](a)})},setSubProtocol:function(e){e?(this.BinaryProtocol=new u(e),this.N=this.BinaryProtocol.Node):(a.error("Wap:setSubProtocol unknown "+e)(),s.updateImmediately(this.version+"_unknown_version"))},resyncMessages:function(e){var t=this;return new d(function(r,n){var o=function(e){t.BinaryProtocol.read(e).then(function(e){var n=[],o=t.N.children(e);if(a.logColor("green","bin-recv: response,resume",e)(),"response"===t.N.tag(e)&&"resume"===t.N.attr("type",e)&&_.isArray(o)){var i,s=o.length;for(i=0;i<s;i++){var d=t.parseChat(o[i]);d&&n.push(d)}}r({checksum:t.N.attr("checksum",e),data:n})})["catch"](n)},i=e.map(function(e){var t={jid:e.wid,index:e.id,owner:e.fromMe,participant:e.participant,archive:(!!e.archive).toString(),spam:(!e.notSpam).toString()};return e.mute&&(t.mute=e.mute.toString()),e.active&&(t.active="true"),c.isGroup(e.wid)&&(t.read_only=(!!e.isReadOnly).toString()),e.modifyTag&&(t.modify_tag=e.modifyTag.toString()),e.unreadCount&&(t.count=e.unreadCount.toString()),["last",t,void 0]}),d=t.queryNode({type:"resume"},i);t.BinaryProtocol.write(d).then(function(e){s.sendEphemeral({data:e,onSend:t.binWrap(o,r),onDrop:t.wrap(n),binaryOpts:{debugString:"query,resume",debugObj:d,metric:t.M.QUERY_RESUME,ackRequest:!1}})})["catch"](n)})},requestMediaReupload:function(e){var t=this;return new i["default"](function(r,n){var o=e.id,i=function(e){t.BinaryProtocol.read(e).then(function(e){var n;if(a.logColor("green","bin-recv: response,media",e)(),"response"===t.N.tag(e)&&"media"===t.N.attr("type",e)){var o=parseInt(t.N.attr("code",e))||400,i=t.N.attr("url",e);o>=500&&502!==o?(a.error("wap:requestMediaReupload:error "+o)(),n={status:o}):200===o&&i?n={status:200,url:i,mediaKey:t.N.attr("media_key",e)}:200!==o||i?(a.error("wap:requestMediaReupload:error "+o)(),n={status:o}):n={status:400}}else a.error("wap:requestMediaReupload:malformed")(),n={status:400};r(n)})["catch"](n)},d=o,c=t.queryNode({type:"media",index:d.id,jid:d.remote,owner:d.fromMe.toString(),participant:d.participant},void 0);t.BinaryProtocol.write(c).then(function(e){s.sendEphemeral({data:e,onSend:t.binWrap(i,r),onDrop:t.wrap(n),binaryOpts:{debugString:"query,media",debugObj:c,metric:t.M.QUERY_MEDIA,ackRequest:!1}})})["catch"](n)})},sendConversationUnseen:function(e,t){return this.sendConversationSeen(e,t,-2)},sendConversationNotSpam:function(e){return this.sendConversationOpWithKey("spam",e,void 0,!1)},msgFindQuery:function(e,t){var r=this;return new i["default"](function(n,o){var i,d=function(e){r.BinaryProtocol.read(e).then(function(e){var t=[],o=r.N.children(e);if(a.logColor("green","bin-recv: response,msg",e)(),"response"===r.N.tag(e)&&("message"===r.N.attr("type",e)||"star"===r.N.attr("type",e)||"search"===r.N.attr("type",e))&&_.isArray(o)){var i,s=o.length;for(i=0;i<s;i++){var d=r.parseMsg(o[i],"response");d&&t.push(d)}}n(t)})["catch"](o)},c="";switch(e){case"after":t.id||(e="before");case"before":i={type:"message",kind:e,jid:t.remote,count:t.count.toString(),index:t.id,owner:"undefined"==typeof t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},c=[t.toString(),t.count].join();break;case"search":i={type:"search",search:t.searchTerm},c="search,"+t.searchTerm;break;case"star":i={type:"star"},c="starred"}var u=r.queryNode(i,void 0);r.BinaryProtocol.write(u).then(function(e){s.sendEphemeral({data:e,onSend:r.binWrap(d,n),onDrop:r.wrap(o),binaryOpts:{debugString:"query,message,"+c,debugObj:u,metric:r.M.QUERY_SEARCH,ackRequest:!1}})})["catch"](o)})}};e.exports=_.defaults(p,l)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(2),i=n(o),a=r(1),s=r(12),d=r(31),c=r(55),u=r(0),l=r(230),p={version:"09",BinaryProtocol:null,N:null,M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28},epochCount:0,epoch:0,parseChat:function(e){if("chat"===this.N.tag(e)){var t=this.N.attr("jid",e),r=parseInt(this.N.attr("t",e),10)||void 0,n=this.N.attr("type",e),o=parseInt(this.N.attr("mute",e),10)||void 0,i=parseInt(this.N.attr("before",e),10)||void 0,a="true"===this.N.attr("archive",e),s="true"===this.N.attr("read_only",e),d=parseInt(this.N.attr("modify_tag",e),10)||void 0,c=this.N.attr("name",e)||void 0,u=this.safeParseInt(e,"count"),l="true"===this.N.attr("message",e),p="true"===this.N.attr("star",e),f="false"===this.N.attr("spam",e);"ahead"===n&&(n="clear");var h,m=this.N.children(e);if(_.isArray(m)){h=[];var g,v,y=m.length;for(g=0;g<y;g++)if(v=m[g],"item"===this.N.tag(v)){var b=this.N.attr("index",v);b&&h.push([b,"true"===this.N.attr("owner",v),this.N.attr("participant",v)])}else{var w=this.parseMsgMessage(v,"response");w&&h.push(w)}}var E={id:t,t:r,type:n,keys:h,before:i,archive:a,isReadOnly:s,unreadCount:u,muteExpiration:o,modifyTag:d,name:c,pendingMsgs:l,star:p,notSpam:f},S=[n&&"delete"!==n&&"clear"!==n&&"archive"!==n&&"unarchive"!==n&&"mute"!==n&&"star"!==n&&"unstar"!==n&&"spam"!==n&&"modify_tag"!==n,!n&&!t,a&&n&&"clear"!==n,"clear"!==n&&i&&i>0,"clear"!==n&&"star"!==n&&"unstar"!==n&&h&&h.length>0];return this.dropIfConditionMet(S,E)}},parseMsgCallLog:function(e){if("call_log"===this.N.tag(e)){var t=parseInt(this.N.attr("t",e),10)||0,r=this.N.attr("id",e),n=this.N.attr("jid",e),o="true"===this.N.attr("owner",e),i=this.N.attr("participant",e),s=this.N.attr("type",e);switch(s){case"miss":}try{var d=new c({fromMe:o,remote:n,id:r,participant:i})}catch(u){return void a.error("drop: cannot create MsgKey: "+u.stack)()}var l={id:d,t:t,participant:i,type:"call_log",subtype:s,from:o?Store.Conn.me:n,to:o?n:Store.Conn.me},p=[!r,!t,!n,"miss"!==s];return this.dropIfConditionMet(p,l)}},parseMsgSecurity:function(e){if("security"===this.N.tag(e)){var t,r=parseInt(this.N.attr("t",e),10)||0,n=this.N.attr("id",e),o=this.N.attr("jid",e),i="true"===this.N.attr("owner",e),s=this.N.attr("participant",e),d=this.N.attr("type",e);switch(d){case"identity":var u=this.N.child("participant",e);u&&(t=this.N.attr("jid",u));break;case"encrypt":}try{var l=new c({fromMe:i,remote:o,id:n,participant:s})}catch(p){return void a.error("drop: cannot create MsgKey: "+p.stack)()}var f={id:l,t:r,participant:s,type:"e2e_notification",subtype:d,from:i?Store.Conn.me:o,to:i?o:Store.Conn.me,body:t},h=[!n,!r,!o,"identity"!==d&&"encrypt"!==d,"identity"===d&&!t];return this.dropIfConditionMet(h,f)}},parseCmd:function(e){switch(this.N.tag(e)){case"read":var t=this.N.attr("jid",e),r="false"===this.N.attr("type",e),n={type:r?"unread":"read",jid:t},o=[!t];return this.dropIfConditionMet(o,n);case"identity":var i=this.parseIdentity(e);if(i)return i.type="identity",i;return;default:return}},parseIdentity:function(e){var t=this.N.child("raw",e),r=this.N.child("text",e);if(t&&r&&this.N.children(t)instanceof ArrayBuffer&&this.N.dataStr(r))return{jid:this.N.attr("jid",e),binary:this.N.children(t),string:this.N.dataStr(r)}},queryIdentity:function(e){var t=this;return new i["default"](function(r,n){var o=function(e){t.BinaryProtocol.read(e).then(function(e){var n=void 0;a.logColor("green","bin-recv: response,identity",e)(),"response"===t.N.tag(e)&&"identity"===t.N.attr("type",e)&&(n=t.parseIdentity(e)),r(n)})["catch"](n)},i=t.queryNode({type:"identity",jid:e},void 0);t.BinaryProtocol.write(i).then(function(a){s.sendEphemeral({data:a,onSend:t.binWrap(o,r),onDrop:t.wrap(n),binaryOpts:{debugString:"query,identity,"+e,debugObj:i,metric:t.M.QUERY_IDENTITY,ackRequest:!1}})})["catch"](n)})},queryLinkPreview:function(e){var t=this;return new i["default"](function(r,n){var o=function(e){t.BinaryProtocol.read(e).then(function(e){var n=void 0;if(a.logColor("green","bin-recv: response,url",e)(),"response"===t.N.tag(e)&&"url"===t.N.attr("type",e)){var o=t.N.children(e);n={title:t.N.attr("title",e),description:t.N.attr("description",e),canonicalUrl:t.N.attr("canonical-url",e),matchedText:t.N.attr("matched-text",e),thumbnail:o?d.encode(o):void 0}}r(n)})["catch"](n)},i=t.queryNode({type:"url",url:e},void 0);t.BinaryProtocol.write(i).then(function(a){s.sendEphemeral({data:a,onSend:t.binWrap(o,r),onDrop:t.wrap(n),binaryOpts:{debugString:"query,url,"+e,debugObj:i,metric:t.M.QUERY_URL,ackRequest:!1}})})["catch"](n)})},msgFindQuery:function(e,t){var r=this;return new i["default"](function(n,o){var i,d=function(e){r.BinaryProtocol.read(e).then(function(e){var t=[],o=r.N.children(e);if(a.logColor("green","bin-recv: response,msg",e)(),"response"===r.N.tag(e)&&("message"===r.N.attr("type",e)||"star"===r.N.attr("type",e)||"search"===r.N.attr("type",e)||"media_message"===r.N.attr("type",e))){if(_.isArray(o)){var i,s=o.length;for(i=0;i<s;i++){var d=r.parseMsg(o[i],"response");d&&t.push(d)}}"search"===r.N.attr("type",e)&&(t={eof:"true"===r.N.attr("last",e),messages:t})}n(t)})["catch"](o)},c="";switch(e){case"after":t.id||(e="before");case"before":i={type:"message",kind:e,jid:t.remote,count:t.count.toString(),index:t.id,owner:"undefined"==typeof t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},c=[t.toString(),t.count].join();break;case"search":i={type:"search",search:t.searchTerm,page:t.page.toString(),count:t.count.toString()},c=["search",t.searchTerm,t.page,t.count].join();break;case"star":i={type:"star",chat:t.chat,count:t.count.toString(),jid:t.remote,index:t.id,owner:"undefined"==typeof t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},c="starred";break;case"media":i={type:"media_message",count:t.count.toString(),kind:t.direction,jid:t.remote,index:t.id,owner:"undefined"==typeof t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},c="media"}var u=r.queryNode(i,void 0);r.BinaryProtocol.write(u).then(function(e){s.sendEphemeral({data:e,onSend:r.binWrap(d,n),onDrop:r.wrap(o),binaryOpts:{debugString:"query,message,"+c,debugObj:u,metric:r.M.QUERY_SEARCH,ackRequest:!1}})})["catch"](o)})},sendUnstarAll:function(e){var t=this;return new i["default"](function(r,n){var o=t.actionNode("set",[["chat",{type:"unstar",jid:e||void 0},void 0]]);t.BinaryProtocol.write(o).then(function(i){s.send({data:i,clientCacheable:!0,onSend:t.binWrap(r,r),onDrop:t.wrap(n),binaryOpts:{debugString:"action,unstar,all,"+e,debugObj:o,metrics:t.M.CHAT,ackRequest:!0,expires:u().unix()}})})["catch"](n)})},setPushname:function(e){var t=this;return new i["default"](function(r,n){var o=t.actionNode("set",[["profile",{name:e},void 0]]);t.BinaryProtocol.write(o).then(function(e){s.send({data:e,onSend:t.binWrap(r,r),onDrop:t.wrap(n),binaryOpts:{debugString:"action,pushname",debugObj:o,metric:t.M.PROFILE,ackRequest:!1}})})["catch"](n)})},addContact:function(e){var t=this;return new i["default"](function(r,n){var o=t.actionNode("set",[["contacts",{type:"add"},e]]);t.BinaryProtocol.write(o).then(function(e){s.send({data:e,clientCacheable:!0,onSend:t.binWrap(r,r),onDrop:t.wrap(n),binaryOpts:{debugString:"action,contact,add",debugObj:o,metric:t.M.CONTACT,ackRequest:!0}})})["catch"](n)})}};e.exports=_.defaults(p,l)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e&&e.replace(/@s.whatsapp.net$/i,"@c.us")}function i(e){return e&&e.replace(/@c.us$/,"@s.whatsapp.net")}function a(e){return e&&e.indexOf("/u/")===-1?e:void 0}function s(e){return e?f.encode(e):void 0}function d(e){return e?f.decode(e):void 0}function c(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2],n=new v,o=e.mimetype||t.mimetype||void 0,i=t.duration;switch(e.type){case"chat":"url"===e.subtype||e.quotedMsg||e.mentionedJidList?n.extendedTextMessage=new v.ExtendedTextMessage({text:e.body,matchedText:e.matchedText,canonicalUrl:e.canonicalUrl,description:e.description,title:e.title,jpegThumbnail:d(e.thumbnail),contextInfo:r}):n.conversation=e.body;break;case"location":var a=new v.LocationMessage({degreesLatitude:parseFloat(e.lat)||void 0,degreesLongitude:parseFloat(e.lng)||void 0,jpegThumbnail:d(e.body),contextInfo:r});if(e.loc&&_.isString(e.loc)&&e.clientUrl){var s=e.loc.split("\n");a.name=s[0],a.address=s[1],a.url=e.clientUrl}n.locationMessage=a;break;case"vcard":n.contactMessage=new v.ContactMessage({displayName:e.subtype,vcard:e.body,contextInfo:r});break;case"multi_vcard":n.contactsArrayMessage=new v.ContactsArrayMessage({displayName:e.subtype,contacts:e.vcardList.map(function(e){return new v.ContactMessage(e)}),contextInfo:r});break;case"image":n.imageMessage=new v.ImageMessage({url:t.url,mimetype:o,caption:e.caption,fileSha256:d(t.filehash),height:t.height,width:t.width,fileLength:_.isNumber(e.size)?e.size:void 0,mediaKey:d(e.mediaKey),jpegThumbnail:d(e.body),contextInfo:r});break;case"document":var c=new v.DocumentMessage({url:t.url,mimetype:o,title:e.caption,fileSha256:d(t.filehash),filename:t.filename,fileLength:_.isNumber(e.size)?e.size:void 0,mediaKey:d(e.mediaKey),jpegThumbnail:d(e.body),contextInfo:r});_.isNumber(e.pageCount)&&!isNaN(e.pageCount)&&(c.pageCount=e.pageCount),n.documentMessage=c;break;case"ptt":case"audio":i=_.isString(i)?parseInt(i,10):i,n.audioMessage=new v.AudioMessage({url:t.url,mimetype:o,fileSha256:d(t.filehash),seconds:i,ptt:"ptt"===e.type,fileLength:_.isNumber(e.size)?e.size:void 0,mediaKey:d(e.mediaKey),contextInfo:r});break;case"video":i=_.isString(i)?parseInt(i,10):i,n.videoMessage=new v.VideoMessage({url:t.url,mimetype:o,fileSha256:d(t.filehash),seconds:i,caption:e.caption,fileLength:_.isNumber(e.size)?e.size:void 0,mediaKey:d(e.mediaKey),jpegThumbnail:d(e.body),gifPlayback:e.isGif,gifAttribution:e.gifAttribution,contextInfo:r})}return n}function u(e,t){if(!e)return h.assert(!1,"null-message","drop: not Message")(e,t),t;var r=e.conversation,n=e.imageMessage,i=e.contactMessage,d=e.locationMessage,c=e.extendedTextMessage,l=e.documentMessage,p=e.audioMessage,f=e.videoMessage,m=void 0;if(_.isString(r)&&_.merge(t,{type:"chat",body:r}),n&&(_.merge(t,{type:"image",clientUrl:a(n.url),mimetype:n.mimetype,caption:n.caption,filehash:s(n.fileSha256),size:n.fileLength,height:n.height,width:n.width,mediaKey:s(n.mediaKey),body:s(n.jpegThumbnail)||""}),m=n.contextInfo),i&&(_.merge(t,{type:"vcard",subtype:i.displayName,body:i.vcard}),m=i.contextInfo),d){var g=d.name&&d.address?d.name+"\n"+d.address:d.name||d.address||"";_.merge(t,{type:"location",lat:void 0!==d.degreesLatitude?""+d.degreesLatitude:void 0,lng:void 0!==d.degreesLongitude?""+d.degreesLongitude:void 0,loc:g,body:s(d.jpegThumbnail)||"",clientUrl:d.url}),m=d.contextInfo}if(c&&(_.merge(t,{type:"chat",subtype:"url",body:c.text||"",matchedText:c.matchedText,canonicalUrl:c.canonicalUrl,description:c.description,title:c.title,thumbnail:s(c.jpegThumbnail)||""}),m=c.contextInfo),l&&(_.merge(t,{type:"document",clientUrl:a(l.url),mimetype:l.mimetype,caption:l.title,filehash:s(l.fileSha256),size:l.fileLength||0,pageCount:l.pageCount||0,mediaKey:s(l.mediaKey),filename:l.fileName,body:s(l.jpegThumbnail)||""}),m=l.contextInfo),p&&(_.merge(t,{type:p.ptt?"ptt":"audio",clientUrl:a(p.url),mimetype:p.mimetype,filehash:s(p.fileSha256),size:p.fileLength||0,duration:""+(p.seconds||0),mediaKey:s(p.mediaKey)}),m=p.contextInfo),f&&(_.merge(t,{type:"video",clientUrl:a(f.url),mimetype:f.mimetype,filehash:s(f.fileSha256),size:f.fileLength||0,duration:""+(f.seconds||0),mediaKey:s(f.mediaKey),caption:f.caption,body:s(f.jpegThumbnail)||"",isGif:f.gifPlayback,gifAttribution:f.gifAttribution}),m=f.contextInfo),m){var v=m.quotedMessage,y=m.mentionedJid;_.merge(t,{quotedMsg:v&&u(v,{}),quotedStanzaID:m.stanzaId,quotedParticipant:o(m.participant),mentionedJidList:_.isArray(y)?y.map(o):y})}return t}var l=r(2),p=n(l),f=r(31),h=r(1),m=r(211),g=r(434),v=g.Message,y=g.WebMessageInfo,b=g.ContextInfo,w=r(12),E=r(55),S=r(21),N=r(231),C={version:"10",parseMsgMessage:function(e,t){if("message"!==this.N.tag(e))return void h.error("drop: not message")(e);if("ciphertext"===this.N.attr("type",e)){var r=this.N.attr("id",e),n=this.N.attr("from",e),i=this.N.attr("participant",e),a=S.isBroadcast(n)?i:n,d=void 0;try{d=new E({from:a,to:Store.Conn.me,id:r,participant:i})}catch(c){return void h.error("drop: cannot create MsgKey: "+c.stack)()}return{type:"ciphertext",t:parseInt(this.N.attr("t",e),10)||0,id:d,from:a,to:Store.Conn.me,participant:i,author:S.isBroadcast(n)?void 0:i,star:"true"===this.N.attr("star",e)}}var l=this.N.children(e);if(!(l instanceof ArrayBuffer))return void h.error("drop: no bytes")(e);var p=void 0;try{p=y.parse(l)}catch(c){return void h.assert(!1,"parse-error","drop: failed parsing wmi "+c)(e)}var f=p.key,m=o(f.remoteJid),_=f.fromMe?m:Store.Conn.me,g=f.fromMe?Store.Conn.me:m,v=o(f.participant),b=void 0;if(m===Store.Conn.me&&(b=f.fromMe?"out":"in"),"broadcast"===_)return void h.error("drop: broadcast")(e);var w=void 0;try{w=new E({fromMe:f.fromMe,remote:m,id:f.id,participant:v})}catch(c){return void h.error("drop: cannot create MsgKey: "+c.stack)()}return u(p.message,{id:w,from:g,to:_,self:b,participant:v,type:"unknown",t:p.messageTimestamp||0,ack:"fresh"===t?1:p.status-1,author:o(p.participant),invis:!!p.ignore,star:!!p.starred,broadcast:f.fromMe&&p.broadcast,notifyName:p.pushName||"",encFilehash:s(p.mediaCiphertextSha256)})},msgCreateRecord:function(e,t){var r=this;return p["default"].callSynchronously(function(){if(["ptt","audio","image","video","document"].indexOf(e.type)>-1){var n="ptt"===e.type?"audio":e.type;return t&&!e.mediaKey?r.sendMedia(e.avparams):_.merge({status:200,type:n},e.avparams)}})["catch"](function(e){return h.error("wap:msgCreateRecord mPromise error ("+m.encodeErrorInfo()+"): "+e.stack)(),p["default"].reject("wap:msgCreateRecord mPromise error")}).then(function(t){if(t&&200!==t.status){var n="wap:msgCreateRecord:sendMedia error "+t.status;return h.error(n)(),p["default"].reject(n)}var o=e.id.id,a=void 0;if(e.quotedMsg){var s=e.quotedMsg.mentionedJidList,d=_.isArray(s)?{mentionedJid:s.map(i)}:void 0;d&&(d=new b(d)),a={stanzaId:e.quotedStanzaID,participant:i(e.quotedParticipant),quotedMessage:c(e.quotedMsg,{mimetype:e.quotedMsg.mimetype,duration:e.quotedMsg.duration,url:e.quotedMsg.clientUrl,filehash:e.quotedMsg.filehash},d)}}if(e.mentionedJidList){var u=e.mentionedJidList;a=a||{},a.mentionedJid=u.map(i)}a&&(a=new b(a));var l=new y.MessageKey({remoteJid:i(e.to),fromMe:!0,id:e.id.id}),f=c(e,t||{},a),m=!!e.multicast||void 0,g=new y({key:l,message:f,messageTimestamp:e.t,multicast:m}),v=r.actionNode("relay",[["message",void 0,y.encode(g).readBuffer()]]);return r.BinaryProtocol.write(v).then(function(t){return w.send2({tag:o,data:t,retryOn5xx:!0,on5xx:function(){r.epochRecv()},resendGuard:function(){return!!Store.Msg.get(e.id)},binaryOpts:{debugString:["action","message",e.type,e.subtype,o].join(),
debugObj:{xml:v,pb:g},metric:r.M.MESSAGE,ackRequest:!1}})})})},msgFindQuery:function(e,t){var r=this;return new p["default"](function(n,o){var i,a=function(e){r.BinaryProtocol.read(e).then(function(e){var t=[],o=r.N.children(e);if(h.logColor("green","bin-recv: response,msg",e)(),"response"===r.N.tag(e)&&("message"===r.N.attr("type",e)||"star"===r.N.attr("type",e)||"search"===r.N.attr("type",e)||"media_message"===r.N.attr("type",e))){if(_.isArray(o)){var i,a=o.length;for(i=0;i<a;i++){var s=r.parseMsg(o[i],"response");s&&t.push(s)}}"search"===r.N.attr("type",e)&&(t={eof:"true"===r.N.attr("last",e),messages:t})}n(t)})["catch"](o)},s="";switch(e){case"after":t.id||(e="before");case"before":i={type:"message",kind:e,jid:t.remote,count:t.count.toString(),index:t.id,owner:"undefined"==typeof t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},s=[t instanceof E?t.toString():t.remote,t.count].join();break;case"search":i={type:"search",search:t.searchTerm,page:t.page.toString(),count:t.count.toString(),jid:t.remote},s=["search",t.searchTerm,t.page,t.count,t.jid].join();break;case"star":i={type:"star",chat:t.chat,count:t.count.toString(),jid:t.remote,index:t.id,owner:"undefined"==typeof t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},s="starred";break;case"media":i={type:"media_message",count:t.count.toString(),kind:t.direction,jid:t.remote,index:t.id,owner:"undefined"==typeof t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},s="media"}var d=r.queryNode(i,void 0);r.BinaryProtocol.write(d).then(function(e){w.sendEphemeral({data:e,onSend:r.binWrap(a,n),onDrop:r.wrap(o),binaryOpts:{debugString:"query,message,"+s,debugObj:d,metric:r.M.QUERY_SEARCH,ackRequest:!1}})})["catch"](o)})}};e.exports=_.defaults(C,N)},function(e,t,r){e.exports={"default":r(502),__esModule:!0}},function(e,t,r){e.exports={"default":r(508),__esModule:!0}},,,function(e,t,r){e.exports=r(23).document&&document.documentElement},function(e,t,r){e.exports=!r(47)&&!r(69)(function(){return 7!=Object.defineProperty(r(145)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(71),o=r(16)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},function(e,t,r){var n=r(37);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(i){var a=e["return"];throw void 0!==a&&n(a.call(e)),i}}},function(e,t,r){var n=r(16)("iterator"),o=!1;try{var i=[7][n]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(a){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i=[7],a=i[n]();a.next=function(){return{done:r=!0}},i[n]=function(){return a},e(i)}catch(s){}return r}},function(e,t,r){var n=r(244),o=r(146).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},function(e,t,r){var n=r(60),o=r(83),i=r(150)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,r){var n=r(60),o=r(38),i=r(519)(!1),a=r(150)("IE_PROTO");e.exports=function(e,t){var r,s=o(e),d=0,c=[];for(r in s)r!=a&&n(s,r)&&c.push(r);for(;t.length>d;)n(s,r=t[d++])&&(~i(c,r)||c.push(r));return c}},function(e,t,r){e.exports=r(57)},,,,,,,function(e,t,r){e.exports=r.p+"img/23de3746eb94b2e205186a6486cca7f1.png"},function(e,t,r){e.exports=r.p+"img/4399cc4359809753c66fe0d3cae3b1c4.svg"},function(e,t){e.exports={action_undo:"Undo",action_try_again:"Try again.",action_profile_setting:"Setting profile photo",action_profile_set:"Profile photo set",action_profile_set_failed:"Couldn't set profile photo.",action_status_setting:"Changing status",action_status_set:"Status changed",action_status_set_failed:"Couldn't change status.",action_status_empty:"Status can't be empty",action_pushname_setting:"Changing your name",action_pushname_set:"Your name changed",action_pushname_set_failed:"Couldn't change your name.",action_pushname_empty:"Your name can't be empty",action_profile_removing:"Removing profile photo",action_profile_removed:"Profile photo removed",action_profile_remove_failed:"Couldn't remove profile photo.",action_chat_deleting:"Deleting chat",action_chat_deleted:"Chat deleted",action_chat_delete_failed:"Couldn't delete chat.",action_chat_archiving:"Archiving chat",action_chat_archived:"Chat archived",action_chat_archive_failed:"Couldn't archive chat.",action_chat_unarchiving:"Unarchiving chat",action_chat_unarchived:"Chat unarchived",action_chat_unarchive_failed:"Couldn't unarchive chat.",action_chat_marking_read:"Marking as read",action_chat_marked_read:"Marked as read",action_chat_mark_read_failed:"Couldn't mark chat as read.",action_chat_marking_unread:"Marking as unread",action_chat_marked_unread:"Marked as unread",action_chat_mark_unread_failed:"Couldn't mark chat as unread.",action_chat_clearing:"Clearing chat",action_chat_cleared:"Chat cleared",action_chat_clear_failed:"Couldn't clear chat.",action_group_deleting:"Deleting group",action_group_deleted:"Group deleted",action_group_delete_failed:"Couldn't delete group.",action_mark_as_not_spam:"Marking as not spam",action_marked_as_not_spam:"Marked as not spam",action_mark_as_not_spam_failed:"Couldn't mark as not spam",action_spam_report:"Reporting spam",action_spam_reported:"Reported spam",action_spam_report_failed:"Couldn't report spam",action_broadcast_deleting:"Deleting broadcast list",action_broadcast_deleted:"Broadcast list deleted",action_broadcast_delete_failed:"Couldn't delete broadcast list.",action_participant_adding:"Adding __participant__",action_participant_added:"__participant__ added",action_participant_add_failed:"Couldn't add __participant__.",action_participant_removing:"Removing __participant__",action_participant_removed:"__participant__ removed",action_participant_remove_failed:"Couldn't remove __participant__.",action_participant_promoting:"Making __participant__ a group admin",action_participant_promoted:"__participant__ is now a group admin",action_participant_promote_failed:"Couldn't make __participant__ an admin.",action_blocking:"Blocking __participant__",action_blocked:"__participant__ blocked",action_block_failed:"Couldn't block __participant__",action_unblocking:"Unblocking __participant__",action_unblocked:"__participant__ unblocked",action_unblock_failed:"Couldn't unblock __participant__",action_participant_failed_already_added:"__participant__ is already a participant.",action_participant_failed_401:"You're not an admin.",action_participant_failed_403:"You're not a participant.",action_participant_failed_404:"This group has ended.",action_group_creating:"Creating group",action_group_created:"Created group",action_group_create_failed:"Couldn't create group.",action_group_create_failed_406:"Please enter a shorter subject.",action_group_create_failed_participant:"Can't add more than __max__ participants",action_group_subject_empty:"Group subject can't be empty",action_group_icon_setting:"Setting group icon",action_group_icon_set:"Group icon set",action_group_icon_set_failed:"Couldn't set group icon.",action_group_icon_removing:"Removing group icon",action_group_icon_removed:"Group icon removed",action_group_icon_remove_failed:"Couldn't remove group icon.",action_group_exiting:"Exiting group",action_group_exited:"Exited group",action_group_exit_failed:"Couldn't exit group.",action_group_renaming:"Renaming group",action_group_renamed:"Group renamed to __subject__",action_group_rename_failed:"Couldn't rename group.",action_group_muting:"Muting group",action_group_muted:"Group muted",action_group_mute_failed:"Couldn't mute group.",action_group_unmuting:"Unmuting group",action_group_unmuted:"Group unmuted",action_group_unmute_failed:"Couldn't unmute group.",action_chat_muting:"Muting chat",action_chat_muted:"Chat muted",action_chat_mute_failed:"Couldn't mute chat.",action_chat_unmuting:"Unmuting chat",action_chat_unmuted:"Chat unmuted",action_chat_unmute_failed:"Couldn't unmute chat.",action_message_deleting:"Deleting message",action_message_deleting_plural:"Deleting messages",action_message_deleted:"Message deleted",action_message_deleted_plural:"__count__ messages deleted",action_message_delete_failed:"Couldn't delete message",action_message_delete_failed_plural:"Couldn't delete messages",delete_message:"Delete message",delete_message_plural:"Delete messages",action_message_starring:"Starring message",action_message_starring_plural:"Starring messages",action_message_starred:"Message starred",action_message_starred_plural:"__count__ messages starred",action_message_star_failed:"Couldn't star message",action_message_star_failed_plural:"Couldn't star messages",action_message_unstarring:"Unstarring message",action_message_unstarring_plural:"Unstarring messages",action_message_unstarred:"Message unstarred",action_message_unstarred_plural:"__count__ messages starred",action_message_unstar_failed:"Couldn't unstar message",action_message_unstar_failed_plural:"Couldn't unstar messages",star_message:"Star message",star_message_plural:"Star messages",unstar_message:"Unstar message",unstar_message_plural:"Unstar messages",group_invite_tooltip:"Log in to WhatsApp Web to join this WhatsApp group",group_invite_created_by:"Created by __participant__",group_invite_join:"Join group",group_invite_view:"View Group",group_invite_cancel:"Cancel",group_invite_check_link:"Checking invite link",group_invite_participants:"__count__ participant",group_invite_participants_plural:"__count__ participants",group_invite_query_401:"You can't view this group's invite link because you're not an admin.",group_invite_query_403:"You can't view this group's invite link because you're no longer a participant.",group_invite_query_404:"You can't view this group's invite link because this group has ended.",group_invite_query_406:"This invite link doesn't match any WhatsApp groups.",group_invite_query_410:"You can't join this group because this invite link was revoked.",group_invite_query_500:"Couldn't display this group's invite link. Please try again.",group_invite_accept_401:"You can't join this group because you were removed.",group_invite_accept_404:"You can't join this group because it has ended.",group_invite_accept_410:"You can't join this group because this invite link was revoked.",group_invite_accept_419:"You can't join this group because it is full.",group_invite_accept_500:"Couldn't join this group. Please try again.",message_query_404:"Couldn't find message",unstar_all:"Unstar all",unstar_all_confirm:"Unstar all messages?",unstar_all_button:"Unstar",action_message_unstarring_all:"Unstarring all messages",action_message_unstarred_all:"All messages unstarred",action_message_unstar_all_failed:"Couldn't unstar all messages",starred_not_synced:"Cannot unstar all. Starred messages not yet loaded.",chat_starred_msgs:"Starred Messages",msg_info_failed:"To view message info, update WhatsApp on your phone.",intro_title:"Keep your phone connected",intro_connection:"WhatsApp connects to your phone to sync messages. To reduce data usage, connect your phone to Wi-Fi.",add_contact_to_group:"Add to a group",enumeration_comma:", ",archive_chat:"Archive chat",unarchive_chat:"Unarchive chat",mark_unread_chat:"Mark as unread",mark_read_chat:"Mark as read",forward:"Forward",selected_count:"__count__ selected",selected_count_plural:"__count__ selected",forward_message:"Forward message",forward_message_plural:"Forward messages",forward_message_to:"Forward message to",forward_message_to_plural:"Forward messages to",confirm_forward_to_group:"Forward to __chat__?",confirm_forward_to_contact:"Forward to __chat__?",confirm_unblock_contact_and_forward:"Unblock __chat__ and forward messages?",confirm_unblock_contact_and_forward_text:"Blocked. Click to unblock and send.",reply:"Reply",go_to_message:"Go to message",message_author:"Message __author__",message:"Message",message_info:"Message info",hidden_group_message_text:"New Message",hidden_group_message_text_with_author:"Message from __author__",hidden_message_text:"__unreadCount__ New Message",hidden_message_text_plural:"__unreadCount__ New Messages",message_info_played_by:"Played by",message_info_played:"Played",message_info_read_by:"Read by",message_info_read:"Read",message_info_seen_by:"Seen by",message_info_seen:"Seen",message_info_delivered_to:"Delivered to",message_info_delivered:"Delivered",message_info_remaining:"__count__ remaining",message_info_remaining_plural:"__count__ remaining",copy_text:"Copy text",web_archive_broadcast:"Archive broadcast list",web_unarchive_broadcast:"Unarchive broadcast list",conversation_archived:"Chat archived",broadcast_archived:"Broadcast list archived",group_archived:"Group archived",web_undo:"undo",web_menuitem_groupchat:"New group",web_menuitem_new:"New chat",menuitem_profile_status:"Profile and status",send_logs_email_address:"Email address",send_logs_email_confirm:"Confirm email address",send_logs_email_subject:"Subject",send_logs_email_invalid:"Please enter a valid email address",send_logs_email_nomatch:"The email addresses do not match",send_logs_default_subject:"Feedback/Question about WhatsApp",send_logs_too_short:"Please add more to your description",send_logs_confirm:"send",send_logs_sent:"Feedback sent",send_logs_subject_error:"Please enter a subject.",send_logs_title:"Contact us",describe_logs:"Tell us about your issue",menuitem_help:"Help",menuitem_keep_me_signed_in:"Keep me signed in",menuitem_notification_sounds:"Notification sounds",menuitem_notifications:"Notifications",menuitem_desktop_settings:"Desktop Settings",menuitem_blocked:"Blocked",menuitem_wallpaper:"Chat Wallpaper",menuitem_archived:"Archived",menuitem_settings:"Settings",menuitem_starred:"Starred",menuitem_logout:"Log out",menuitem_remove:"Remove",menuitem_make_group_admin:"Make group admin",menutitle_attach:"Attach",menutitle_menu:"Menu",web_settings_faq:"FAQ",if_unchecked_you_will_be_logged_out_afterawhile:"You'll be logged out after several minutes of inactivity",change_group_icon:"Change group icon",add_group_icon:"Add group icon",change_profile_photo:"Change profile photo",add_profile_photo:"Add profile photo",adjust_image:"Drag the image to adjust",done_adjusting:"Done",remove_profile_photo:"Remove your profile photo?",remove_group_icon:"Remove this group's icon?",delete_message_confirmation:"Delete message?",delete_message_confirmation_plural:"Delete messages?",confirm_remove_group_participant:"Remove __participant__ from __subject__ group?",confirm_add_group_participant:"Add __participant__ to __subject__ group?",confirm_promote_group_participant:"Make __participant__ an admin for __subject__ group?",remove:"Remove",conversation_unarchived:"Chat unarchived",conversation_archive_failed:"Couldn't archive chat.",conversation_unarchive_failed:"Couldn't unarchive chat.",web_status:"Status",web_delete:"Delete",web_exit:"Exit",subject:"Subject",group_subject:"Group Subject",media:"Media",no_media:"No Media",web_contact_phone:"Phone",web_group_creation_time:"Created __when__",group_participant_hint:"Type contact name",pushname:"Your Name",pushname_description:"This is not your username or pin. This name will be visible to your WhatsApp contacts.",participant_already_blocked:"Already blocked",chat_not_an_admin:"You are not an admin",new_chat_flow_title:"New chat",new_group_flow_title:"New group",add_group_participants_title:"Add group participants",add_group_participant:"Add participant",already_added_to_group:"Already added to group",web_contact_info:"Contact info",broadcast_list_info:"Broadcast list info",web_group_info:"Group info",web_groups_participation_you_and_name:"Groups in common",web_participants_title:"Participants",web_recipients_title:"Recipients",web_participants_count:"__count__ of __max__",blocked_flow_title:"Blocked contacts",add_blocked_title:"Add blocked contact",add_blocked_hint:"Type contact name",blocked_description:"List of contacts that you have blocked",add_blocked_description:"Blocked contacts will no longer be able to call you or send you messages",add_blocked_instructions:"Click __icon__ button below to select a contact to block",blocked_empty:"No blocked contacts yet",unblock_button:"Unblock",unblock_confirmation:"Unblock __contact__?",wallpaper_flow_title:"Set Chat Wallpaper",default_wallpaper:"Default",wallpaper_color_set:"Chat wallpaper set",settings_flow_title:"Settings",notifications_drawer_title:"Notifications",desktop_settings_drawer_title:"Desktop Settings",help_drawer_title:"Help",archived_flow_title:"Archived chats",archived_empty:"No archived chats",starred_flow_title:"Starred messages",starred_empty:"No starred messages",cant_load_whatsapp:"Can't Load WhatsApp",computer_behind_proxy:"Your computer is connected to a network that prevents WhatsApp from working correctly",missing_photo_title:"Photo Unavailable",missing_photo_text:"Cant view this photo because it's no longer on your phone.",missing_photo_forward_text:"Cant forward this photo because it's no longer on your phone.",missing_video_title:"Video Unavailable",missing_video_text:"Cant play this video because it's no longer on your phone.",missing_video_forward_text:"Cant forward this video because it's no longer on your phone.",missing_audio_title:"Voice Message Unavailable",missing_audio_text:"Cant play this Voice Message because it's no longer on your phone.",missing_audio_forward_text:"Cant forward this Voice Message because it's no longer on your phone.",missing_document_title:"Document Unavailable",missing_document_text:"Cant download this document because it's no longer on your phone.",missing_document_forward_text:"Cant forward this document because it's no longer on your phone.",missing_media_title:"Media Message Unavailable",missing_media_forward_text:"Can't forward this media message because it's no longer on your phone",missing_media_forward_text_plural:"Can't forward some media messages because they are no longer on your phone",err_unsent_forward_title:"Cant Forward",err_unsent_forward_text:"Wait until your message finishes sending and displays a checkmark before forwarding.",err_unsent_forward_text_plural:"Wait until each of your messages finishes sending and displays a checkmark before forwarding.",err_unsent_forward_text_decrypting:"Wait until this message is fully delivered before forwarding.",confirm_forward_partial_messages_title:"Can't forward all messages",confirm_forward_partial_messages_text:"Some messages have not been sent, do you want to forward rest of the messages?",retry_upload_photo_title:"Couldnt Send Photo",retry_upload_photo_text:"Open WhatsApp on your phone and resend this photo",retry_upload_video_title:"Couldnt Send Video",retry_upload_video_text:"Open WhatsApp on your phone and resend this video",retry_upload_audio_title:"Couldnt Send Voice Message",retry_upload_audio_text:"Open WhatsApp on your phone and resend this voice message",retry_upload_doc_title:"Couldnt Send Document",retry_upload_doc_text:"Open WhatsApp on your phone and resend this document",retry_upload_media_title:"Couldnt Send Media Message",retry_upload_media_text:"Open WhatsApp on your phone and resend this media message",guide_desktop_notifications_title:"Allow notifications",guide_desktop_notifications_description:"To get notifications for new messages, click Allow above.",guide_desktop_notifications_description_firefox:"To get notifications for new messages, select Always show notifications from the prompt below the URL bar.",guide_desktop_camera_title:"Allow camera",guide_desktop_camera_description:"To take photos, click Allow above to give WhatsApp access to your computer's camera.",guide_desktop_camera_description_firefox:"To take photos, WhatsApp needs access to your computers camera. Select Always share from the prompt below the URL bar.",guide_desktop_camera_description_edge:"To take photos, click Yes below to give WhatsApp access to your computer's camera.",guide_desktop_mic_title:"Allow microphone",guide_desktop_mic_description:"To record Voice Messages, click Allow above to give WhatsApp access to your computer's microphone.",guide_desktop_mic_description_firefox:"To record Voice Messages, WhatsApp needs access to your computers microphone. Select Always share from the prompt below the URL bar. Note: selecting Share selected device wont let you record Voice Messages.",guide_desktop_mic_description_edge:"To record Voice Messages, click Yes below to give WhatsApp access to your computer's microphone.",guide_desktop_camera_fail_description:"To take photos, WhatsApp needs access to your computer's camera. Click __chrome_media_error__ in the URL bar and choose Always allow web.whatsapp.com to access your camera.",guide_desktop_camera_fail_description_firefox:"To take photos, WhatsApp needs access to your computers camera. Click __firefox_lock__ in the URL bar and set Use the Camera to Allow.",guide_desktop_camera_fail_description_opera:"To take photos, WhatsApp needs access to your computers camera. Click __opera_media__ in the URL bar and click Clear This Setting and Reload.",guide_desktop_camera_fail_description_edge:"To take photos, WhatsApp needs access to your computers camera. Refresh the page, try sending a camera image, and select Yes from the menu that appears.",guide_desktop_mic_fail_description:"To record Voice Messages, WhatsApp needs access to your microphone. Click __chrome_media_error__ in the URL bar and choose Always allow web.whatsapp.com to access your microphone.",guide_desktop_mic_fail_description_firefox:"To record Voice Messages, WhatsApp needs access to your computers microphone. Click __firefox_lock__ in the URL bar and set Use the Microphone to Allow.",guide_desktop_mic_fail_description_opera:"To record Voice Messages, WhatsApp needs access to your computers microphone. Click __opera_media__ in the URL bar and click Clear This Setting and Reload.",guide_desktop_mic_fail_description_edge:"To record Voice Messages, WhatsApp needs access to your computers microphone. Refresh the page, try sending a Voice Message, and select Yes from the menu that appears.",guide_desktop_camera_missing_title:"Camera Not Found",guide_desktop_camera_missing_description:"You cant take a photo because it looks like your computer doesnt have a camera. Try connecting one or if you have one connected, try restarting your browser.",guide_desktop_mic_missing_title:"Microphone Not Found",guide_desktop_mic_missing_description:"You cant record a Voice Message because it looks like your computer doesnt have a microphone. Try connecting one or if you have one connected, try restarting your browser.",attach_media:"Photos & Videos",attach_capture:"Camera",attach_location:"Location",attach_vcard:"Contact",attach_document:"Document",attach_document_pdf_total_pages:"__count__ Page",attach_document_pdf_total_pages_plural:"__count__ Pages",send_contact:"Send contact",confirm_contact_send_chat:"Send __name__ to __chat__?",confirm_contact_send_group:"Send __name__ to __chat__ group?",confirm_contact_send_broadcast:"Send __name__ to broadcast list?",confirm_document_send_chat:"Send __name__ to __chat__?",confirm_document_send_group:"Send __name__ to __chat__ group?",confirm_document_send_broadcast:"Send __name__ to broadcast list?",web_download_document:"Download __name__",document_downloaded:"__name__ downloaded.",open_downloaded_document:"Open",download_progress:"Downloading",download_success:"Download completed",download_fail:"Download failed",download_open:"open",guide_help_title:"Help",guide_help_faq:"Click FAQ for help using WhatsApp.",turn_off_all_desktop_notifications_for:"Turn off all desktop notifications for:",learn_more:"Learn more",ok_got_it:"OK, got it",login:"Log in",loading:"Loading",web_view:"View",web_preview_msg:"Preview",add_a_caption:"Add a caption",add_media:"Add media",drag_media_here:"Drag media here",view_photo:"View photo",take_photo:"Take photo",remove_photo:"Remove photo",upload_photo:"Upload photo",invalid_media_files:"WhatsApp doesn't support the type of image or video you tried adding. Try adding a different one.",invalid_partial_dropped_media_files:"__number__ dropped file is unsupported",invalid_partial_dropped_media_files_plural:"__number__ dropped files are unsupported",invalid_partial_selected_media_files:"__number__ selected file is unsupported",invalid_partial_selected_media_files_plural:"__number__ selected files are unsupported",too_many_files_uploaded:"Maximum upload of __max__ files allowed. __number__ file has been ignored.",too_many_files_uploaded_plural:"Maximum upload of __max__ files allowed. __number__ files have been ignored.",image_too_big:"The image you tried adding is larger than the __maxSize__ limit. Try adding a different one.",video_too_big:"The video you tried adding is larger than the __maxSize__ limit. Try adding a different one.",audio_too_big:"The audio you tried adding is larger than the __maxSize__ limit. Try adding a different one.",document_too_big:"The document you tried adding is larger than the __maxSize__ limit. Try adding a different one.",media_failed_load:"The item you tried adding failed to load.",emoji_tab_recent:"Recent",emoji_tab_smileys_people:"Smileys & People",emoji_tab_animals_nature:"Animals & Nature",emoji_tab_food_drink:"Food & Drink",emoji_tab_activity:"Activity",emoji_tab_travel_places:"Travel & Places",emoji_tab_objects:"Objects",emoji_tab_symbols:"Symbols",emoji_tab_flags:"Flags",emoji_tab_gifs:"Animated GIF Search",search_gifs:"Search GIF",option_select_mute:"Turn off alerts and sounds for",option_desktop_notifications:"Desktop Alerts",option_sounds:"Sounds",option_auto_launch:"Start WhatsApp at Login",option_msg_previews:"Show Previews",option_msg_previews_hint_text:"Display message text in desktop alerts",web_menuitem_mute_off:"Cancel mute",web_menuitem_mute:"Mute",group_muted:"Group muted",web_mute_time:"Mute group for",web_mute_time_chat:"Mute chat for",web_list_info:"Broadcast list info",click_here_for_group_info:"click here for group info",click_here_for_user_info:"click here for contact info",web_delete_contact_dialog_title:"Delete chat with __name__?",clear_button:"Clear",clear_chat_chat:"Clear chat with __name__?",clear_chat_group:"Clear __name__ group?",clear_chat_broadcast:"Clear broadcast list?",keep_starred:"Keep starred messages",web_delete_group_dialog_title:"Delete __groupName__ group?",web_exit_group_dialog_title:"Exit __groupName__ group?",delete_chat_dialog_title:"Delete chat with __name__?",delete_list_dialog_title:"Delete broadcast list?",are_you_sure:"Are you sure?",next_button:"Next",previous_button:"Previous",save_button:"Save",edit_button:"Edit",clear_chat:"Clear messages",web_exit_group:"Exit group",web_delete_group:"Delete group",delete_chat:"Delete chat",web_delete_list:"Delete broadcast list",web_select_messages:"Select messages",conversation_deleted:"Chat deleted",broadcast_deleted:"Broadcast list deleted",group_deleted:"Group deleted",report_spam:"Report spam",report_group_spam_ack:"Are you sure you want to report spam and leave this group?",report_spam_ack:"Are you sure you want to report spam and block this contact?",report_group_spam:"Report spam and leave group",block:"Block",block_ack:"Are you sure you want to block this contact?",not_spam:"Not spam",group_admin_not_a_contact:"You were added by someone who's not in your contacts",sender_not_a_contact:"The sender is not in your contact list",unread_message_count:"__count__ unread message",unread_message_count_plural:"__count__ unread messages",web_chats:"Chats",web_recent_chats:"Chats",web_groups:"Groups",web_contacts:"Contacts",web_messages:"Messages",web_starred_messages:"Starred Messages",web_conversation_is_composing:"typing",web_conversation_is_recording:"recording audio",web_conversation_contact_online:"online",web_conversation_name_is_composing:"__participant__ is typing",web_conversation_name_is_recording:"__participant__ is recording audio",web_conversations_most_recent_image:"Photo",web_conversations_most_recent_audio:"Audio",web_conversations_most_recent_voice:"Voice message",web_conversations_most_recent_video:"Video",web_conversations_most_recent_contact:"Contact",web_conversations_most_recent_location:"Location",web_conversations_most_recent_file:"Document",web_conversations_most_recent_document:"__count__ page",web_conversations_most_recent_document_plural:"__count__ pages",untitled_document:"Untitled",searching_chats_contacts_messages:"Looking for chats, contacts or messages",searching_messages:"Looking for messages",search_no_chats_or_contacts:"No chats, contacts or messages found",search_no_contacts:"No contacts found",search_no_groups:"No groups found",search_no_messages:"No messages found",chat_search_prompt:"Search for messages with __chatName__.",no_chats:"No chats",no_contacts:"No contacts",no_groups:"No groups",chat_archived:"Archived",all_chats_archived:"All chats are archived",no_starred_messages:"No starred messages",see_archived:"See __count__ archived chat",see_archived_plural:"See __count__ archived chats",web_group_admin:"Group Admin",contact_status_loading:"Loading status",retry_now:"Retry Now",retake:"Retake",web_cancel:"Cancel",web_ok:"OK",web_close:"Close",web_share:"Share",web_button_download:"Download",trying_to_reach_phone:"Trying to reach phone",connecting_to_whatsapp:"Connecting to WhatsApp",connecting_to_whatsapp_or_phone:"Connecting",connecting:"Connecting",updating_whatsapp_web_title:"Updating",updating_whatsapp_web:"WhatsApp is out of date. Updating now",retrying:"Retrying",retrying_in:"Retrying in __duration__",loading_messages:"loading messages",load_earlier_messages:"load earlier messages",load_recent_messages:"load recent messages",resend_message:"Click to resend",click_to_save_esc_to_cancel:"Click to save, ESC to cancel",web_today_at:"today at __time__",web_yesterday_at:"yesterday at __time__",web_time_at:"__date__ at __time__",web_conversation_last_seen_today:"last seen today at __time__",web_conversation_last_seen_yesterday:"last seen yesterday at __time__",web_conversation_last_seen_date:"last seen __date__ at __time__",web_conversation_last_seen_weekday:"last seen __date__ at __time__",web_you:"You",web_today:"today",web_yesterday:"yesterday",retrying_in_some_seconds:"Retrying in __number__ second",retrying_in_some_seconds_plural:"Retrying in __number__ seconds",web_you_created_list_unnamed:"You created a broadcast list with __count__ recipient",web_you_created_list_unnamed_plural:"You created a broadcast list with __count__ recipients",web_list_recipient_added:"__name__ added to the list",web_list_recipient_removed:"__name__ removed from the list",web_group_subject_changed_by_you:"You changed the subject to __subject__",web_group_subject_changed_by_name:"__name__ changed the subject to __subject__",web_group_participant_added_name:"__name__ was added",web_group_participant_added_you:"You were added",web_group_participant_join_via_invite_name:"__name__ joined via an invite link",web_group_participant_join_via_invite_you:"You joined via an invite link",web_group_participant_removed_name:"__name__ was removed",web_group_participant_removed_you:"You were removed",web_group_participant_left_name:"__name__ left",web_group_participant_left_you:"You left",web_group_participant_changed_number:"__name__ changed from __old_number__ to __new_number__",web_group_participant_changed_number_unknown_name:"__name__ changed to __new_number__",web_group_participants_name_added_names:"__name__ added __participants__",web_group_participants_you_added_names:"You added __participants__",web_group_participants_name_removed_names:"__name__ removed __participants__",web_group_participants_you_removed_names:"You removed __participants__",web_group_participants_name_added_you:"__name__ added you",web_group_participants_name_removed_you:"__name__ removed you",web_group_participant_promoted_names:"__participants__ is now an admin",
web_group_participant_promoted_names_plural:"__participants__ are now admins",web_group_participant_demoted_names:"__participants__ is no longer an admin",web_group_participant_demoted_names_plural:"__participants__ are no longer admins",web_group_participant_promoted_you:"You're now an admin",web_group_participant_demoted_you:"You're no longer an admin",web_group_created_by_you:"You created group __subject__",web_group_created_by_name:"__name__ created group __subject__",web_group_created_by_you_no_subject:"You created this group",web_group_created_by_name_no_subject:"__name__ created this group",web_group_ended_you:"You ended this group",web_group_ended_name:"__name__ ended this group",web_photo_changed_by:"__name__ changed this group's icon",web_photo_removed_by:"__name__ deleted this group's icon",web_photo_changed_by_you:"You changed this group's icon",web_photo_removed_by_you:"You deleted this group's icon",web_mute_8hours:"8 Hours",web_mute_1week:"1 Week",web_mute_1year:"1 Year",mute_1hour:"1 Hour",mute_1day:"1 Day",mute_1week:"1 Week",global_muted:"Alerts and sounds off",global_muted_1hour:"Alerts and sounds off for 1 hour",global_muted_1day:"Alerts and sounds off for 1 day",global_muted_1week:"Alerts and sounds off for 1 week",global_notification_sounds_on:"Notification sounds on",global_notification_sounds_off:"Notification sounds off",global_unmuted:"Notifications enabled",global_unmute:"Alerts and sounds off. Click to restore.",web_cannot_send_not_a_group_participant:"You can't send messages to this group because you're no longer a participant.",web_cannot_send_to_blocked_contact_1:"Can't send a message to blocked contact __contact__.",forwarded_some_messages:"Forwarded __count__  message.",forwarded_some_messages_plural:"Forwarded __count__ messages.",cannot_forward_media_missing:"__count__ message couldn't be forwarded because the media is missing.",cannot_forward_media_missing_plural:"__count__ messages couldn't be forwarded because the media is missing.",cannot_forward_media_missing_none:"No messages could be forwarded because the media is missing.",cannot_forward_media_missing_and_capability_contact:"__count__ message couldn't be forwarded because the media is missing or __contact__ is on a version of WhatsApp that doesn't support them.",cannot_forward_media_missing_and_capability_contact_plural:"__count__ messages couldn't be forwarded because the media is missing or __contact__ is on a version of WhatsApp that doesn't support them.",cannot_forward_media_missing_and_capability_contact_none:"No messages could be forwarded because the media is missing or __contact__ is on a version of WhatsApp that doesn't support them.",cannot_forward_media_missing_and_capability_group:"__count__ message couldn't be forwarded because the media is missing or some members are on a version of WhatsApp that doesn't support them.",cannot_forward_media_missing_and_capability_group_plural:"__count__ messages couldn't be forwarded because the media is missing or some members are on a version of WhatsApp that doesn't support them.",cannot_forward_media_missing_and_capability_group_none:"No messages could be forwarded because the media is missing or some members are on a version of WhatsApp that doesn't support them.",cannot_forward_capability_contact:"__count__ message couldn't be forwarded because __contact__ is on a version of WhatsApp that doesn't support them.",cannot_forward_capability_contact_plural:"__count__ messages couldn't be forwarded because __contact__ is on a version of WhatsApp that doesn't support them.",cannot_forward_capability_contact_none:"No messages could be forwarded because __contact__ is on a version of WhatsApp that doesn't support them.",cannot_forward_capability_group:"__count__ message couldn't be forwarded because some members are on a version of WhatsApp that doesn't support them.",cannot_forward_capability_group_plural:"__count__ messages couldn't be forwarded because some members are on a version of WhatsApp that doesn't support them.",cannot_forward_capability_group_none:"No messages could be forwarded because some members are on a version of WhatsApp that doesn't support them.",cannot_send_document_to_contact_unsupported:"Can't send documents to __contact__ because __contact__ is on a version of WhatsApp that doesn't support them.",cannot_send_document_to_group_unsupported:"Can't send documents to __group__ because some members are on a version of WhatsApp that doesn't support them.",cannot_send_document_type_unsupported:"Can't send this document file because its format is not supported.",type_a_message:"Type a message",whatsapp_web:"WhatsApp",whatsapp_psa_contact_name:"WhatsApp",default_group_message_notification_title:"WhatsApp group message",incoming_voice_call_notification_title:"WhatsApp Voice Call from __name__",incoming_video_call_notification_title:"WhatsApp Video Call from __name__",incoming_call_notification_text:"Check your phone to answer",default_contact_message_notification_title:"WhatsApp message",search_or_start_new_chat:"Search or start new chat",search_contacts:"Search contacts",search:"Search",search_groups:"Search groups",search_msgs:"Search Messages",search_chats:"Search chats",update_available:"Update Available",click_to_update_whatsapp_web:"Click to update WhatsApp",desktop_updating_title:"Updating WhatsApp",desktop_updatin_description:"Downloading an update to WhatsApp. This may take several minutes. WhatsApp will automatically update and restart when the download finishes.",desktop_update_failed_title:"Couldn't Update Automatically",desktop_update_failed_description:"To continue using WhatsApp, click Update and install the latest version.",desktop_update_button:"Update",desktop_app_store_update_title:"Please Update WhatsApp",desktop_app_store_update_description:"Please update WhatsApp from the Mac App Store or click the button to download WhatsApp installer",desktop_app_store_download_installer:"Download",desktop_client_update_available:"New version available",click_to_download_desktop_client:"Update WhatsApp",nc_menu_search_chat:"Search Chat",nc_menu_chat:"Chat",nc_move_to_applications_desc:"You can move WhatsApp to Applications so it's easier to find.",nc_move_to_applications_title:"Move WhatsApp to Applications?",nc_move_to_applications_confirm:"Move to Applications",nc_move_to_applications_cancel:"Do Not Move",nc_new_chat:"New Chat",nc_new_group:"New Group",nc_profile_status:"Profile and Status",nc_log_out:"Log Out",nc_close_window:"Close Window",nc_archive_chat:"Archive Chat",nc_unarchive_chat:"Unarchive Chat",nc_mute:"Mute",nc_unmute:"Cancel Mute",nc_exit_group:"Exit Group",nc_delete_group:"Delete Group",nc_delete_chat:"Delete Chat",nc_delete_list:"Delete Broadcast List",nc_mark_read:"Mark as Read",nc_mark_unread:"Mark as Unread",nc_menu_mac_view:"View",nc_menu_mac_view_zoom_in:"Zoom In",nc_menu_mac_view_zoom_normal:"Actual Size",nc_menu_mac_view_zoom_out:"Zoom Out",nc_menu_mac_view_enter_full_screen:"Enter Full Screen",nc_menu_mac_view_exit_full_screen:"Exit Full Screen",nc_menu_win_view:"View",nc_menu_win_view_zoom_in:"Zoom In",nc_menu_win_view_zoom_normal:"Actual Size",nc_menu_win_view_zoom_out:"Zoom Out",nc_menu_help:"Help",nc_menu_help_faq:"FAQ",nc_menu_help_tos_privacy:"Terms and Privacy Policy",nc_menu_help_version:"Version __version_no__",nc_menu_window:"Window",nc_menu_window_minimize:"Minimize",nc_menu_window_zoom:"Zoom",nc_menu_next_chat:"Next Chat",nc_menu_prev_chat:"Previous Chat",nc_menu_window_all_front:"Bring All to Front",nc_menu_mac_main_about:"About WhatsApp",nc_menu_mac_main_beta:"Get Beta Updates",nc_menu_mac_main_pref:"Preferences",nc_menu_mac_main_services:"Services",nc_menu_mac_main_hide:"Hide",nc_menu_mac_main_hide_others:"Hide Others",nc_menu_mac_main_show_all:"Show All",nc_menu_mac_main_quit:"Quit WhatsApp",nc_menu_win_main_beta:"Get Beta Updates",nc_menu_file:"File",nc_menu_mac_edit:"Edit",nc_menu_mac_undo:"Undo",nc_menu_mac_redo:"Redo",nc_menu_mac_cut:"Cut",nc_menu_mac_copy:"Copy",nc_menu_mac_paste:"Paste",nc_menu_mac_select:"Select All",nc_menu_mac_search:"Search",nc_menu_mac_copy_link:"Copy Link",nc_menu_mac_copy_image:"Copy Image",nc_menu_win_edit:"Edit",nc_menu_win_undo:"Undo",nc_menu_win_redo:"Redo",nc_menu_win_cut:"Cut",nc_menu_win_copy:"Copy",nc_menu_win_paste:"Paste",nc_menu_win_select:"Select All",nc_menu_win_search:"Search",nc_menu_win_copy_link:"Copy Link",nc_menu_win_copy_image:"Copy Image",nc_crash_title:"Problem Detected",nc_crash_message:"WhatsApp needed to restart because of a problem.",phone_battery_low:"Phone Battery Low",charge_phone_description:"Charge your phone to keep using WhatsApp",computer_not_connected:"Computer Not Connected",make_sure_computer_active_internet_connection:"Make sure your computer has an active Internet connection.",check_internet_connection:"No Internet connection",reconnect:"Reconnect",phone_not_connected:"Phone Not Connected",make_sure_phone_active_internet_connection:"Make sure your phone has an active Internet connection.",enable_desktop_notifications:"Turn on desktop notifications",get_notified_of_new_messages:"Get Notified of New Messages",phone_has_another_active_webclient_session:"WhatsApp is open on another computer or browser. Click Use Here to use WhatsApp in this window.",whatsapp_web_is_open_in_another_window:"WhatsApp is open in another window. Click Use Here to use WhatsApp in this window.",button_use_here:"Use Here",open_whatsapp:"Open WhatsApp",click_to_reload_qr_code:"Click to reload QR code",scan_code_with_phone_to_login:"Use WhatsApp on your phone to scan the code",reduce_data_usage_connect_phone_to_wifi:"To reduce mobile data usage, connect your phone to Wi-Fi",android:"Android",android_login_path:"Open WhatsApp  Menu  WhatsApp Web",blackberry:"BlackBerry",blackberry_login_path:"Open WhatsApp  Chats  Menu key  WhatsApp Web",windows_phone:"Windows Phone",windows_phone_login_path:"Open WhatsApp  Menu  WhatsApp Web",nokia_symbian_s60:"Nokia S60",nokia_symbian_s60_login_path:"Open WhatsApp  Menu  WhatsApp Web",bb10:"BlackBerry 10",bb10_login_path:"Open WhatsApp  Swipe down from top of screen  WhatsApp Web",iphone:"iPhone",iphone_login_path:"Open WhatsApp  Settings  WhatsApp Web",message_too_large_title:"Message Too Long",message_too_large_text:"The message youre pasting is too long. Try shortening it or sending it in multiple parts.",video_playback_not_supported:"Your browser doesnt support video playback.",audio_playback_not_supported:"Your browser doesnt support audio playback.",whatsapp_web_meta_description:"Quickly send and receive WhatsApp messages right from your computer.",whatsapp_web_description:"Send and receive WhatsApp messages right from your computer.",whatsapp_web_requirements:"We recommend using WhatsApp with one of the following browsers:",whatsapp_web_supports:"WhatsApp also supports:",update_safari:"Update Safari",get_safari:"Safari (MacOS 10.8+ Only)",get_google_chrome:"Google Chrome",update_google_chrome:"Update Google Chrome",get_mozilla_firefox:"Mozilla Firefox",update_mozilla_firefox:"Update Mozilla Firefox",get_opera:"Opera",get_edge:"Microsoft Edge",whatsapp_edge_version:"WhatsApp works with Microsoft Edge 13+",whatsapp_edge_instructions:"To use WhatsApp, update Windows 10 to get Microsoft Edge 13+, or use __chrome_homepage__, __firefox_homepage__, or __opera_homepage__.",update_edge:"Download latest Windows 10",whatsapp_safari_version:"WhatsApp works with Safari 7.1+",whatsapp_safari_instructions:"To use WhatsApp, update Safari or use __chrome_homepage__, __firefox_homepage__, or __opera_homepage__.",whatsapp_safari_limited_title:"Using Safari",whatsapp_safari_limited:"To use all of WhatsApp's features like photo capturing and Voice Message recording, we recommend using __chrome_homepage__, __firefox_homepage__ or __opera_homepage__.",whatsapp_firefox_version:"WhatsApp works with Mozilla Firefox 30+",whatsapp_firefox_instructions:"To use WhatsApp, update Firefox or use __chrome_homepage__, __safari_homepage__, or __opera_homepage__.",whatsapp_chrome_version:"WhatsApp works with Google Chrome 36+",whatsapp_chrome_instructions:"To use WhatsApp, update Chrome or use __firefox_homepage__, __safari_homepage__, or __opera_homepage__.",filesize_byte:"B",filesize_kilobyte:"kB",filesize_megabyte:"MB",filesize_gigabyte:"GB",confirm_closing_webclient:"You are closing WhatsApp.",confirm_logout:"Log out?",some_of_your_messages_are_still_sending:"Some of your messages are still sending.",terms_and_privacy_link:"Terms and Privacy Policy",web_terms_of_service_1:"WhatsApp is updating our Terms and Privacy Policy to reflect new features like WhatsApp Calling. Open WhatsApp on your phone to read our Terms and Privacy Policy and learn more about the choices you have.",web_terms_of_service_2:"WhatsApp is updating our Terms and Privacy Policy to reflect new features like WhatsApp Calling. Open WhatsApp on your phone to read our Terms and Privacy Policy and learn more about the choices you have.",web_terms_of_service_login_block:'WhatsApp is updating our Terms and Privacy Policy to reflect new features like WhatsApp Calling. Open WhatsApp on your phone to read our Terms and Privacy Policy and learn more about the choices you have. If you have accepted the Terms and Privacy Policy, click "LOG IN" to continue using WhatsApp.',web_security_code_change:"__name__'s security code changed. Click for more info.",web_individual_chat_encryption_state_change:"Messages you send to this chat and calls are now secured with end-to-end encryption. Click for more info.",web_group_encryption_state_change:"Messages you send to this group are now secured with end-to-end encryption. Click for more info.",web_broadcast_encryption_state_change:"Messages you send to this broadcast list are now secured with end-to-end encryption. Click for more info.",web_contact_info_encrypted:"Messages you send to this chat and calls are secured with end-to-end encryption.",web_contact_info_encrypted_verify:"Messages you send to this chat and calls are secured with end-to-end encryption. Click to verify.",web_group_info_encrypted:"Messages you send to this group are secured with end-to-end encryption. Click for more info.",web_broadcast_info_encrypted:"Messages you send to this broadcast list are secured with end-to-end encryption. Click for more info.",web_group_info_encrypted_description:"Messages you send to this group are secured with end-to-end encryption, which means WhatsApp and third parties can't read them.",web_broadcast_info_encrypted_description:"Messages you send to this broadcast list are secured with end-to-end encryption, which means WhatsApp and third parties can't read them.",web_contact_info_unencrypted:"Messages you send to this chat and calls are not end-to-end encrypted. Click for more info.",web_group_info_unencrypted:"Messages you send to this group are not end-to-end encrypted. Click for more info.",web_broadcast_info_unencrypted:"Messages you send to this broadcast list are not end-to-end encrypted. Click for more info.",web_contact_info_unencrypted_description:"Messages you send to this chat and calls are not end-to-end encrypted because __contact__ needs to update WhatsApp.",web_group_info_unencrypted_description:"Messages you send to this group are not end-to-end encrypted because some participants need to update WhatsApp.",web_broadcast_info_unencrypted_description:"Messages you send to this broadcast list are not end-to-end encrypted because some recipients need to update WhatsApp.",web_security_code_change_description:"__name__'s security code changed, likely because __name__ reinstalled WhatsApp or switched phones.",web_security_code_change_description_verify:'__name__\'s security code changed, likely because __name__ reinstalled WhatsApp or switched phones. Click "verify" to confirm the new security code.',web_individual_chat_encryption_state_change_description:"Messages you send to this chat and calls are now secured with end-to-end encryption, which means WhatsApp and third parties can't read or listen to them.",web_group_encryption_state_change_description:"Messages you send to this group are now secured with end-to-end encryption, which means WhatsApp and third parties can't read them.",web_broadcast_encryption_state_change_description:"Messages you send to this broadcast list are now secured with end-to-end encryption, which means WhatsApp and third parties can't read them.",web_encryption_title:"Encryption",web_encryption_loading:"Loading encryption status",web_verify_explanation:"Scan the code on your contact's phone, or ask them to scan your code, to verify your messages and calls to them are end-to-end encrypted. You can also compare the number above to verify. This is optional.",web_verify_button:"Verify",web_verify_upload_button:"Upload Code",web_verify_webcam_open_button:"Scan Code",web_verify_webcam_close_button:"Turn Off Camera",web_verify_webcam_hint:"Please try increasing the brightness or reducing light reflection.",web_verify_title:"Verify Security Code",web_verify_drag_and_drop_dragging:"Release to verify",web_verify_download_code:"Download code",web_verify_string_error:"Couldn't display security code. You can verify using the QR code instead.",web_verify_error_remote_mismatched:'__contact__ opened "Verify security code" for the wrong phone number. Ask __contact__ to open it for your phone number.',web_verify_error_local_mismatched:'You opened "Verify security code" for the wrong phone number. Open it for the correct number to verify __contact__.',web_verify_error_invalid_upload:"The image does not contain a valid identity verification QR code.",web_psa_title:"OFFICIAL ANNOUNCEMENTS",web_missed_voice_call_chatlist:"Missed voice call",web_missed_video_call_chatlist:"Missed video call",web_missed_voice_call_system_message:"Missed voice call at __time__",web_missed_video_call_system_message:"Missed video call at __time__",placeholder_msg:"Waiting for this message. This may take a while.",unsupported_msg:"You received a message, but your version of WhatsApp does not support it.",ptt_failed:"Couldn't send this Voice Message.",contact_viewer:"View contact",vcard_cell:"Mobile",vcard_iphone:"iPhone",vcard_main:"Main",vcard_home_fax:"Home Fax",vcard_work_fax:"Work Fax",vcard_home:"Home",vcard_work:"Work",vcard_pager:"Pager",vcard_email:"Email",vcard_birthday:"Birthday",vcard_nickname:"Nickname",vcard_jabber:"Jabber",vcard_skype:"Skype",vcard_msn:"Windows Live",vcard_aim:"AIM",vcard_yahoo:"Yahoo",vcard_icq:"ICQ"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(){return _.filter(_.keys(w.BROWSER_CAPABILITY),function(e){return!w.BROWSER_CAPABILITY[e]})}function i(){return x.loopOnError(function(e){return u["default"].delay(L.expBackoff(e,12e4,1e3,.1)).then(function(){return r.e(0).then(function(e){d=r(887)}.bind(null,r))["catch"](function(e){r.oe(e)})})})}function a(){return _.isFunction(String.prototype.normalize)?u["default"].resolve():x.loopOnError(function(e){return u["default"].delay(L.expBackoff(e,12e4,1e3,.1)).then(function(){return r.e(5).then(function(e){r(973)}.bind(null,r))["catch"](function(e){r.oe(e)})})})}var s,d,c=r(2),u=n(c),l=r(6),p=r(1),f=r(480),h=r(482),m=r(478),g=r(479),v=r(471),y=r(484),b=r(58),w=r(8),E=r(10),S=r(43),N=r(470),C=r(0),T=r(483),k=r(477),$=r(472),A=r(65),x=r(29),M=r(78),O=r(129),I=r(130),R=r(205),P=r(26),L=r(103),D=r(209),B=r(197),U=r(137),j=r(12),W=r(82);W&&!function(){var e=r(435),t=r(22),n=function(){try{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.addEventListener("error",function(e){j.state!==j.STATE.UNLAUNCHED&&p.error("ServiceWorker controller error: "+e.error)()})}catch(e){p.error('Unable to add "error" event listener to service worker, error: '+e)()}},o=function(){e.send(navigator.serviceWorker.controller,"setl10n",{isRTL:l10n.isRTL(),lng:l10n.lng()})};try{navigator.serviceWorker.addEventListener("controllerchange",function(e){n(),j.state===j.STATE.UNLAUNCHED?Store.Stream.needsUpdate=!0:o()})}catch(i){p.error('Unable to add "controllerchange" event listener to service worker container, error: '+i)()}try{navigator.serviceWorker.addEventListener("error",function(e){j.state!==j.STATE.UNLAUNCHED&&p.error("ServiceWorker container error: "+e.error)()})}catch(i){p.error('Unable to add "error" event listener to service worker container, error: '+i)()}n();var a=function(e,t){e.buffer.forEach(function(e){e.message[0]="ServiceWorker("+t+"): "+e.message[0],p[e.level].apply(p,e.message)()})};e.on("log",function(e,t,r){j.state!==j.STATE.UNLAUNCHED&&a(e,r)}),e.on("uploadLogs",function(e,r,n){e&&a(e,n),t.upload("Requested by Service Worker")}),E.on("locale_change",function(){navigator.serviceWorker.ready.then(function(){o()})}),E.on("logout",function(){navigator.serviceWorker.ready.then(function(){e.send(navigator.serviceWorker.controller,"logout")})})}();var Y=l.createClass({displayName:"App",mixins:[M,O,I],statics:{hasPending:function(){return!!d&&d.hasPending()}},getInitialState:function(){return{mode:A.mode,updating:!1,anotherSession:!1,takingOver:!1,launchUrl:void 0,locale:l10n.getLocale()}},componentWillUpdate:function(e,t){this.state.anotherSession===!0&&t.anotherSession===!1?P.openDB():this.state.anotherSession===!1&&t.anotherSession===!0&&P.idb().then(function(e){return e.close()})["catch"](_.noop)},componentWillMount:function(){var e=this;u["default"].all([i(),a()]).then(function(){return E.mainLoaded()});var t=o();if(t.length>0){var n=w.CAPABILITY_URL+"?missing="+t.join(",");window.location.replace?window.location.replace(n):window.location.href=n}var s=r(222);this.regNativeListener(window,"beforeunload",s.unloadMutex.bind(s)),this.regNativeListener(window,"unload",s.unloadMutex.bind(s)),this.regNativeListener(window,"storage",function(t){var r=s.storagePong(t);r&&e.setState({takingOver:!1,anotherSession:!0})}),this.addObserverAndRun(A,"change:clientExpired",this.onClientExpired),this.addObserverAndRun(A,"change:mode",this.onStreamModeChange);var d=r(425);if(d.canMuckHistory){var c=d.parseWindowLocation(window.location.href);c&&(this.setState({launchUrl:window.location.href}),window.history.replaceState({},"",c.baseUrl))}this.animate=!0;var l=this;this.regCmd("locale_change",function(){p.log("App:componentWillMount:rerenderUI locale change")(),l.animate=!1,l.setState({locale:l10n.getLocale()})}),R.loadInitialAssets(),this.registerYesterdayTimer(),p.log("App:componentWillMount:visibilityState: "+document.visibilityState)(),"prerender"===document.visibilityState?x.waitForEvent(document,"visibilitychange").timeout(5e3).then(function(){return e.beginMutex(0)})["catch"](function(){return e.beginMutex(0)}):this.beginMutex(0),D.setTitleAndIcon(0)},onLaunchUrlHandled:function(){this.setState({launchUrl:void 0})},beginMutex:function(e,t){var n=this,o=r(222),i=t?o.takeoverLocal(e):o.init(e);return i["catch"](function(e){return n.setState({takingOver:!0}),n.beginMutex(e,!0)}).then(function(e){n.setState({takingOver:!1,anotherSession:e})})},componentDidMount:function(){},componentDidUpdate:function(){this.state.mode!==A.MODE.MAIN&&(this.animate=!0)},registerYesterdayTimer:function(){var e=this;U.setTimeout(function(){p.log("App:registerYesterdayTimer:rerenderUI relative timestamps")(),E.midnight(),e.registerYesterdayTimer()},C().endOf("day").valueOf())},onStreamModeChange:function(){this.state.mode!==A.mode&&this.setState({mode:A.mode})},onClientExpired:function(){this.state.updating!==Store.Stream.clientExpired&&this.setState({updating:Store.Stream.clientExpired})},onMouseDown:function(e){E.windowMouseDown(e)},onClick:function(e){E.windowClick(e)},render:function(){var e,t=this,r=S("app-wrapper",{"app-wrapper-web":!0});if(this.state.updating)e=l.createElement(N,null);else if(this.state.anotherSession){var n,o;this.state.takingOver?(n=_.noop,o=l10n.t("connecting")):(n=function(){t.beginMutex(0,!0)},o=l10n.t("button_use_here")),e=l.createElement(b,{body:l10n.t("whatsapp_web_is_open_in_another_window"),cancelLabel:l10n.t("web_close"),onCancel:window.open.bind(window,"http://www.whatsapp.com/","_self"),defaultLabel:o,onDefault:n})}else switch(this.state.mode){case A.MODE.QR:e=[l.createElement(k,{type:k.Type.MODAL,key:"modal-manager"}),l.createElement(f,{key:"qr-code",launchUrl:this.state.launchUrl})];break;case A.MODE.SYNCING:e=l.createElement(h,null);break;case A.MODE.OFFLINE:e=l.createElement(m,null);break;case A.MODE.PROXYBLOCK:e=l.createElement(g,null);break;case A.MODE.CONFLICT:e=l.createElement(v,null);break;case A.MODE.TOS_BLOCK:e=l.createElement(y,null);break;case A.MODE.MAIN:e=[l.createElement(T,{key:"toast-manager"}),l.createElement(k,{type:k.Type.MEDIA,key:"media-modal-manager"}),l.createElement(k,{type:k.Type.MODAL,key:"main-modal-manager"}),l.createElement($,{type:"menu",key:"context-menu-manager"}),l.createElement($,{type:"tooltip",key:"tooltip-manager"}),l.createElement(d,{key:"main",conn:Store.Conn,launchUrl:this.state.launchUrl,onLaunchUrlHandled:this.onLaunchUrlHandled,animate:this.animate})],r+=" app-wrapper-main";break;default:p.log("app:render Error invalid App state",this.state.mode)()}return l.createElement(B,{displayName:"App",state:B.State.INACTIVE},l.createElement("div",{className:r,onMouseDownCapture:this.onMouseDown,onClickCapture:this.onClick,key:this.state.locale},e,s?l.createElement(s,null):null))}});e.exports=Y},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(18),i=n(o),a=r(2),s=n(a),d=r(8),c=r(1),u=r(411),l=r(200),p=r(29),f=r(21),h=r(45),m=r(10),g=r(14),v=r(12),y=u.extend({model:l,comparator:l.Comparator,_sort:_.debounce(function(){return u.prototype.sort.call(this)},1e3),_silentSort:_.debounce(function(){return u.prototype.sort.call(this,{silent:!0})},1e3),sort:function(e){return e&&e.slient?this._silentSort():this._sort()},initialize:function(){u.prototype.initialize.call(this,{CachePolicy:{id:"contact_collection",policy:u.CACHE_POLICY.NONE}}),this.checksum=void 0,this.listenTo(m,"locale_change",this.sort),this.listenTo(this,"change:name",this.sort),this.listenTo(v,"change:stream",function(){v.stream===v.STREAM.DISCONNECTED&&this.forEach(function(e){return e.unset("_capabilities")}),v.stream===v.STREAM.RESUMING&&this.forEach(function(e){e.unset("verificationString"),e.unset("verificationBinary")})})},"delete":function(){u.prototype["delete"].call(this),delete this.checksum,delete this.hasSyncedPromise},isFilteredContact:function(e){return e.name&&!e.isMe&&!e.isPSA&&e.isWAContact},getFilteredContacts:function(){return this.filter(function(e){return e.name&&!e.isMe&&!e.isPSA&&e.isWAContact})},mungePSAContact:function(e){if(_.isArray(e)){var t=_.findIndex(e,function(e){return e.id===d.PSA_WID});t>-1&&(e[t].name=l10n.t("whatsapp_psa_contact_name"),e[t].shortName=l10n.t("whatsapp_psa_contact_name"))}},_find:function(e){var t=this.get(e);return t?s["default"].resolve(t):s["default"].resolve({id:e})},_findQuery:function(e){var t=this;return h.contactFindQuery(e.retry).then(function(e){return"preempted"===e?s["default"].reject("contacts preempted"):(t.trigger(d.COLLECTION_HAS_SYNCED),t.mungePSAContact(e.data),e.checksum&&(t.checksum=e.checksum,c.log("Store:Contact:query update checksum "+e.checksum)()),s["default"].resolve(e.data))})},handle:function(e){var t=this,r=function(e){t.add(e,{merge:!0});var r=t.get(e.id);e.name||(r.unset("name"),r.unset("shortName")),r.isMe&&r.set("plaintextDisabled",!0)},n=e.shift();if(_.isArray(n)){var o=e.shift();if(o&&"remove"===o.missing){var a={};n.forEach(function(e){a[e.id]=!0}),this.forEach(function(e){var t=e.get("id");!f.isUser(t)||a[t]||e.isPSA||(e.unset("name"),e.unset("shortName"))})}o&&o.checksum&&(this.checksum=o.checksum,c.log("Store:Contact:handle update checksum "+o.checksum)()),this.mungePSAContact(n),n.forEach(r)}else if("preempt"===n.cmd){if(this.mungePSAContact(n.response),this.add(n.response,{merge:!0}),n.checksum&&(this.checksum=n.checksum,c.log("Store:Contact:handle update checksum "+n.checksum)()),Store.Conn.me){var s=this.get(Store.Conn.me);s&&s.set("plaintextDisabled",!0)}this.trigger(d.COLLECTION_HAS_SYNCED)}else if("caps"===n.type){var u=this.get(n.jid);if(u&&u.isUser&&u._capabilities&&_.isObject(n.data))for(var l in n.data)u._capabilities[l]=n.data[l]}else c.error("Store:Contact:handle unknown: "+(0,i["default"])(n))()},sync:function(){return this.findQuery({})["catch"](g.WapDrop,_.noop),this._hasSynced()},_hasSynced:function(){return this.hasSyncedPromise?this.hasSyncedPromise:this.hasSyncedPromise=p.waitForBBEvent(this,d.COLLECTION_HAS_SYNCED)},resyncContacts:function(e){var t=this;"undefined"!=typeof this.checksum&&"undefined"!=typeof e&&(this.checksum!==e?this.findQuery({retry:!0}).then(function(e){if(_.isArray(e)){t.mungePSAContact(e),c.log("Store:Contact:resync success")();var r,n,o={};for(n=0;n<e.length;n++)r=e[n],o[r.id]=r;for(n=0;n<t.length;n++)r=t.at(n),o[r.id]||r.isPSA||r.unset("name")}else c.error("Store.Contact.resync error "+(0,i["default"])(e),e)()})["catch"](g.WapDrop,_.noop):c.log("Store:Contact:resync checksum match")())}});e.exports=new y},function(e,t,r){"use strict";function n(e){o.log("Application Cache "+e.type+" event")(e)}var o=r(1);applicationCache.addEventListener("cached",n),applicationCache.addEventListener("checking",n),applicationCache.addEventListener("downloading",n),applicationCache.addEventListener("error",n),applicationCache.addEventListener("noupdate",n),applicationCache.addEventListener("obsolete",n),applicationCache.addEventListener("progress",n),applicationCache.addEventListener("updateready",n)},function(e,t){"use strict";!function(e){var t=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,r=e.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),n=r&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),o=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,i=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,a=(r||o)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(e){var t,a,s,d,c,u,l,p,f;if(t=e.match(i),!t)throw new Error("invalid data URI");for(a=t[2]?t[1]:"text/plain"+(t[3]||";charset=US-ASCII"),s=!!t[4],d=e.slice(t[0].length),c=s?atob(d):decodeURIComponent(d),u=new ArrayBuffer(c.length),l=new Uint8Array(u),p=0;p<c.length;p+=1)l[p]=c.charCodeAt(p);return r?new Blob([n?l:u],{type:a}):(f=new o,f.append(u),f.getBlob(a))};e.HTMLCanvasElement&&!t.toBlob&&(t.mozGetAsFile?t.toBlob=function(e,r,n){e(n&&t.toDataURL&&a?a(this.toDataURL(r,n)):this.mozGetAsFile("blob",r))}:t.toDataURL&&a&&(t.toBlob=function(e,t,r){e(a(this.toDataURL(t,r)))})),e.dataURLtoBlob=a}(window)},function(e,t){"use strict";_.mixin({forceArray:function(e){return _.isArray(e)?e:[e]},intersperse:function(e,t){if(_.isArray(e)){if(_.isEmpty(e))return[];for(var r=[],n=0;n<e.length-1;++n)r.push(e[n]),r.push(t);return r.push(e[e.length-1]),r}return e}})},function(e,t){"use strict";!function(){if("performance"in window==!1&&(window.performance={}),!("now"in window.performance)){var e=window.performance,t=e.timing&&e.timing.navigationStart?e.timing.navigationStart:Date.now();e.now=function(){return Date.now()-t}}}()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var r=this;this._flags=0,this._value=void 0,this._onFulfilled=void 0,this._onRejected=void 0,this._context=void 0,this._resolveLevel=0,this._control=void 0,this.x=void 0,this._parent=void 0,this._child=void 0,this._children=void 0,this.control=void 0,t&&(this._context=t["this"]),"function"==typeof e&&(this._onFulfilled=e,this._flags|=ae,this._flags|=pe,P(e,this._context,function(e){return C(r,0,!0,!1,e)},function(e){return C(r,0,!1,!1,e)}))}function i(e){if(void 0===e)return ge;if(S(e))return e;var t=new o;return C(t,0,!0,!1,e),B(t,fe),t}function a(e){var t=new o;return t._value=e,
B(t,ie|fe),te.push(t),t}function s(e){return new o(function(t,r){function n(e){if(0===--o){for(var r=[],n=0;n<i.length;n++){var a=i[n];r.push(a&&a._flags&me?a._value:e)}t(r)}return e}var o=e.length;if(0===o)return void t([]);for(var i=new Array(e.length),a=0;a<e.length;a++)i[a]=N(e[a],n,r)})}function d(e,t){this.errors=e||[],this.message=t||this.errors.length+" errors"}function c(e){var t="";if(e._flags&le){var r=e._onFulfilled||e._onRejected;t=r.call(e._context,J)}else if(e._control)t=".addRawControl("+e._control.name+", "+e._control.foo+")";else if(e._flags&de)t=".endWithControls("+(0,G["default"])(e.control)+")";else if(e._flags&fe)t=e._flags&oe?"Promise.resolve("+(void 0===e._value?"":e._value)+")":"Promise.reject("+(void 0===e._value?"":e._value)+")";else if(e._flags&pe)switch(e._flags&me){case ie:t="new Promise("+e._onFulfilled+")";break;case _e:t="new Promise("+e._onFulfilled+")";break;case oe:t="new Promise("+e._onFulfilled+")"}else e._onFulfilled&&e._onRejected?t=".then("+e._onFulfilled+", "+e._onRejected+")":e._onFulfilled?t=".then("+e._onFulfilled+")":e._onRejected&&(t=".catch("+e._onRejected+")");return t}function u(e,t){return new o(function(r){var n=E(t);S(n)&&B(n,se),setTimeout(r,e,n)})}function l(e){this.message=e||"StackPromise timed out"}function p(e,t){var r=void 0;if(arguments.length>2){r=new Array(arguments.length-2);for(var n=2;n<arguments.length;n++)r[n-2]=arguments[n]}return new o(function(n){n(e.apply(t,r))})}function f(e,t,r,n){this.name=e,this.foo=t,this.lightning=!!r,this.canRunMultipleTimes=!!n}function h(e,t){function r(){for(var r=void 0,n=e._parent;n&&!(n._flags&me)&&!(n._flags&de);n=n._parent)!n._control||n._control.name!==t||n._flags&ae||(r=n);if(!r)return o.NO_ACTIVE_CONTROL;r._control.canRunMultipleTimes||B(r,ae);var i=void 0;if(arguments.length>0){i=new Array(arguments.length);for(var a=0;a<arguments.length;a++)i[a]=arguments[a]}return r._control.foo.call(r._context,function(e){return T(r,r._resolveLevel,!0,!1,e)},function(e){return T(r,r._resolveLevel,!1,!1,e)},r._parent,i)}return r}function m(e){this.message=e,this.stack=new Error(e||this.name).stack}function _(e,t,r,n){t(new m(n&&n[0]))}function g(){0===K&&(z.length||te.length)&&(K=1,ye||(ye=v()),ye())}function v(){var e=void 0,t=void 0;return"undefined"==typeof MutationObserver||window&&window.navigator&&window.navigator.standalone?"function"==typeof j["default"]?function(){(0,j["default"])(R)}:function(){setTimeout(R,0)}:(e=document.createElement("div"),t=new MutationObserver(R),t.observe(e,{attributes:!0}),function(){e.setAttribute("tick",1&q)})}function y(e){return e===J?".tap()":Q}function b(e,t){B(e,se),t._parent=e,e._children?e._children.push(t):e._child?(e._children=[e._child,t],e._child=void 0):e._child=t}function w(e){if(e&&("object"==typeof e||"function"==typeof e)){var t=void 0;try{t=e.then}catch(r){return ee=r,Z}if("function"==typeof t)return t}}function E(e){if(!e||S(e))return e;var t=w(e);return t===Z?a(ee):t?new o(function(r,n){t.call(e,r,n)}):e}function S(e){return e instanceof o}function N(e,t,r){e=E(e);var n=S(e),o=void 0,s=void 0,d=!1,c=void 0;if(n){if(!(e._flags&me))return B(e.then(t,r),ce);B(e,se),d=!!(e._flags&ue),c=e._context,o=e._flags&oe?t:r,s=e._value}else o=t,s=e;if(!o)return i(e).then();s=D(o,c,s,!0);var u=void 0;if(s===Z)u=a(ee);else{if(s===X)return i(e).then(t,r);if(s===Q)return n?e.then():i(e);u=i(s)}return d&&(u=u.cancellable()),void 0!==c&&(u=u.bind(c)),u}function C(e,t,r,n,o){if(t===e._resolveLevel){var i=++e._resolveLevel;if(B(e,ae),!r)return void M(e,!1,n,o);if(o===e)e._parent=void 0,M(e,!1,n,new TypeError("promise resolved to itself"));else if(S(o)){var a=o._flags&me;a===_e?b(o,e):(e._parent=o,B(e,he),B(o,se),M(e,a===oe,n,o._value))}else{var s=w(o);s===Z?(e._parent=void 0,M(e,!1,n,ee)):s?(e._parent=void 0,P(s,o,function(t){return C(e,i,!0,!1,t)},function(t){return C(e,i,!1,!1,t)})):M(e,!0,n,o)}}}function T(e,t,r,n,o){t===e._resolveLevel&&(k(e),C(e,t,r,n,o))}function k(e){if(e._parent){var t=e._parent;if(e._parent=void 0,t._child===e)t._child=void 0;else if(t._children){for(var r=t._children,n=0;n<r.length;n++)if(r[n]===e){r.splice(n,1);break}0===r.length&&(t._children=void 0)}}}function $(e){if(null===e||void 0===e)throw new Error("Invalid .catch guard "+e);if("function"==typeof e)return e;if("object"==typeof e)throw new Error("Object guards in .catch are currently unsupported");return function(t){return t===e}}function A(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n===Error||n.prototype instanceof Error){if(t instanceof n)return!0}else if(n(t))return!0}return!1}function x(e,t){function r(r,n){return r===J?".catch(..., "+t+")":e&&!A(e,r)?Q:n?X:t.call(this,r)}return r}function M(e,t,r,n){if(B(e,ae|(t?oe:ie)),e._value=n,e._child)O(e._child,t,r,n,e),e._child=void 0;else if(e._children){var o=e._children;e._children=void 0;for(var i=0;i<o.length;i++)O(o[i],t,r,n,e)}else t||e._flags&se||te.push(e)}function O(e,t,r,n,o){e._resolveLevel++;var i=L(e,t);if(i&&e._flags&ce){B(e,ae);var a=D(i,e._context,n,!0);if(a!==X)return void(a===Z?(e._parent=void 0,M(e,!1,r,ee)):a===Q?M(e,t,r,n):(e._parent=void 0,C(e,e._resolveLevel,!0,r,a)));e._flags&=~ae}i?((r?V:z).push(e),g()):M(e,t,r,n)}function I(e,t){for(;0!==e.length;)t.push(e.pop())}function R(){for(;0!==H.length||0!==z.length;){0===H.length&&I(z,H);var e=H.pop(),t=e._parent,r=!!(t&&t._flags&oe),n=t&&t._value,i=L(e,r);if(B(e,ae),i){var a=void 0;do a=D(i,e._context,n,!1);while(a===X);a===Z?(n=ee,r=!1,e._parent=void 0):a!==Q&&(n=a,r=!0,e._parent=void 0)}e._flags&me||(C(e,e._resolveLevel,r,!0,n),I(V,H))}for(K--,q++;0!==te.length;){var s=te.pop();s._flags&se||ne.push(s)}for(;0!==re.length;){var d=re.pop();d._flags&se||o.onPossiblyUnhandledRejection(d._value,d)}var c=re;re=ne,ne=c}function P(e,t,r,n){try{e.call(t,r,n)}catch(o){n(o)}}function L(e,t){if(!(e._flags&ae))return t?e._onFulfilled:e._onRejected}function D(e,t,r,n){try{return n?e.call(t,r,!0):e.call(t,r)}catch(o){return ee=o,Z}}function B(e,t){return e._flags|=t,e}var U=r(499),j=n(U),W=r(87),Y=n(W),F=r(46),G=n(F),q=0,K=0,H=[],z=[],V=[],Q={sentinel:"CONTINUE_AS_IF_NO_HANDLER"},X={sentinel:"RETRY_ASYNCHRONOUSLY"},J={sentinel:"TO_STRING"},Z={sentinel:"DID_ERROR"},ee=null,te=[],re=[],ne=[],oe=1,ie=2,ae=4,se=8,de=16,ce=32,ue=64,le=128,pe=256,fe=512,he=1024,me=oe|ie,_e=0,ge=void 0;o.resolve=i,o.reject=a,o.prototype.then=function(e,t){"function"!=typeof e&&(e=void 0),"function"!=typeof t&&(t=void 0);var r=new o;r._onFulfilled=e,r._onRejected=t,r._context=this._context,this._flags&ue&&B(r,ue);var n=this._flags&me;return n===_e?b(this,r):(B(this,se),(n===oe?e:t)?(r._parent=this,z.push(r),g()):(r._parent=this,B(r,n),r._value=this._value,n===ie&&te.push(r))),r},o.prototype["catch"]=function(e){var t=arguments.length-1;if(0===t)return this.then(void 0,e);for(var r=new Array(t),n=0;n<t;n++)r[n]=$(arguments[n]);var o=x(r,arguments[t]),i=N(this,void 0,o);return i._onRejected&&B(i,le),i},o.prototype.bind=function(e){var t=this.then();return t._context=e,t},o.prototype.end=function(e){var t=this.then();if(B(t,de),t.control={},t._context=void 0,e){var r=e.controls;if(r)for(var n=0;n<r.length;n++){var o=r[n];t.control[o]=h(t,o)}return t}},o.prototype.endWithControls=function(){var e=this.then();B(e,de),e.control={},e._context=void 0;for(var t=0;t<arguments.length;t++){var r=arguments[t];e.control[r]=h(e,r)}return e},o.all=s,o.any=function(e){return new o(function(t,r){function n(e){if(0===--o){for(var t=[],n=0;n<i.length;n++){var a=i[n];t.push(a&&a._flags&me?a._value:e)}r(new d(t))}return e}var o=e.length;0===o&&r(new d([],"StackPromise.any called with []"));for(var i=new Array(e.length),a=0;a<e.length;a++)i[a]=N(e[a],t,n)})},o.props=function(e){function t(e){for(var t={},n=0;n<e.length;n++)t[r[n]]=e[n];return t}var r=(0,G["default"])(e),n=o.all(r.map(function(t){return e[t]}));switch(n._flags&me){case ie:return n;case _e:return B(n.then(t),ce);case oe:return n._value=t(n._value),n}},o.map=function(e,t){function r(e){return function(r){return n&&t(r,e)}}var n=!0,o=s(e.map(function(e,t){return i(e).then(r(t))}));switch(o._flags&me){case ie:n=!1;break;case _e:o=o["catch"](function(){return n=!1,Q}),B(o,ce);break;case oe:}return o},o.reduce=function(e,t,r){return i(e).reduce(t,r)},o.prototype.reduce=function(e,t){return t=E(t),N(this,function(r,n){function o(){for(var r=i.length;;){var n=c,a=i[n];if(S(a))switch(a._flags&me){case ie:return a;case _e:return a.then(o);case oe:a=a._value}if(S(t))switch(t._flags&me){case ie:return t;case _e:return t.then(o);case oe:t=t._value}var s=e.call(d,t,a,n,r);if(++c===r)return s;if(s=E(s),S(s))switch(s._flags&me){case ie:return s;case _e:return t=s,s.then(o);case oe:B(s,se),t=s._value}else t=s}}if(0===r.length)return t;if(n)return X;for(var i=new Array(r.length),a=0;a<r.length;a++){var s=i[a]=E(r[a]);S(s)&&B(s,se)}var d=this,c=0;return o()})},o.each=function(e,t){return i(e).each(t)},o.prototype.each=function(e){function t(t,n,o,i){return r.push(n),e.call(this,n,o,i)}var r=[];return this.reduce(t)["return"](r)},o.mapSeries=function(e,t){return i(e).mapSeries(t)},o.prototype.mapSeries=function(e){function t(t,r,n,o){var i=E(e.call(this,r,n,o));return S(i)?i.then(function(e){return t.push(e),t}):(t.push(i),t)}return this.reduce(t,[])},o.race=function(e){var t=E(e);if(S(t)){var r=t.then(function(e){return o.race(e)});return r._context=void 0,r._flags&=~ue,r}return new o(function(e,r){for(var n=0;n<t.length;n++){var o=E(t[n]);if(!S(o)||o._flags&me)for(e(o),n++;n<t.length;n++){var i=t[n];S(i)&&B(i,se)}else o.then(e,r)}})},d.prototype=(0,Y["default"])(Error.prototype,{name:{value:"AggregateError"}}),o.AggregateError=d,o.onPossiblyUnhandledRejection=function(e,t){console.error("StackPromise did not catch "+e,t,e)},o.prototype.toString=function(){for(var e=[],t=void 0,r=this,n=!1;r;r=r._parent){t=r,!n&&r._flags&me&&(n=!0,r._flags&fe||(r._flags&oe?e.push("[resolved value: "+r._value+"]"):e.push("[rejected reason: "+r._value+"]")));var o=c(r);r._flags&he&&(o="~"+o),e.push(o)}return e.reverse(),t._flags&(fe|pe)||(e[0]="[Promise]"+e[0]),e.join("\n")},o.delay=u,o.prototype.delay=function(e){return this.then(function(t){return u(e,t)})},o.prototype.timeout=function(e,t){function r(r){return r===J?".timeout("+e+", "+t+")":(clearTimeout(n),Q)}if((this._flags&me)!==_e)return this.then();var n=void 0,o=this.then(r,r);return B(o,ce|le),n=setTimeout(function(e,t){if(!(e._flags&me)){var r=t instanceof Error?t:new l(t);T(e,0,!1,!1,r)}},e,o,t),o},l.prototype=(0,Y["default"])(Error.prototype,{name:{value:"TimeoutError"}}),o.TimeoutError=l,o.prototype.isFulfilled=function(){return!!(this._flags&oe)},o.prototype.isRejected=function(){return!!(this._flags&ie)},o.prototype.isPending=function(){return!(this._flags&me)},o.prototype.value=function(){if(this._flags&oe)return this._value;throw new Error(this._flags&ie?"value() called on StackPromise that was rejected":"value() called on StackPromise that is pending")},o.prototype.reason=function(){if(this._flags&ie)return this._value;throw new Error(this._flags&oe?"reason() called on StackPromise that was fulfilled, not rejected":"reason() called on StackPromise that is pending")},o.callSynchronously=p,o.wrap=function(e){return function(){var t=this,r=void 0;if(arguments.length>0){r=new Array(arguments.length);for(var n=0;n<arguments.length;n++)r[n]=arguments[n]}var o=function(n){return n===J?".wrap("+e+").apply("+t+", ["+r+"])":e.apply(t,r)},a=i().then(o);return B(a,le),a}},o.wrapSync=function(e){return function(){try{return i(e.apply(this,arguments))}catch(t){return a(t)}}},o.loop=function(e,t){return i(t).loop(e)},o.prototype.loop=function(e){var t=N(this.then(function(r){function n(r){return p(e,o,a,r,i++).then(function(e){if(!(t._flags&me))return n(e)})}var o=this,i=0,a=function(e){return T(t,0,!0,!1,e)};return n(r)}),function(t){return t===J?".loop("+e+")":Q});return B(t,le),t},o.prototype.checkpoint=function(e){return e=i(e),this.then(function(t){return e._flags&ie?e:t})},o.prototype["finally"]=function(e){function t(t){return t===J?".finally("+e+")":(e.call(this,t),Q)}return B(this.then(t,t),le)},o.prototype.get=function(e){var t=this.then(function(t){return t===J?".get('"+e+"')":t[e]});return B(t,le),t},o.prototype.tap=function(e){function t(t){return t===J?".tap("+e+")":(e.call(this,t),Q)}return"function"!=typeof e?B(this.then(y),le):B(this.then(t),le)},o.prototype.spread=function(e){var t=this.then(function(t){return t===J?".spread("+e+")":e.apply(this,t)});return B(t,le),t},o.prototype["return"]=function(e){switch(this._flags&me){case ie:return this.then();case _e:case oe:e=E(e),S(e)&&B(e,se);var t=N(this,function(t){return t===J?".return("+e+")":e});return B(t,le),t}},o.prototype["throw"]=function(e){return this["return"](a(e))},o.Control=f,o.NO_ACTIVE_CONTROL=new Error("No active control was found."),o.prototype.addControl=function(e){if(!(e instanceof f))throw new Error("addControl must be given Control, but got "+e);var t=this.then(e.lightning?void 0:y);return t._control=e,t},o.prototype.addRawControl=function(e,t,r,n){return this.addControl(new f(e,t,r,n))},o.prototype.addResolveControl=function(e,t,r,n){function o(e,r,n,o){try{e(t.apply(this,o))}catch(i){r(i)}}return this.addControl(new f(e,o,r,n))},o.prototype.addRejectControl=function(e,t,r,n){function o(e,r,n,o){try{r(t.apply(this,o))}catch(i){r(i)}}return this.addControl(new f(e,o,r,n))},m.prototype=(0,Y["default"])(Error.prototype,{name:{value:"CancellationError"}}),o.CancellationError=m;var ve=new f("cancel",_,(!1),(!1));o.prototype.addCancelControl=function(){return B(this.addControl(ve),ue)},o.sit=function(e,t){var r=new o;return r._control=new f(e,function(e,r,n,o){e(t?t.apply(void 0,o):o&&o[0])}),r},o.prototype.cancellable=function(){return B(this.then(),ue)},o.prototype.uncancellable=function(){var e=this.then();return e._flags&=~ue,e},o.prototype.cancel=function(e){for(var t=void 0,r=this;r&&!(r._flags&me);r=r._parent)r._flags&ue&&(t=r);if(t)if(void 0===e&&(e=new m),L(t,!1)){var n=new o;k(t),b(n,t),T(n,0,!1,!1,e)}else T(t,t._resolveLevel,!1,!1,e)};var ye=void 0;ge=new o,C(ge,0,!0,!1,void 0),e.exports=o},,,,,,,,function(e,t,r){"use strict";var n=r(6),o=r(34),i=r(416),a=r(130),s=r(131),d=s.HotKeys,c=r(43),u=r(134),l=n.createClass({displayName:"ConfirmPopup",mixins:[a],propTypes:{classes:n.PropTypes.string,onCancel:n.PropTypes.func,cancelText:n.PropTypes.string,onOK:n.PropTypes.func,okText:n.PropTypes.string,children:n.PropTypes.node.isRequired,title:n.PropTypes.node,a8n:n.PropTypes.string},getDefaultProps:function(){return{classes:""}},onOK:function(e){e.stopPropagation(),e.preventDefault(),this.props.onOK(e)},onCancel:function(e){e.stopPropagation(),e.preventDefault(),this.props.onCancel(e)},componentDidMount:function(){u.focus(o.findDOMNode(this))},render:function(){var e=this.props.onOK?n.createElement("button",{"data-a8n":i.key("popup-controls-ok"),className:"btn-plain btn-default popup-controls-item",onClick:this.onOK},this.props.okText||l10n.t("web_ok")):null,t=c("btn-plain","popup-controls-item",{"btn-default":!this.props.onOK}),r=this.props.onCancel?n.createElement("button",{className:t,onClick:this.onCancel},this.props.cancelText||l10n.t("web_cancel")):null,o=this.props.title?n.createElement("div",{"data-a8n":i.key("popup-title"),className:"popup-title"},this.props.title):null,a={enter:this.props.onOK?this.onOK:_.noop,escape:this.props.onCancel?this.onCancel:_.noop};return n.createElement(d,{handlers:a},n.createElement("div",{className:"backdrop"},n.createElement("div",{className:"popup-container"},n.createElement("div",{className:"popup "+this.props.classes},n.createElement("div",{className:"popup-body"},o,n.createElement("div",{"data-a8n":i.key("popup-contents"),className:"popup-contents"},this.props.children)),n.createElement("div",{className:"popup-controls"},r,e)))))}});e.exports=l},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(2),i=n(o),a=r(1),s=r(22),d=r(423),c=r(107),u=r(421),l=r(12),p=r(14),f=r(15),h={QUERY:"QUERY",FIND:"FIND",UPDATE:"UPDATE"},m={NONE:"NONE",LOAD:"LOAD"},g=(new Object).toString(),v=u.extend(d,c,{listenTo:function(e,t,r){if(!_.isObject(e)||_.isEmpty(t)||!_.isFunction(r)){var n=[];throw _.isObject(e)||n.push("obj parameter is not an object"),_.isEmpty(t)&&n.push("event is empty string"),_.isFunction(r)||n.push("callback is not a function"),new Error(n.join(", "))}u.prototype.listenTo.apply(this,arguments)},initialize:function(e){this._config=_.extend({CachePolicy:{id:void 0,policy:m.NONE,delay:0},staleCollection:!1},e),this._inflight={},this.listenTo(this,"add remove reset sort",function(){var e=this._last,t=this.last();(!e&&t||e!==t)&&(this._last=t,this.trigger("change:last",t));var r=this._first,n=this.head();(!r&&n||r!==n)&&(this._first=n,this.trigger("change:first",n))}),this._initializeFromCache(),this._config.staleCollection&&this._initializeStaleCollection()},_initializeFromCache:function(e){var t=this._config.CachePolicy,r=t.id,n=t.policy,o=t.delay,i=t.trigger||"all";this.listenTo(l,"change:stream",function(){if(l.stream===l.STREAM.SYNCING){if(n===m.NONE)return void(_.isUndefined(r)||f.setCollection(r));if(a.log("baseCollection:initFromCache load: "+r)(),this.add(f.getCollection(r)),!_.isNumber(o))return;this._saveToCache=_.debounce(this.saveToCache,o),this.listenTo(this,i,this._saveToCache),this.initializeFromCache()}})},initializeFromCache:function(){},saveToCache:function(){if(Store.Conn.me){var e=this._config.CachePolicy.id;a.log("baseCollection:saveToCache save: "+e)(),f.setCollection(e,this.toJSON())}},_initializeStaleCollection:function(){var e=this;this.listenTo(l,"change:stream",function(){switch(l.stream){case l.STREAM.DISCONNECTED:_.forEach(e.models,function(e){e.stale=!0});break;case l.STREAM.RESUMING:case l.STREAM.SYNCING:break;case l.STREAM.CONNECTED:l.previousAttributes().stream===l.STREAM.RESUMING&&_.isFunction(e.onResume)&&e.onResume()}})},_query:function(e,t){var r=this,n=_.isString(t)?t:t.toString();n===g&&(n=_.uniqueId("collection_query_"));var o=e===h.QUERY?void 0:this.get(t),s="force-"+n;if((this._inflight[s]&&e===h.FIND||e===h.UPDATE)&&(n=s),this._inflight[n])return e===h.FIND&&o&&!o.stale?i["default"].resolve(o):this._inflight[n];if(!o||o&&o.stale||e===h.UPDATE){var d=this._inflight[n]=this._serverQuery(e,t)["finally"](function(){delete r._inflight[n]});return d["catch"](p.WapDrop,function(e){a.warn(e.toString())()})["catch"](_.noop),d["catch"](_.isString,function(e){a.log("baseCollection:query query promise rejected: "+e)()})}return i["default"].resolve(o)},_serverQuery:function(e,t){var r;r=e===h.UPDATE?this._update(t):e===h.FIND?this._find(t):this._findQuery(t);var n=this;return r.then(function(e){return n._config.staleCollection&&_.each(_.compact(_.forceArray(e)),function(e){"undefined"==typeof e.stale&&(e.stale=!1)}),n.add(e,{merge:!0})})},findQuery:function(e){return this._query(h.QUERY,e)},find:function(e){return e?this._query(h.FIND,e):(s.upload(a.trace("Called find without an id")),i["default"].resolve())},update:function(e){return e?this._query(h.UPDATE,e):(s.upload(a.trace("Called update without an id")),i["default"].resolve())},_update:function(e){return this._find(e)},handle:function(e){var t=this._handle(e.shift());this._config.staleCollection&&_.each(_.compact(_.forceArray(t)),function(e){e.stale=!1}),this.add(t,{merge:!0})},gadd:function(e){if(_.isString(e)||_.isNumber(e)){var t={};return t[this.mainIndex]=e,this.get(e)||this.add(t,{merge:!0})}if(e&&e[this.mainIndex])return this.add(e,{merge:!0});var r=_.findKey(Store,this)||"unknown";throw new Error(r+".gadd called without an id attr ("+this.mainIndex+")")},"delete":function(){this.stopListening(this,"all",this._saveToCache),_.forEach(this.models,function(e){e.stopListening(),e.cancelPendingPromises()}),this._inflight={},this.reset()},isStateStale:function(e){var t=this.get(e);return t&&t.stale}});v.CACHE_POLICY=m,e.exports=v},,function(e,t,r){"use strict";var n=r(6),o=r(10),i=r(133),a=r(43),s=4e3,d=n.createClass({displayName:"Toast",mixins:[i],propTypes:{id:n.PropTypes.string.isRequired,msg:n.PropTypes.string.isRequired,action:n.PropTypes.shape({actionText:n.PropTypes.string.isRequired,onAction:n.PropTypes.func.isRequired}),onDismiss:n.PropTypes.func,duration:n.PropTypes.number},statics:{genId:function(e){return _.uniqueId(e||"toast")}},getDefaultProps:function(){return{duration:s}},componentWillMount:function(){this.delay=this.safeDelay(function(){o.closeToast(this)},s)},restartDelay:function(){this.clearSafeTimeout(this.delay),this.delay=this.safeDelay(function(){o.closeToast(this)},s)},onDismiss:function(){o.closeToast(this),this.props.onDismiss&&this.props.onDismiss()},render:function(){var e,t=this.props,r=t.msg,o=t.action,i=t.className;return o&&(e=n.createElement("button",{className:"action",onClick:o.onAction},o.actionText)),n.createElement("div",{className:a("toast",i)},n.createElement("span",null,r),e,n.createElement("button",{className:"icon icon-x-alt",onClick:this.onDismiss}))}});e.exports=d},,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t={};return e.forEach(function(e){var r=e.split(""),n=u.initial(r).join(""),o=u.last(r);(t[n]||(t[n]={}))[o]=1}),u.keys(t).forEach(function(e){t[e]=a(u.keys(t[e]))}),i(t)}function i(e){return u.map(u.keys(e).sort(function(e,t){return t.length-e.length}),function(t){return u.escapeRegExp(t)+e[t]}).join("|")}function a(e){if(1===e.length)return u.escapeRegExp(e[0]);e=e.sort();for(var t=[],r=0,n=e[r],o=e.length,i=0;i<=o;i++){var a=e[i];if(!a||a.charCodeAt(0)!==n.charCodeAt(0)+(i-r)){var s=e[i-1];s===n?t.push(s):t.push(n+"-"+s),r=i,n=a}}return"["+u.escapeRegExp(t.join(""))+"]"}function s(){var e=(0,c["default"])($).concat((0,c["default"])(E),N);try{return new RegExp("("+o(e)+")","g")}catch(t){m.log("createRegexp Failed",e)()}}var d=r(46),c=n(d),u=r(30),l=r(437),p=r(488),f=r(8),h=r(43),m=r(1),_=null,g={},v="",y="    ".split(/ /),b="",w="",E={"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0},S=["","","","","","","","","","","","","","","","","","","","","","","","","",""],N=[];S.forEach(function(e){S.forEach(function(t){N.push(e+t)})});var C=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},T=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t},k=T(l),$=C(C({},p),l),A=function(e,t){var r=e.split(w);if(r.length>1)return""+r[0]+t+w;var n=e.split(b);return n.length>1?""+n[0]+t+b:""+e+t},x={},M=y[0];u.keys(l).forEach(function(e){var t=A(e,M);l[t]&&(x[e]=e,y.map(function(r){x[t]=e}))});var O={emojiRegex:function(){return _||(_=s()),_.lastIndex=0,_},containsEmoji:u.memoize(function(e){return _||(_=s()),_.test(e)}),normalizeEmoji:u.memoize(function(e){return _||(_=s()),e?e.replace(_,function(e,t){if(E[t])return"";var r=$[t];return k[r]||v}):""}),codeToEmoji:T($),emojiToImage:u.memoize(function(e,t,r){r=r||"small";var n="small"===r?"emoji":"emojik";if(E[e])return null;var o=g[e];if(o)return o;var i,a=$[e];if(a){var s=k[a]||v,d=document.createElement("img");return d.alt=s,d.draggable=!1,d.className=h(n,"emoji"+a,t),d.src=f.ONE_BY_ONE_TRANS_GIF,d}return i=document.createTextNode(v),g[e]=i},function(e,t,r){return"t:"+(e||"")+"c:"+(t||"")+"s:"+(r||"small")}),emojiToHTML:u.memoize(function(e,t,r){_||(_=s()),r=r||"small";var n="small"===r?"emoji":"emojik";return e?e.replace(_,function(e,r){if(E[r])return"";var o=g[r];if(o)return o;var i,a=$[r];if(a){var s=k[a]||v,d=document.createElement("img");return d.alt=s,d.draggable=!1,d.className=h(n,"emoji"+a,t),d.src=f.ONE_BY_ONE_TRANS_GIF,d.outerHTML}return i=v,g[r]=i}):""},function(e,t,r){return"t:"+(e||"")+"c:"+(t||"")+"s:"+(r||"small")}),NodeToEmoji:function(e){for(var t=[""],r=0,n=e.firstChild;null!==n;){if(1===n.nodeType)switch(n.tagName){case"P":case"PRE":case"DIV":t.push(""),r++;break;case"IMG":t[r]+=n.getAttribute("alt");break;case"BR":t[r]+="\n"}else 3===n.nodeType&&(t[r]+=n.nodeValue);if(n.hasChildNodes())n=n.firstChild;else{for(;null===n.nextSibling;)if(n=n.parentNode,n===e)return t.join("\n");n=n.nextSibling}}return t.join("\n")},emojiMap:$,skinToneEmojis:x,skinToneVariations:y,variantToUnicode:A};e.exports=O},function(e,t){"use strict";e.exports={key:function(e){var t=!1;return t?e:void 0}}},,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=void 0;return new a["default"](function(r,n){t=new FileReader,t.onload=r,t.onerror=function(e){n(new Error("blobToArrayBuffer error")),s.error("wa:blobToAB:fileReader:error:"+e)()},t.onabort=function(e){n(new Error("blobToArrayBuffer abort")),s.error("wa:blobToAB:fileReader:abort:"+e)()},t.readAsArrayBuffer(e)}).then(function(){return t.result})}var i=r(2),a=n(i),s=r(1),d={validateBlob:function(e){var t=e.slice?e.slice(0,1):e.webkitSlice(0,1);return o(t).then(function(e){return 1===e.byteLength})["catch"](function(){return!1})},blobToArrayBuffer:o,getHash:function(e){var t=e instanceof Blob?o(e):e;return t.then(function(e){var t=CryptoJS.lib.WordArray.create(e),r=CryptoJS.SHA256(t);return{hash:r.toString(CryptoJS.enc.Base64),size:t.sigBytes}})},getAudioDuration:function(e){var t=void 0,r=void 0;return new a["default"](function(n,o){t=document.createElement("audio"),t.addEventListener("loadeddata",n),t.addEventListener("error",function(){o(new Error("getAudioDuration: error loading audio"))}),t.src=r=URL.createObjectURL(e)}).then(function(){return~~t.seekable.end(0)})["finally"](function(){r&&URL.revokeObjectURL(r)})},typeFromMimetype:function(e){var t=e.split("/")[0];switch(t){case"image":case"video":case"audio":return t;default:return"document"}}};e.exports=d},function(e,t,r){"use strict";var n=r(6),o=r(34),i=r(203),a=r(438),s=r(130),d=r(43),c=r(63),u=r(134),l=r(131),p=l.HotKeys,f={X:{LEFT:"left",RIGHT:"right"},Y:{TOP:"top",BOTTOM:"bottom"}},h={DROPDOWN:"dropdown",DROPDOWN_MENU:"dropdown_menu",MENU:"menu",PICKER:"picker",EMOJI_PICKER:"emoji_picker"},m=n.createClass({displayName:"Menu",mixins:[s],propTypes:{children:n.PropTypes.node.isRequired,origin:n.PropTypes.shape({x:n.PropTypes.number,y:n.PropTypes.number}),type:n.PropTypes.oneOf(_.values(h)).isRequired,direction:n.PropTypes.shape({x:n.PropTypes.oneOf(_.values(f.X)),y:n.PropTypes.oneOf(_.values(f.Y))}).isRequired,flipOnRTL:n.PropTypes.bool,classes:n.PropTypes.string,onDefault:n.PropTypes.func},statics:{Direction:f,Type:h},getDefaultProps:function(){return{type:h.DROPDOWN,direction:{x:f.X.RIGHT,y:f.Y.BOTTOM}}},getInitialState:function(){return{hasKeyboard:h.EMOJI_PICKER!==this.props.type,showShortcuts:!1,keyboard:!1,selected:void 0}},componentDidMount:function(){this.state.hasKeyboard&&u.focus(o.findDOMNode(this))},onMouseMove:function(e){u.focus(o.findDOMNode(this)),this.setState({keyboard:!1})},getStyle:function(){var e=this.props,t={},r=e.direction.x,n=e.direction.y;this.props.flipOnRTL&&l10n.isRTL()&&(r=r===f.X.LEFT?f.X.RIGHT:f.X.LEFT);var o=r===f.X.RIGHT?f.X.LEFT:f.X.RIGHT,a=n===f.Y.TOP?f.Y.BOTTOM:f.Y.TOP;return t[i.prefix("transformOrigin")]=a+" "+o,e.origin?(r===f.X.RIGHT?t.left=e.origin.x:t.right=window.innerWidth-e.origin.x,n===f.Y.BOTTOM?t.top=e.origin.y:t.bottom=window.innerHeight-e.origin.y,_.merge(t,e.style)):_.merge(t,e.style)},onKeyDown:function(e){"Escape"!==e.key&&(e.preventDefault(),e.stopPropagation())},onKeyUp:function(e){},up:function(e){e.preventDefault(),e.stopPropagation();var t=o.findDOMNode(this.refs.list).children,r=a.ring(_.indexOf(t,this.state.selected)-1,t);u.focus(t[r]),this.setState({keyboard:!0,selected:t[r]})},down:function(e){e.preventDefault(),e.stopPropagation();var t=o.findDOMNode(this.refs.list).children,r=a.ring(_.indexOf(t,this.state.selected)+1,t);u.focus(t[r]),this.setState({keyboard:!0,selected:t[r]})},close:function(e){e.preventDefault();var t=this.context.uim;t&&t.uie.requestDismiss()},"default":function(e){if(this.props.onDefault){p.flashFocus=Date.now();var t=this.context.uim;t&&t.uie.requestDismiss(),this.props.onDefault(e)}},stopEvent:function(e){e.stopPropagation(),e.preventDefault()},resetSelected:function(e){e.stopPropagation(),u.focus(o.findDOMNode(this)),this.setState({selected:void 0})},render:function(){var e=this.props,t=d(e.classes,{dropdown:e.type===h.DROPDOWN,"dropdown dropdown-right":e.type===h.DROPDOWN_MENU,"menu menu-icons":e.type===h.MENU,"dropdown-picker k context-menu":e.type===h.PICKER,"dropdown dropdown-emoji":e.type===h.EMOJI_PICKER,inverse:(e.type===h.PICKER||e.type===h.EMOJI_PICKER)&&e.direction.x===f.X.LEFT,"inverse-vertical":e.type===h.EMOJI_PICKER&&e.direction.y===f.Y.TOP,"shortcut-active":this.state.showShortcuts}),r=this.state.hasKeyboard?n.createElement("ul",{ref:"list"},e.children):e.children,o=_.includes([h.PICKER,h.EMOJI_PICKER],e.type)?n.createElement("div",{className:"nib"}):null;if(this.state.hasKeyboard){var i={up:this.up,down:this.down,enter:this["default"],tab:this.stopEvent,"shift+tab":this.stopEvent};return i[l10n.LR("left","right")]=this.close,i[l10n.LR("right","left")]=this["default"],n.createElement(p,{handlers:i,className:t,style:this.getStyle(),onMouseMove:this.state.keyboard?this.onMouseMove:null,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onMouseUp:this.resetSelected},r,o)}return n.createElement("div",{className:t,style:this.getStyle()},r,o)}});m.contextTypes={uim:n.PropTypes.instanceOf(c)},e.exports=m},,,function(e,t,r){var n=r(66),o=r(240),i=r(239),a=r(37),s=r(142),d=r(157),c={},u={},t=e.exports=function(e,t,r,l,p){var f,h,m,_,g=p?function(){return e}:d(e),v=n(r,l,t?2:1),y=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(i(g)){for(f=s(e.length);f>y;y++)if(_=t?v(a(h=e[y])[0],h[1]):v(e[y]),_===c||_===u)return _}else for(m=g.call(e);!(h=m.next()).done;)if(_=o(m,v,h.value,t),_===c||_===u)return _};t.BREAK=c,t.RETURN=u},function(e,t){"use strict";var r=[].slice,n={},o=["head","last","partition","includes","toArray","invokeMap","map","filter","some"];_.each(o,function(e){if(!_[e])throw new Error("attempt to reference non-existant _ method: "+e);n[e]=function(){var t=r.call(arguments);return t.unshift(this.models),_[e].apply(_,t)}});var i=["groupBy","countBy","sortBy"];_.each(i,function(e){if(!_[e])throw new Error("attempt to reference non-existant _ method: "+e);n[e]=function(t,r){var n=_.isFunction(t)?t:function(e){return e.get?e.get(t):e[t]};return _[e](this.models,n,r)}}),n.where=function(e,t){return _.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){var r;for(var n in e)if(r=t.get?t.get(n):t[n],e[n]!==r)return!1;return!0})},e.exports=n},function(e,t,r){"use strict";var n=r(79),o=n.extend({Collection:"Status",props:{id:"string",status:"string"},session:{stale:["boolean",!1,!0]}});e.exports=o},function(e,t,r){"use strict";var n=r(30),o=window.history&&window.history.pushState&&window.location,i=function(e){var t=void 0;t=/(https:\/\/web\.whatsapp\.com(?:\/\w+)*)\/accept\?code=(\w+)/i;var r=e.match(t);if(r)return{baseUrl:r[1],groupCode:r[2]}},a=function(e){if(n.isString(e)){var t=i(e);if(t)return t.groupCode;var r=/https?:\/\/chat\.whatsapp\.com\/invite\/(\w+)/i,o=e.match(r);return o?o[1]:(r=/https?:\/\/chat\.whatsapp\.com\/(\w+)/i,(o=e.match(r))?o[1]:(r=/whatsapp:\/\/chat\/?\?code=(\w+)/i,o=e.match(r),o?o[1]:void 0))}};e.exports={parseInviteLink:a,parseWindowLocation:i,canMuckHistory:o}},function(e,t){"use strict";e.exports=_.memoize(function(e){return CryptoJS.MD5(e).toString(CryptoJS.enc.Base64)})},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(109)("meta"),o=r(67),i=r(60),a=r(35).f,s=0,d=Object.isExtensible||function(){return!0},c=!r(69)(function(){return d(Object.preventExtensions({}))}),u=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},l=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!d(e))return"F";if(!t)return"E";u(e)}return e[n].i},p=function(e,t){
if(!i(e,n)){if(!d(e))return!0;if(!t)return!1;u(e)}return e[n].w},f=function(e){return c&&h.NEED&&d(e)&&!i(e,n)&&u(e),e},h=e.exports={KEY:n,NEED:!1,fastKey:l,getWeak:p,onFreeze:f}},function(e,t,r){var n=r(57);e.exports=function(e,t,r){for(var o in t)r&&e[o]?e[o]=t[o]:n(e,o,t[o]);return e}},,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){this.regex=new RegExp("^"+e[0]+"$"),this.formatString=e[1],this.leadins=_.map(e[2],function(e){return new RegExp("^(?:"+e+")")})}function i(e){var t=u[e];return t?p[e]={lengths:t[0],formats:t[1].map(function(e){return new o(e)})}:null}function a(e){var t=e.match(l);return t?t[0]:e.length>=3?e.substring(0,3):e}function s(e){var t=a(e);if(!t)return e;var r=e.substring(t.length),n=p[t]||i(t);if(!n)return"+"+t+" "+r;for(var o=n.formats,s=0;s<o.length;s++){var d=o[s].testAndFormat(r);if(d)return"+"+t+" "+d}return"+"+t+" "+r}var d=r(46),c=n(d),u=r(595),l=/^(1|2[07]|3[0-469]|4[013-9]|5[1-8]|6[0-6]|7|8[1246]|9[0-58])/,p={};o.prototype={testAndFormat:function(e){return this.regex.test(e)&&this.checkLeadins(e)&&e.replace(this.regex,this.formatString)},checkLeadins:function(e){return 0===this.leadins.length||_.some(this.leadins,function(t){return t.test(e)})}},e.exports={findCC:a,format:s,CCs:(0,c["default"])(u)}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(2),i=n(o),a=r(6),s=r(8),d=r(1),c=r(45),u=r(79),l=r(101),p=r(14),f=r(80),h=r(21),m=r(10),_=r(64).ActionToast,g=r(64).ActionType,v=r(82),y=r(15),b=u.extend({Collection:"ProfilePicThumb",props:{id:"string",tag:"string",raw:"string",eurl:"string"},session:{stale:["boolean",!1,!0]},derived:{img:{deps:["tag","raw","stale","eurl"],fn:function(){if(this.raw)return"data:image/jpeg;base64,"+this.raw;if(!this.tag&&this.stale)return null;if(this.tag)return this.generateUrl("s")}},imgFull:{deps:["tag","raw","stale","eurl"],fn:function(){if((this.raw||!this.tag)&&this.stale)return null;if(!this.raw&&this.tag)return this.generateUrl("l")}}},onError:function(e){switch(e){case 410:this.update()}},generateUrl:function(e){var t={t:e,u:this.id,i:this.tag};return v&&(this.eurl&&(t.e=this.eurl),t.ref=y.ref,t.tok=y.tok),f.build(s.PP_URL,t)},canSet:function(){return!(!h.isGroup(this.id)||!l.supportsFeature(l.F.GROUP_SET_PIC))||!(!h.isUser(this.id)||this.id!==Store.Conn.me||!l.supportsFeature(l.F.SET_PROFILE_PIC))},setPicture:function(e,t,r){var n=this;if(!this.canSet())return i["default"].reject(new p.ActionError);var o=c.sendSetPicture(this.id,e,t),s=new g(this.id===Store.Conn.me?l10n.t("action_profile_setting"):l10n.t("action_group_icon_setting"));r=r||_.genId();var u=o["catch"](function(e){throw d.error("models:ProfilePicThumb:setPicture dropped")(e),new g(n.id===Store.Conn.me?l10n.t("action_profile_set_failed"):l10n.t("action_group_icon_set_failed"))}).then(function(o){if(200===o.status)return new g(n.id===Store.Conn.me?l10n.t("action_profile_set"):l10n.t("action_group_icon_set"));if(o.status>=400){var i=n.id===Store.Conn.me?l10n.t("action_profile_set_failed"):l10n.t("action_group_icon_set_failed");return new g(i,l10n.t("action_try_again"),n.setPicture.bind(n,e,t,r))}});return m.openToast(a.createElement(_,{id:r,initialAction:s,pendingAction:u})),o.bind(this).then(function(e){200!==e.status||e._duplicate||(this.tag=e.tag)})},canDelete:function(){return!!(h.isGroup(this.id)&&l.supportsFeature(l.F.GROUP_SET_PIC)&&this.tag)||!!(h.isUser(this.id)&&this.id===Store.Conn.me&&l.supportsFeature(l.F.SET_PROFILE_PIC)&&this.tag)},deletePicture:function(e){var t=this;if(!this.canDelete())return i["default"].reject(new p.ActionError);var r=c.deletePicture(this.id),n=new g(this.id===Store.Conn.me?l10n.t("action_profile_removing"):l10n.t("action_group_icon_removing"));e=e||_.genId();var o=r["catch"](function(e){throw d.error("models:ProfilePicThumb:deletePicture dropped")(e),new g(t.id===Store.Conn.me?l10n.t("action_profile_remove_failed"):l10n.t("action_group_icon_remove_failed"))}).then(function(r){if(200===r.status)return new g(t.id===Store.Conn.me?l10n.t("action_profile_removed"):l10n.t("action_group_icon_removed"));if(r.status>=400){var n=t.id===Store.Conn.me?l10n.t("action_profile_remove_failed"):l10n.t("action_group_icon_remove_failed");return new g(n,l10n.t("action_try_again"),t.deletePicture.bind(t,e))}});return m.openToast(a.createElement(_,{id:e,initialAction:n,pendingAction:o})),r.bind(this).then(function(e){200!==e.status||e._duplicate||(this.tag=void 0)})}});e.exports=b},function(e,t,r){"use strict";function n(e){w(this,n,e)}function o(e){w(this,o,e)}function i(e){w(this,i,e)}function a(e){w(this,a,e)}function s(e){w(this,s,e)}function d(e){w(this,d,e)}function c(e){w(this,c,e)}function u(e){w(this,u,e)}function l(e){w(this,l,e)}function p(e){w(this,p,e)}function f(e){w(this,f,e)}function h(e){w(this,h,e)}function m(e){w(this,m,e)}function _(e){w(this,_,e)}function g(e){w(this,g,e)}function v(e){w(this,v,e)}var y=r(211),b=y.defineProtobufClass,w=y.construct,E=64,S=256,N=3,C=4,T=7,k=8,$=11,A=12,x=13,M=14;b(n,{groupId:[1,A],axolotlSenderKeyDistributionMessage:[2,x]}),b(o,{url:[1,A],mimetype:[2,A],caption:[3,A],fileSha256:[4,x],fileLength:[5,C],height:[6,N],width:[7,N],mediaKey:[8,x],jpegThumbnail:[16,x],contextInfo:[17,M,_]}),b(i,{displayName:[1,A],vcard:[16,A],contextInfo:[17,M,_]}),b(a,{degreesLatitude:[1,$],degreesLongitude:[2,$],name:[3,A],address:[4,A],url:[5,A],jpegThumbnail:[16,x],contextInfo:[17,M,_]}),b(s,{text:[1,A],matchedText:[2,A],canonicalUrl:[4,A],description:[5,A],title:[6,A],jpegThumbnail:[16,x],contextInfo:[17,M,_]}),b(d,{url:[1,A],mimetype:[2,A],title:[3,A],fileSha256:[4,x],fileLength:[5,C],pageCount:[6,N],mediaKey:[7,x],fileName:[8,A],jpegThumbnail:[16,x],contextInfo:[17,M,_]}),b(c,{url:[1,A],mimetype:[2,A],fileSha256:[3,x],fileLength:[4,C],seconds:[5,N],ptt:[6,T],mediaKey:[7,x],contextInfo:[17,M,_],streamingSidecar:[18,x]});var O={NONE:0,GIPHY:1,TENOR:2};b(u,{url:[1,A],mimetype:[2,A],fileSha256:[3,x],fileLength:[4,C],seconds:[5,N],mediaKey:[6,x],caption:[7,A],gifPlayback:[8,T],jpegThumbnail:[16,x],contextInfo:[17,M,_],streamingSidecar:[18,x],gifAttribution:[19,k,O]}),b(l,{callKey:[1,x]}),b(p,{displayName:[1,A],id:[2,A]}),b(f,{}),b(h,{displayName:[1,A],contacts:[2,E|M,i],contextInfo:[17,M,_]}),b(m,{conversation:[1,A],senderKeyDistributionMessage:[2,M,n],imageMessage:[3,M,o],contactMessage:[4,M,i],locationMessage:[5,M,a],extendedTextMessage:[6,M,s],documentMessage:[7,M,d],audioMessage:[8,M,c],videoMessage:[9,M,u],call:[10,M,l],chat:[11,M,p],protocolMessage:[12,M,f],contactsArrayMessage:[13,M,h]}),b(_,{stanzaId:[1,A],participant:[2,A],quotedMessage:[3,M,m],mentionedJid:[15,E|A]});var I={ERROR:0,PENDING:1,SERVER_ACK:2,DELIVERY_ACK:3,READ:4,PLAYED:5};b(g,{remoteJid:[1,A],fromMe:[2,T],id:[3,A],participant:[4,A]}),b(v,{key:[1,S|M,g],message:[2,M,m],messageTimestamp:[3,C],status:[4,k,I],participant:[5,A],ignore:[16,T],starred:[17,T],broadcast:[18,T],pushName:[19,A],mediaCiphertextSha256:[20,x]},{status:I.PENDING}),m.SenderKeyDistributionMessage=n,m.ImageMessage=o,m.ContactMessage=i,m.LocationMessage=a,m.ExtendedTextMessage=s,m.DocumentMessage=d,m.AudioMessage=c,m.VideoMessage=u,u.ATTRIBUTION=O,m.Call=l,m.Chat=p,m.ProtocolMessage=f,m.ContactsArrayMessage=h,v.STATUS=I,v.MessageKey=g,e.exports={Message:m,ContextInfo:_,WebMessageInfo:v}},function(e,t){"use strict";function r(e,t){c[e]||(c[e]=[]),c[e].indexOf(t)===-1&&c[e].push(t)}function n(e,t){if(c[e]){var r=c[e].indexOf(t);r!==-1&&c[e].splice(r,1)}}function o(e){c[e]&&(c[e]=null)}function i(e,t,r,n){c[e]&&c[e].forEach(function(e){return e.call(null,t,r,n)})}function a(e,t,r,n){if(e){var o=void 0;if(self.MessageChannel&&n){var i=new MessageChannel;i.port1.onmessage=n,o=[i.port2]}e.postMessage({command:t,message:r,version:"0.2.2242"},o)}}function s(e,t,r){e.forEach(function(e){return a(e,t,r)})}function d(e){if(self.window&&e.source!==navigator.serviceWorker.controller)i("log",{buffer:[{level:"error",message:["Invalid message received from a service worker, sw origin: "+e.origin,e.data]}]});else{var t=e.data.command||"unknown",r=void 0;e.ports&&0!==e.ports.length&&(r=function(t){e.ports.forEach(function(e){return e.postMessage(t)})}),i(t,e.data.message,r,e.data.version)}}var c={unknown:[]},u=self.window?self.navigator.serviceWorker:self;try{u.addEventListener("message",d)}catch(l){}e.exports={on:r,off:n,reset:o,trigger:i,send:a,broadcast:s}},function(e,t){"use strict";var r={LOW:"low",HIGH:"high"},n=window.matchMedia("\n    only screen and (-webkit-min-device-pixel-ratio: 2),\n    only screen and (min-device-pixel-ratio: 2),\n    only screen and (min-resolution: 2dppx)\n"),o={RES:r,currentRes:n.matches?r.HIGH:r.LOW},i=function(e){var t=e.matches?r.HIGH:r.LOW;if(t!==o.currentRes){o.currentRes=t;var n=document.createEvent("Event");n.initEvent("dpichange",!0,!0),window.dispatchEvent(n)}};n.addListener(i),e.exports=o},function(e,t){"use strict";e.exports={"#":"ordered0001","*":"ordered0002","0":"ordered0003","1":"ordered0004","2":"ordered0005","3":"ordered0006","4":"ordered0007","5":"ordered0008","6":"ordered0009","7":"ordered0010","8":"ordered0011","9":"ordered0012","":"ordered0013","":"ordered0014","":"ordered0015","":"ordered0016","":"ordered0017","":"ordered0018","":"ordered0019","":"ordered0020","":"ordered0021","":"ordered0022","":"ordered0023","":"ordered0024","":"ordered0025","":"ordered0026","":"ordered0027","":"ordered0028","":"ordered0029","":"ordered0030","":"ordered0031","":"ordered0032","":"ordered0033","":"ordered0034","":"ordered0035","":"ordered0036","":"ordered0037","":"ordered0038","":"ordered0039","":"ordered0040","":"ordered0041","":"ordered0042","":"ordered0043","":"ordered0044","":"ordered0045","":"ordered0046","":"ordered0047","":"ordered0048","":"ordered0049","":"ordered0050","":"ordered0051","":"ordered0052","":"ordered0053","":"ordered0054","":"ordered0055","":"ordered0056","":"ordered0057","":"ordered0058","":"ordered0059","":"ordered0060","":"ordered0061","":"ordered0062","":"ordered0063","":"ordered0064","":"ordered0065","":"ordered0066","":"ordered0067","":"ordered0068","":"ordered0069","":"ordered0070","":"ordered0071","":"ordered0072","":"ordered0073","":"ordered0074","":"ordered0075","":"ordered0076","":"ordered0077","":"ordered0078","":"ordered0079","":"ordered0080","":"ordered0081","":"ordered0082","":"ordered0083","":"ordered0084","":"ordered0085","":"ordered0086","":"ordered0087","":"ordered0088","":"ordered0089","":"ordered0090","":"ordered0091","":"ordered0092","":"ordered0093","":"ordered0094","":"ordered0095","":"ordered0096","":"ordered0097","":"ordered0098","":"ordered0099","":"ordered0100","":"ordered0101","":"ordered0102","":"ordered0103","":"ordered0104","":"ordered0105","":"ordered0106","":"ordered0107","":"ordered0108","":"ordered0109","":"ordered0110","":"ordered0111","":"ordered0112","":"ordered0113","":"ordered0114","":"ordered0115","":"ordered0116","":"ordered0117","":"ordered0118","":"ordered0119","":"ordered0120","":"ordered0121","":"ordered0122","":"ordered0123","":"ordered0124","":"ordered0125","":"ordered0126","":"ordered0127","":"ordered0128","":"ordered0129","":"ordered0130","":"ordered0131","":"ordered0132","":"ordered0133","":"ordered0134","":"ordered0135","":"ordered0136","":"ordered0137","":"ordered0138","":"ordered0139","":"ordered0140","":"ordered0141","":"ordered0142","":"ordered0143","":"ordered0144","":"ordered0145","":"ordered0146","":"ordered0147","":"ordered0148","":"ordered0149","":"ordered0150","":"ordered0151","":"ordered0152","":"ordered0153","":"ordered0154","":"ordered0155","":"ordered0156","":"ordered0157","":"ordered0158","":"ordered0159","":"ordered0160","":"ordered0161","":"ordered0162","":"ordered0163","":"ordered0164","":"ordered0165","":"ordered0166","":"ordered0167","":"ordered0168","":"ordered0169","":"ordered0170","":"ordered0171","":"ordered0172","":"ordered0173","":"ordered0174","":"ordered0175","":"ordered0176","":"ordered0177","":"ordered0178","":"ordered0179","":"ordered0180","":"ordered0181","":"ordered0182","":"ordered0183","":"ordered0184","":"ordered0185","":"ordered0186","":"ordered0187","":"ordered0188","":"ordered0189","":"ordered0190","":"ordered0191","":"ordered0192","":"ordered0193","":"ordered0194","":"ordered0195","":"ordered0196","":"ordered0197","":"ordered0198","":"ordered0199","":"ordered0200","":"ordered0201","":"ordered0202","":"ordered0203","":"ordered0204","":"ordered0205","":"ordered0206","":"ordered0207","":"ordered0208","":"ordered0209","":"ordered0210","":"ordered0211","":"ordered0212","":"ordered0213","":"ordered0214","":"ordered0215","":"ordered0216","":"ordered0217","":"ordered0218","":"ordered0219","":"ordered0220","":"ordered0221","":"ordered0222","":"ordered0223","":"ordered0224","":"ordered0225","":"ordered0226","":"ordered0227","":"ordered0228","":"ordered0229","":"ordered0230","":"ordered0231","":"ordered0232","":"ordered0233","":"ordered0234","":"ordered0235","":"ordered0236","":"ordered0237","":"ordered0238","":"ordered0239","":"ordered0240","":"ordered0241","":"ordered0242","":"ordered0243","":"ordered0244","":"ordered0245","":"ordered0246","":"ordered0247","":"ordered0248","":"ordered0249","":"ordered0250","":"ordered0251","":"ordered0252","":"ordered0253","":"ordered0254","":"ordered0255","":"ordered0256","":"ordered0257","":"ordered0258","":"ordered0259","":"ordered0260","":"ordered0261","":"ordered0262","":"ordered0263","":"ordered0264","":"ordered0265","":"ordered0266","":"ordered0267","":"ordered0268","":"ordered0269","":"ordered0270","":"ordered0271","":"ordered0272","":"ordered0273","":"ordered0274","":"ordered0275","":"ordered0276","":"ordered0277","":"ordered0278","":"ordered0279","":"ordered0280","":"ordered0281","":"ordered0282","":"ordered0283","":"ordered0284","":"ordered0285","":"ordered0286","":"ordered0287","":"ordered0288","":"ordered0289","":"ordered0290","":"ordered0291","":"ordered0292","":"ordered0293","":"ordered0294","":"ordered0295","":"ordered0296","":"ordered0297","":"ordered0298","":"ordered0299","":"ordered0300","":"ordered0301","":"ordered0302","":"ordered0303","":"ordered0304","":"ordered0305","":"ordered0306","":"ordered0307","":"ordered0308","":"ordered0309","":"ordered0310","":"ordered0311","":"ordered0312","":"ordered0313","":"ordered0314","":"ordered0315","":"ordered0316","":"ordered0317","":"ordered0318","":"ordered0319","":"ordered0320","":"ordered0321","":"ordered0322","":"ordered0323","":"ordered0324","":"ordered0325","":"ordered0326","":"ordered0327","":"ordered0328","":"ordered0329","":"ordered0330","":"ordered0331","":"ordered0332","":"ordered0333","":"ordered0334","":"ordered0335","":"ordered0336","":"ordered0337","":"ordered0338","":"ordered0339","":"ordered0340","":"ordered0341","":"ordered0342","":"ordered0343","":"ordered0344","":"ordered0345","":"ordered0346","":"ordered0347","":"ordered0348","":"ordered0349","":"ordered0350","":"ordered0351","":"ordered0352","":"ordered0353","":"ordered0354","":"ordered0355","":"ordered0356","":"ordered0357","":"ordered0358","":"ordered0359","":"ordered0360","":"ordered0361","":"ordered0362","":"ordered0363","":"ordered0364","":"ordered0365","":"ordered0366","":"ordered0367","":"ordered0368","":"ordered0369","":"ordered0370","":"ordered0371","":"ordered0372","":"ordered0373","":"ordered0374","":"ordered0375","":"ordered0376","":"ordered0377","":"ordered0378","":"ordered0379","":"ordered0380","":"ordered0381","":"ordered0382","":"ordered0383","":"ordered0384","":"ordered0385","":"ordered0386","":"ordered0387","":"ordered0388","":"ordered0389","":"ordered0390","":"ordered0391","":"ordered0392","":"ordered0393","":"ordered0394","":"ordered0395","":"ordered0396","":"ordered0397","":"ordered0398","":"ordered0399","":"ordered0400","":"ordered0401","":"ordered0402","":"ordered0403","":"ordered0404","":"ordered0405","":"ordered0406","":"ordered0407","":"ordered0408","":"ordered0409","":"ordered0410","":"ordered0411","":"ordered0412","":"ordered0413","":"ordered0414","":"ordered0415","":"ordered0416","":"ordered0417","":"ordered0418","":"ordered0419","":"ordered0420","":"ordered0421","":"ordered0422","":"ordered0423","":"ordered0424","":"ordered0425","":"ordered0426","":"ordered0427","":"ordered0428","":"ordered0429","":"ordered0430","":"ordered0431","":"ordered0432","":"ordered0433","":"ordered0434","":"ordered0435","":"ordered0436","":"ordered0437","":"ordered0438","":"ordered0439","":"ordered0440","":"ordered0441","":"ordered0442","":"ordered0443","":"ordered0444","":"ordered0445","":"ordered0446","":"ordered0447","":"ordered0448","":"ordered0449","":"ordered0450","":"ordered0451","":"ordered0452","":"ordered0453","":"ordered0454","":"ordered0455","":"ordered0456","":"ordered0457","":"ordered0458","":"ordered0459","":"ordered0460","":"ordered0461","":"ordered0462","":"ordered0463","":"ordered0464","":"ordered0465","":"ordered0466","":"ordered0467","":"ordered0468","":"ordered0469","":"ordered0470","":"ordered0471","":"ordered0472","":"ordered0473","":"ordered0474","":"ordered0475","":"ordered0476","":"ordered0477","":"ordered0478","":"ordered0479","":"ordered0480","":"ordered0481","":"ordered0482","":"ordered0483","":"ordered0484","":"ordered0485","":"ordered0486","":"ordered0487","":"ordered0488","":"ordered0489","":"ordered0490","":"ordered0491","":"ordered0492","":"ordered0493","":"ordered0494","":"ordered0495","":"ordered0496","":"ordered0497","":"ordered0498","":"ordered0499","":"ordered0500","":"ordered0501","":"ordered0502","":"ordered0503","":"ordered0504","":"ordered0505","":"ordered0506","":"ordered0507","":"ordered0508","":"ordered0509","":"ordered0510","":"ordered0511","":"ordered0512","":"ordered0513","":"ordered0514","":"ordered0515","":"ordered0516","":"ordered0517","":"ordered0518","":"ordered0519","":"ordered0520","":"ordered0521","":"ordered0522","":"ordered0523","":"ordered0524","":"ordered0525","":"ordered0526","":"ordered0527","":"ordered0528","":"ordered0529","":"ordered0530","":"ordered0531","":"ordered0532","":"ordered0533","":"ordered0534","":"ordered0535","":"ordered0536","":"ordered0537","":"ordered0538","":"ordered0539","":"ordered0540","":"ordered0541","":"ordered0542","":"ordered0543","":"ordered0544","":"ordered0545","":"ordered0546","":"ordered0547","":"ordered0548","":"ordered0549","":"ordered0550","":"ordered0551","":"ordered0552","":"ordered0553","":"ordered0554","":"ordered0555","":"ordered0556","":"ordered0557","":"ordered0558","":"ordered0559","":"ordered0560","":"ordered0561","":"ordered0562","":"ordered0563","":"ordered0564","":"ordered0565","":"ordered0566","":"ordered0567","":"ordered0568","":"ordered0569","":"ordered0570","":"ordered0571","":"ordered0572","":"ordered0573","":"ordered0574","":"ordered0575","":"ordered0576","":"ordered0577","":"ordered0578","":"ordered0579","":"ordered0580","":"ordered0581","":"ordered0582","":"ordered0583","":"ordered0584","":"ordered0585","":"ordered0586","":"ordered0587","":"ordered0588","":"ordered0589","":"ordered0590","":"ordered0591","":"ordered0592","":"ordered0593","":"ordered0594","":"ordered0595","":"ordered0596","":"ordered0597","":"ordered0598","":"ordered0599","":"ordered0600","":"ordered0601","":"ordered0602","":"ordered0603","":"ordered0604","":"ordered0605","":"ordered0606","":"ordered0607","":"ordered0608","":"ordered0609","":"ordered0610","":"ordered0611","":"ordered0612","":"ordered0613","":"ordered0614","":"ordered0615","":"ordered0616","":"ordered0617","":"ordered0618","":"ordered0619","":"ordered0620","":"ordered0621","":"ordered0622","":"ordered0623","":"ordered0624","":"ordered0625","":"ordered0626","":"ordered0627","":"ordered0628","":"ordered0629","":"ordered0630","":"ordered0631","":"ordered0632","":"ordered0633","":"ordered0634","":"ordered0635","":"ordered0636","":"ordered0637","":"ordered0638","":"ordered0639","":"ordered0640","":"ordered0641","":"ordered0642","":"ordered0643","":"ordered0644","":"ordered0645","":"ordered0646","":"ordered0647","":"ordered0648","":"ordered0649","":"ordered0650","":"ordered0651","":"ordered0652","":"ordered0653","":"ordered0654","":"ordered0655","":"ordered0656","":"ordered0657","":"ordered0658","":"ordered0659","":"ordered0660","":"ordered0661","":"ordered0662","":"ordered0663","":"ordered0664","":"ordered0665","":"ordered0666","":"ordered0667","":"ordered0668","":"ordered0669","":"ordered0670","":"ordered0671","":"ordered0672","":"ordered0673","":"ordered0674","":"ordered0675","":"ordered0676","":"ordered0677","":"ordered0678","":"ordered0679","":"ordered0680","":"ordered0681","":"ordered0682","":"ordered0683","":"ordered0684","":"ordered0685","":"ordered0686","":"ordered0687","":"ordered0688","":"ordered0689","":"ordered0690","":"ordered0691","":"ordered0692","":"ordered0693","":"ordered0694","":"ordered0695","":"ordered0696","":"ordered0697","":"ordered0698","":"ordered0699","":"ordered0700","":"ordered0701","":"ordered0702","":"ordered0703","":"ordered0704","":"ordered0705","":"ordered0706","":"ordered0707","":"ordered0708","":"ordered0709","":"ordered0710","":"ordered0711","":"ordered0712","":"ordered0713","":"ordered0714","":"ordered0715","":"ordered0716","":"ordered0717","":"ordered0718","":"ordered0719","":"ordered0720","":"ordered0721","":"ordered0722","":"ordered0723","":"ordered0724","":"ordered0725","":"ordered0726","":"ordered0727","":"ordered0728","":"ordered0729","":"ordered0730","":"ordered0731","":"ordered0732","":"ordered0733","":"ordered0734","":"ordered0735","":"ordered0736","":"ordered0737","":"ordered0738","":"ordered0739","":"ordered0740","":"ordered0741","":"ordered0742","":"ordered0743","":"ordered0744","":"ordered0745","":"ordered0746","":"ordered0747","":"ordered0748","":"ordered0749","":"ordered0750","":"ordered0751","":"ordered0752","":"ordered0753","":"ordered0754","":"ordered0755","":"ordered0756","":"ordered0757","":"ordered0758","":"ordered0759","":"ordered0760","":"ordered0761","":"ordered0762","":"ordered0763","":"ordered0764","":"ordered0765","":"ordered0766","":"ordered0767","":"ordered0768","":"ordered0769","":"ordered0770","":"ordered0771","":"ordered0772","":"ordered0773","":"ordered0774","":"ordered0775","":"ordered0776","":"ordered0777","":"ordered0778","":"ordered0779","":"ordered0780","":"ordered0781","":"ordered0782","":"ordered0783","":"ordered0784","":"ordered0785","":"ordered0786","":"ordered0787","":"ordered0788","":"ordered0789","":"ordered0790","":"ordered0791","":"ordered0792","":"ordered0793","":"ordered0794","":"ordered0795","":"ordered0796","":"ordered0797","":"ordered0798","":"ordered0799","":"ordered0800","":"ordered0801","":"ordered0802","":"ordered0803","":"ordered0804","":"ordered0805","":"ordered0806","":"ordered0807","":"ordered0808","":"ordered0809","":"ordered0810","":"ordered0811","":"ordered0812","":"ordered0813","":"ordered0814","":"ordered0815","":"ordered0816","":"ordered0817","":"ordered0818","":"ordered0819","":"ordered0820","":"ordered0821","":"ordered0822","":"ordered0823","":"ordered0824","":"ordered0825","":"ordered0826","":"ordered0827","":"ordered0828","":"ordered0829","":"ordered0830","":"ordered0831","":"ordered0832","":"ordered0833","":"ordered0834","":"ordered0835","":"ordered0836","":"ordered0837","":"ordered0838","":"ordered0839","":"ordered0840","":"ordered0841","":"ordered0842","":"ordered0843","":"ordered0844","":"ordered0845","":"ordered0846","":"ordered0847","":"ordered0848","":"ordered0849","":"ordered0850","":"ordered0851","":"ordered0852","":"ordered0853","":"ordered0854","":"ordered0855","":"ordered0856","":"ordered0857","":"ordered0858","":"ordered0859","":"ordered0860","":"ordered0861","":"ordered0862","":"ordered0863","":"ordered0864","":"ordered0865","":"ordered0866","":"ordered0867","":"ordered0868","":"ordered0869","":"ordered0870","":"ordered0871","":"ordered0872","":"ordered0873","":"ordered0874","":"ordered0875","":"ordered0876","":"ordered0877","":"ordered0878","":"ordered0879","":"ordered0880","":"ordered0881","":"ordered0882","":"ordered0883","":"ordered0884","":"ordered0885","":"ordered0886","":"ordered0887","":"ordered0888","":"ordered0889","":"ordered0890","":"ordered0891","":"ordered0892","":"ordered0893","":"ordered0894","":"ordered0895","":"ordered0896","":"ordered0897","":"ordered0898","":"ordered0899","":"ordered0900","":"ordered0901","":"ordered0902","":"ordered0903","":"ordered0904","":"ordered0905","":"ordered0906","":"ordered0907","":"ordered0908","":"ordered0909","":"ordered0910","":"ordered0911","":"ordered0912","":"ordered0913","":"ordered0914","":"ordered0915","":"ordered0916","":"ordered0917","":"ordered0918","":"ordered0919","":"ordered0920","":"ordered0921","":"ordered0922","":"ordered0923","":"ordered0924","":"ordered0925","":"ordered0926","":"ordered0927","":"ordered0928","":"ordered0929","":"ordered0930","":"ordered0931","":"ordered0932","":"ordered0933","":"ordered0934","":"ordered0935","":"ordered0936","":"ordered0937","":"ordered0938","":"ordered0939","":"ordered0940","":"ordered0941","":"ordered0942","":"ordered0943","":"ordered0944","":"ordered0945","":"ordered0946","":"ordered0947","":"ordered0948","":"ordered0949","":"ordered0950","":"ordered0951","":"ordered0952","":"ordered0953","":"ordered0954","":"ordered0955","":"ordered0956","":"ordered0957","":"ordered0958","":"ordered0959","":"ordered0960","":"ordered0961","":"ordered0962","":"ordered0963","":"ordered0964","":"ordered0965","":"ordered0966","":"ordered0967","":"ordered0968","":"ordered0969","":"ordered0970","":"ordered0971","":"ordered0972","":"ordered0973","":"ordered0974","":"ordered0975","":"ordered0976","":"ordered0977","":"ordered0978","":"ordered0979","":"ordered0980","":"ordered0981","":"ordered0982","":"ordered0983","":"ordered0984","":"ordered0985","":"ordered0986","":"ordered0987","":"ordered0988","":"ordered0989","":"ordered0990","":"ordered0991","":"ordered0992","":"ordered0993","":"ordered0994","":"ordered0995","":"ordered0996","":"ordered0997","":"ordered0998","":"ordered0999","":"ordered1000","":"ordered1001","":"ordered1002","":"ordered1003","":"ordered1004","":"ordered1005","":"ordered1006","":"ordered1007","":"ordered1008","":"ordered1009","":"ordered1010","":"ordered1011","":"ordered1012","":"ordered1013","":"ordered1014","":"ordered1015","":"ordered1016","":"ordered1017","":"ordered1018","":"ordered1019","":"ordered1020","":"ordered1021","":"ordered1022","":"ordered1023","":"ordered1024","":"ordered1025","":"ordered1026","":"ordered1027","":"ordered1028","":"ordered1029","":"ordered1030","":"ordered1031","":"ordered1032","":"ordered1033","":"ordered1034","":"ordered1035","":"ordered1036","":"ordered1037","":"ordered1038","":"ordered1039","":"ordered1040","":"ordered1041","":"ordered1042","":"ordered1043","":"ordered1044","":"ordered1045","":"ordered1046","":"ordered1047","":"ordered1048","":"ordered1049","":"ordered1050","":"ordered1051","":"ordered1052","":"ordered1053","":"ordered1054","":"ordered1055","":"ordered1056","":"ordered1057","":"ordered1058","":"ordered1059","":"ordered1060","":"ordered1061","":"ordered1062","":"ordered1063","":"ordered1064","":"ordered1065","":"ordered1066","":"ordered1067","":"ordered1068","":"ordered1069","":"ordered1070","":"ordered1071","":"ordered1072","":"ordered1073","":"ordered1074","":"ordered1075","":"ordered1076","":"ordered1077","":"ordered1078","":"ordered1079","":"ordered1080","":"ordered1081","":"ordered1082","":"ordered1083","":"ordered1084","":"ordered1085","":"ordered1086","":"ordered1087","":"ordered1088","":"ordered1089","":"ordered1090","":"ordered1091","":"ordered1092","":"ordered1093","":"ordered1094","":"ordered1095","":"ordered1096","":"ordered1097","":"ordered1098","":"ordered1099","":"ordered1100","":"ordered1101","":"ordered1102","":"ordered1103","":"ordered1104","":"ordered1105","":"ordered1106","":"ordered1107","":"ordered1108","":"ordered1109","":"ordered1110","":"ordered1111","":"ordered1112","":"ordered1113","":"ordered1114","":"ordered1115","":"ordered1116","":"ordered1117","":"ordered1118","":"ordered1119","":"ordered1120","":"ordered1121","":"ordered1122","":"ordered1123","":"ordered1124","":"ordered1125","":"ordered1126","":"ordered1127","":"ordered1128","":"ordered1129","":"ordered1130","":"ordered1131","":"ordered1132","":"ordered1133","":"ordered1134","":"ordered1135","":"ordered1136","":"ordered1137","":"ordered1138","":"ordered1139","":"ordered1140","":"ordered1141","":"ordered1142","":"ordered1143","":"ordered1144","":"ordered1145","":"ordered1146","":"ordered1147","":"ordered1148","":"ordered1149","":"ordered1150","":"ordered1151","":"ordered1152","":"ordered1153","":"ordered1154",
"":"ordered1155","":"ordered1156","":"ordered1157","":"ordered1158","":"ordered1159","":"ordered1160","":"ordered1161","":"ordered1162","":"ordered1163","":"ordered1164","":"ordered1165","":"ordered1166","":"ordered1167","":"ordered1168","":"ordered1169","":"ordered1170","":"ordered1171","":"ordered1172","":"ordered1173","":"ordered1174","":"ordered1175","":"ordered1176","":"ordered1177","":"ordered1178","":"ordered1179","":"ordered1180","":"ordered1181","":"ordered1182","":"ordered1183","":"ordered1184","":"ordered1185","":"ordered1186","":"ordered1187","":"ordered1188","":"ordered1189","":"ordered1190","":"ordered1191","":"ordered1192","":"ordered1193","":"ordered1194","":"ordered1195","":"ordered1196","":"ordered1197","":"ordered1198","":"ordered1199","":"ordered1200","":"ordered1201","":"ordered1202","":"ordered1203","":"ordered1204","":"ordered1205","":"ordered1206","":"ordered1207","":"ordered1208","":"ordered1209","":"ordered1210","":"ordered1211","":"ordered1212","":"ordered1213","":"ordered1214","":"ordered1215","":"ordered1216","":"ordered1217","":"ordered1218","":"ordered1219","":"ordered1220","":"ordered1221","":"ordered1222","":"ordered1223","":"ordered1224","":"ordered1225","":"ordered1226","":"ordered1227","":"ordered1228","":"ordered1229","":"ordered1230","":"ordered1231","":"ordered1232","":"ordered1233","":"ordered1234","":"ordered1235","":"ordered1236","":"ordered1237","":"ordered1238","":"ordered1239","":"ordered1240","":"ordered1241","":"ordered1242","":"ordered1243","":"ordered1244","":"ordered1245","":"ordered1246","":"ordered1247","":"ordered1248","":"ordered1249","":"ordered1250","":"ordered1251","":"ordered1252","":"ordered1253","":"ordered1254","":"ordered1255","":"ordered1256","":"ordered1257","":"ordered1258","":"ordered1259","":"ordered1260","":"ordered1261","":"ordered1262","":"ordered1263","":"ordered1264","":"ordered1265","":"ordered1266","":"ordered1267","":"ordered1268","":"ordered1269","":"ordered1270","":"ordered1271","":"ordered1272","":"ordered1273","":"ordered1274","":"ordered1275","":"ordered1276","":"ordered1277","":"ordered1278","":"ordered1279","":"ordered1280","":"ordered1281","":"ordered1282","":"ordered1283","":"ordered1284","":"ordered1285","":"ordered1286","":"ordered1287","":"ordered1288","":"ordered1289","":"ordered1290","":"ordered1291","":"ordered1292","":"ordered1293","":"ordered1294","":"ordered1295","":"ordered1296","":"ordered1297","":"ordered1298","":"ordered1299","":"ordered1300","":"ordered1301","":"ordered1302","":"ordered1303","":"ordered1304","":"ordered1305","":"ordered1306","":"ordered1307","":"ordered1308","":"ordered1309","":"ordered1310","":"ordered1311","":"ordered1312","":"ordered1313","":"ordered1314","":"ordered1315","":"ordered1316","":"ordered1317","":"ordered1318","":"ordered1319","":"ordered1320","":"ordered1321","":"ordered1322","":"ordered1323","":"ordered1324","":"ordered1325","":"ordered1326","":"ordered1327","":"ordered1328","":"ordered1329","":"ordered1330","":"ordered1331","":"ordered1332","":"ordered1333","":"ordered1334","":"ordered1335","":"ordered1336","":"ordered1337","":"ordered1338","":"ordered1339","":"ordered1340","":"ordered1341","":"ordered1342","":"ordered1343","":"ordered1344","":"ordered1345","":"ordered1346","":"ordered1347","":"ordered1348","":"ordered1349","":"ordered1350","":"ordered1351","":"ordered1352","":"ordered1353","":"ordered1354","":"ordered1355","":"ordered1356","":"ordered1357","":"ordered1358","":"ordered1359","":"ordered1360","":"ordered1361","":"ordered1362","":"ordered1363","":"ordered1364","":"ordered1365","":"ordered1366","":"ordered1367","":"ordered1368","":"ordered1369","":"ordered1370","":"ordered1371","":"ordered1372","":"ordered1373","":"ordered1374","":"ordered1375","":"ordered1376","":"ordered1377","":"ordered1378","":"ordered1379","":"ordered1380","":"ordered1381","":"ordered1382","":"ordered1383","":"ordered1384","":"ordered1385","":"ordered1386","":"ordered1387","":"ordered1388","":"ordered1389","":"ordered1390","":"ordered1391","":"ordered1392","":"ordered1393","":"ordered1394","":"ordered1395","":"ordered1396","":"ordered1397","":"ordered1398","":"ordered1399","":"ordered1400","":"ordered1401","":"ordered1402","":"ordered1403","":"ordered1404","":"ordered1405","":"ordered1406","":"ordered1407","":"ordered1408","":"ordered1409","":"ordered1410","":"ordered1411","":"ordered1412","":"ordered1413","":"ordered1414","":"ordered1415","":"ordered1416","":"ordered1417","":"ordered1418","":"ordered1419","":"ordered1420","":"ordered1421","":"ordered1422","":"ordered1423","":"ordered1424","":"ordered1425","":"ordered1426","":"ordered1427","":"ordered1428","":"ordered1429","":"ordered1430","":"ordered1431","":"ordered1432","":"ordered1433","":"ordered1434","":"ordered1435","":"ordered1436","":"ordered1437","":"ordered1438","":"ordered1439","":"ordered1440","":"ordered1441","":"ordered1442","":"ordered1443","":"ordered1444","":"ordered1445","":"ordered1446","":"ordered1447","":"ordered1448","":"ordered1449","":"ordered1450","":"ordered1451","":"ordered1452","":"ordered1453","":"ordered1454","":"ordered1455","":"ordered1456","":"ordered1457","":"ordered1458","":"ordered1459","":"ordered1460","":"ordered1461","":"ordered1462","":"ordered1463","":"ordered1464","":"ordered1465","":"ordered1466","":"ordered1467","":"ordered1468","":"ordered1469","":"ordered1470","":"ordered1471","":"ordered1472","":"ordered1473","":"ordered1474","":"ordered1475","":"ordered1476","":"ordered1477","":"ordered1478","":"ordered1479","":"ordered1480","":"ordered1481","":"ordered1482","":"ordered1483","":"ordered1484","":"ordered1485","":"ordered1486","":"ordered1487","":"ordered1488","":"ordered1489","":"ordered1490","":"ordered1491","":"ordered1492","":"ordered1493","":"ordered1494","":"ordered1495","":"ordered1496","":"ordered1497","":"ordered1498","":"ordered1499","":"ordered1500","":"ordered1501","":"ordered1502","":"ordered1503","":"ordered1504","":"ordered1505","":"ordered1506","":"ordered1507","":"ordered1508","":"ordered1509","":"ordered1510","":"ordered1511","":"ordered1512","":"ordered1513","":"ordered1514","":"ordered1515","":"ordered1516","":"ordered1517","":"ordered1518","":"ordered1519","":"ordered1520","":"ordered1521","":"ordered1522","":"ordered1523","":"ordered1524","":"ordered1525","":"ordered1526","":"ordered1527","":"ordered1528","":"ordered1529","":"ordered1530","":"ordered1531","":"ordered1532","":"ordered1533","":"ordered1534","":"ordered1535","":"ordered1536","":"ordered1537","":"ordered1538","":"ordered1539","":"ordered1540","":"ordered1541","":"ordered1542","":"ordered1543","":"ordered1544","":"ordered1545","":"ordered1546","":"ordered1547","":"ordered1548","":"ordered1549","":"ordered1550","":"ordered1551","":"ordered1552","":"ordered1553","":"ordered1554","":"ordered1555","":"ordered1556","":"ordered1557","":"ordered1558","":"ordered1559","":"ordered1560","":"ordered1561","":"ordered1562","":"ordered1563","":"ordered1564","":"ordered1565","":"ordered1566","":"ordered1567","":"ordered1568","":"ordered1569","":"ordered1570","":"ordered1571","":"ordered1572","":"ordered1573","":"ordered1574","":"ordered1575","":"ordered1576","":"ordered1577","":"ordered1578","":"ordered1579","":"ordered1580","":"ordered1581","":"ordered1582","":"ordered1583","":"ordered1584","":"ordered1585","":"ordered1586","":"ordered1587","":"ordered1588","":"ordered1589","":"ordered1590","":"ordered1591","":"ordered1592","":"ordered1593","":"ordered1594","":"ordered1595","":"ordered1596","":"ordered1597","":"ordered1598","":"ordered1599","":"ordered1600","":"ordered1601","":"ordered1602","":"ordered1603","":"ordered1604","":"ordered1605","":"ordered1606","":"ordered1607","":"ordered1608","":"ordered1609","":"ordered1610","":"ordered1611","":"ordered1612","":"ordered1613","":"ordered1614","":"ordered1615","":"ordered1616","":"ordered1617","":"ordered1618","":"ordered1619","":"ordered1620","":"ordered1621","":"ordered1622","":"ordered1623","":"ordered1624","":"ordered1625","":"ordered1626","":"ordered1627","":"ordered1628","":"ordered1629","":"ordered1630","":"ordered1631","":"ordered1632","":"ordered1633","":"ordered1634","":"ordered1635","":"ordered1636","":"ordered1637","":"ordered1638","":"ordered1639","":"ordered1640","":"ordered1641","":"ordered1642","":"ordered1643","":"ordered1644","":"ordered1645","":"ordered1646","":"ordered1647","":"ordered1648","":"ordered1649","":"ordered1650","":"ordered1651","":"ordered1652","":"ordered1653","":"ordered1654","":"ordered1655","":"ordered1656","":"ordered1657","":"ordered1658","":"ordered1659","":"ordered1660","":"ordered1661","":"ordered1662","":"ordered1663","":"ordered1664","":"ordered1665","":"ordered1666","":"ordered1667","":"ordered1668","":"ordered1669","":"ordered1670","":"ordered1671","":"ordered1672","":"ordered1673","":"ordered1674","":"ordered1675","":"ordered1676","":"ordered1677","":"ordered1678","":"ordered1679","":"ordered1680","":"ordered1681","":"ordered1682","":"ordered1683","":"ordered1684","":"ordered1685","":"ordered1686","":"ordered1687","":"ordered1688","":"ordered1689","":"ordered1690","":"ordered1691","":"ordered1692","":"ordered1693","":"ordered1694","":"ordered1695","":"ordered1696","":"ordered1697","":"ordered1698","":"ordered1699","":"ordered1700","":"ordered1701","":"ordered1702","":"ordered1703","":"ordered1704","":"ordered1705","":"ordered1706","":"ordered1707","":"ordered1708","":"ordered1709","":"ordered1710","":"ordered1711","":"ordered1712","":"ordered1713","":"ordered1714","":"ordered1715","":"ordered1716","":"ordered1717","":"ordered1718","":"ordered1719","":"ordered1720","":"ordered1721","":"ordered1722","":"ordered1723","":"ordered1724","":"ordered1725","":"ordered1726","":"ordered1727","":"ordered1728","":"ordered1729","":"ordered1730","":"ordered1731","":"ordered1732","":"ordered1733","":"ordered1734","":"ordered1735","":"ordered1736","":"ordered1737","":"ordered1738","":"ordered1739","":"ordered1740","":"ordered1741","":"ordered1742","":"ordered1743","":"ordered1744","":"ordered1745","":"ordered1746","":"ordered1747","":"ordered1748","":"ordered1749","":"ordered1750","":"ordered1751","":"ordered1752","":"ordered1753","":"ordered1754","":"ordered1755","":"ordered1756","":"ordered1757","":"ordered1758","":"ordered1759","":"ordered1760","":"ordered1761","":"ordered1762","":"ordered1763","":"ordered1764","":"ordered1765","":"ordered1766","":"ordered1767","":"ordered1769","":"ordered1770","":"ordered1771"}},function(e,t){"use strict";e.exports={ring:function(e,t){return e>t.length-1?0:e<0?t.length-1:e}}},function(e,t,r){var n=r(88);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){"use strict";var n=r(23),o=r(9),i=r(35),a=r(47),s=r(16)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:n[e];a&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},,,function(e,t,r){function n(e){return r(o(e))}function o(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var i={"./aa/translation.json":801,"./af/translation.json":802,"./ak/translation.json":803,"./ar/translation.json":804,"./az/translation.json":805,"./be/translation.json":806,"./bg/translation.json":807,"./bn/translation.json":808,"./bs/translation.json":809,"./ca/translation.json":810,"./cs/translation.json":811,"./da/translation.json":812,"./de/translation.json":813,"./el/translation.json":814,"./en/translation.json":815,"./es/translation.json":816,"./et/translation.json":817,"./eu/translation.json":818,"./fa/translation.json":819,"./fi/translation.json":820,"./fil/translation.json":821,"./fr/translation.json":822,"./gl/translation.json":823,"./gu/translation.json":824,"./ha/translation.json":825,"./he/translation.json":826,"./hi/translation.json":827,"./hr/translation.json":828,"./hu/translation.json":829,"./hy/translation.json":830,"./id/translation.json":831,"./is/translation.json":832,"./it/translation.json":833,"./ja/translation.json":834,"./ka/translation.json":835,"./kk/translation.json":836,"./km/translation.json":837,"./kn/translation.json":838,"./ko/translation.json":839,"./ky/translation.json":840,"./lo/translation.json":841,"./lt/translation.json":842,"./lv/translation.json":843,"./mk/translation.json":844,"./ml/translation.json":845,"./mr/translation.json":846,"./ms/translation.json":847,"./my/translation.json":848,"./nb/translation.json":849,"./ne/translation.json":850,"./nl/translation.json":851,"./nn/translation.json":852,"./or/translation.json":853,"./pa/translation.json":854,"./pl/translation.json":855,"./ps/translation.json":856,"./pt-BR/translation.json":857,"./pt-ZZ/translation.json":858,"./pt/translation.json":859,"./ro/translation.json":860,"./ru/translation.json":861,"./si/translation.json":862,"./sk/translation.json":863,"./sl/translation.json":864,"./sn/translation.json":865,"./sq/translation.json":866,"./sr/translation.json":867,"./sv/translation.json":868,"./sw/translation.json":869,"./ta/translation.json":870,"./te/translation.json":871,"./th/translation.json":872,"./tr/translation.json":873,"./uk/translation.json":874,"./ur/translation.json":875,"./uz/translation.json":876,"./vi/translation.json":877,"./zh-CN/translation.json":878,"./zh-TW/translation.json":879,"./zu/translation.json":880};n.keys=function(){return Object.keys(i)},n.resolve=o,e.exports=n,n.id=444},,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return v[parseInt(e,10)]}var i=r(44),a=n(i),s=r(52),d=n(s),c=r(216),u=r(593),l=r(599),p=r(448),f=r(204),h=r(30),m=r(597),_={ar:!0,fa:!0,ur:!0,he:!0,dv:!0,ku:!0},g={ar:!0,fa:!0},v="".split(""),y=new Error("Unimplemented method"),b=function(){function e(t,r){if((0,a["default"])(this,e),!t||!r)throw y;this._locale=t,this.localeStrings={},this.localeStrings[c.L10N.DEFAULT]=r}return(0,d["default"])(e,[{key:"log",value:function(e){throw y}},{key:"getLocale",value:function(){throw y}},{key:"setLocale",value:function(){throw y}},{key:"_normalize",value:function(e){if(e){var t=e.replace("-","_").toLowerCase(),r=m[t];if(this.isLocaleSupported(r))return r;var n=t.split("_");if(!(n.length<0)){var o=h.head(n);return this.isLocaleSupported(o)?o:void 0}}}},{key:"isLocaleSupported",value:function(e){return!!e&&!!m[e.replace("-","_").toLowerCase()]}},{key:"lng",value:function(){var e=this.getLocale();return m[e]||e}},{key:"isRTL",value:function(){return!!_[this.getLocale()]}},{key:"LR",value:function(e,t){return this.isRTL()?t:e}},{key:"embedDir",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.isRTL():arguments[1];return t?this.embedRTL(e):this.embedLTR(e)}},{key:"forceDir",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.isRTL():arguments[1];return t?this.forceRTL(e):this.forceLTR(e)}},{key:"embedLTR",value:function(e){return""+e+""}},{key:"embedRTL",value:function(e){return""+e+""}},{key:"forceLTR",value:function(e){return""+e}},{key:"forceRTL",value:function(e){return""+e}},{key:"hasT",value:function(e,t){var r=t&&!h.isUndefined(t._plural)?t._plural:void 0,n=this.getLocale(),o=e+this.getPluralExt(n,r);return!!this.localeStrings[n][o]}},{key:"t",value:function(e,t){var r=t&&!h.isUndefined(t._plural)?t._plural:void 0,n=this.getLocale();this.localeStrings[n]||(n=c.L10N.DEFAULT);var o=e+this.getPluralExt(n,r),i=this.localeStrings[n][o];if(!i){var a=e+this.getPluralExt(c.L10N.DEFAULT,r);i=this.localeStrings[c.L10N.DEFAULT][a]}i||this.log('l10n:t string key "'+e+'" fallback failed');for(o in t){if(!t.hasOwnProperty(o))return;var s=new RegExp("__"+o+"__","g"),d=this.n(t[o],n);i=i.replace(s,d)}return i}},{key:"isHindiNumerals",value:function(e){return!!g[e||this.getLocale()]}},{key:"n",value:function(e,t){return this.isHindiNumerals(t)?e.toString().replace(/[0-9]/g,o):e}},{key:"numAndPunc",value:function(e){return this.isHindiNumerals()?this.embedLTR(this.n(e).replace(/./g,this.forceLTR)):e}},{key:"filesize",value:function(e){return this.n(u(e,{round:0,suffixes:{B:this.t("filesize_byte"),kB:this.t("filesize_kilobyte"),MB:this.t("filesize_megabyte"),GB:this.t("filesize_gigabyte")}}))}},{key:"getPluralExt",value:function(e,t){if(h.isUndefined(t))return"";var r=p[e];if(!r)return"";var n=r.plurals(t),o=r.numbers[n];return 1===o?"":2===r.numbers.length&&2===o?"_plural":"_plural_"+o}},{key:"removeAccents",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return l(e.normalize("NFKD").replace(f.mark,""))}},{key:"accentFold",value:function(e){return this.removeAccents(e).toLowerCase()}}]),e}();e.exports=b},function(e,t){"use strict";e.exports={ach:{name:"Acholi",numbers:[1,2],plurals:function(e){return Number(e>1)}},af:{name:"Afrikaans",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ak:{name:"Akan",numbers:[1,2],plurals:function(e){return Number(e>1)}},am:{name:"Amharic",numbers:[1,2],plurals:function(e){return Number(e>1)}},an:{name:"Aragonese",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ar:{name:"Arabic",numbers:[0,1,2,3,11,100],plurals:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)}},arn:{name:"Mapudungun",numbers:[1,2],plurals:function(e){return Number(e>1)}},ast:{name:"Asturian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ay:{name:"Aymar",numbers:[1],plurals:function(e){return 0}},az:{name:"Azerbaijani",numbers:[1,2],plurals:function(e){return Number(1!=e)}},be:{name:"Belarusian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},bg:{name:"Bulgarian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},bn:{name:"Bengali",numbers:[1,2],plurals:function(e){return Number(1!=e)}},bo:{name:"Tibetan",numbers:[1],plurals:function(e){return 0}},br:{name:"Breton",numbers:[1,2],plurals:function(e){return Number(e>1)}},bs:{name:"Bosnian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},ca:{name:"Catalan",numbers:[1,2],plurals:function(e){return Number(1!=e)}},cgg:{name:"Chiga",numbers:[1],plurals:function(e){return 0}},cs:{name:"Czech",numbers:[1,2,5],plurals:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)}},csb:{name:"Kashubian",numbers:[1,2,5],plurals:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},cy:{name:"Welsh",numbers:[1,2,3,8],plurals:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)}},da:{name:"Danish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},de:{name:"German",numbers:[1,2],plurals:function(e){return Number(1!=e)}},dz:{name:"Dzongkha",numbers:[1],plurals:function(e){return 0}},el:{name:"Greek",numbers:[1,2],plurals:function(e){return Number(1!=e)}},en:{name:"English",numbers:[1,2],plurals:function(e){return Number(1!=e)}},eo:{name:"Esperanto",numbers:[1,2],plurals:function(e){return Number(1!=e)}},es:{name:"Spanish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},es_ar:{name:"Argentinean Spanish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},et:{name:"Estonian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},eu:{name:"Basque",numbers:[1,2],plurals:function(e){return Number(1!=e)}},fa:{name:"Persian",numbers:[1],plurals:function(e){return 0}},fi:{name:"Finnish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},fil:{name:"Filipino",numbers:[1,2],plurals:function(e){return Number(e>1)}},fo:{name:"Faroese",numbers:[1,2],plurals:function(e){return Number(1!=e)}},fr:{name:"French",numbers:[1,2],plurals:function(e){return Number(e>1)}},fur:{name:"Friulian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},fy:{name:"Frisian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ga:{name:"Irish",numbers:[1,2,3,7,11],plurals:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)}},gd:{name:"Scottish Gaelic",numbers:[1,2,3,20],plurals:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)}},gl:{name:"Galician",numbers:[1,2],plurals:function(e){return Number(1!=e)}},gu:{name:"Gujarati",numbers:[1,2],plurals:function(e){return Number(1!=e)}},gun:{name:"Gun",numbers:[1,2],plurals:function(e){return Number(e>1)}},ha:{name:"Hausa",numbers:[1,2],plurals:function(e){return Number(1!=e)}},he:{name:"Hebrew",numbers:[1,2],plurals:function(e){return Number(1!=e)}},hi:{name:"Hindi",numbers:[1,2],plurals:function(e){return Number(1!=e)}},hr:{name:"Croatian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},hu:{name:"Hungarian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},hy:{name:"Armenian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ia:{name:"Interlingua",numbers:[1,2],plurals:function(e){return Number(1!=e)}},id:{name:"Indonesian",numbers:[1],plurals:function(e){return 0}},is:{name:"Icelandic",numbers:[1,2],plurals:function(e){return Number(e%10!=1||e%100==11)}},it:{name:"Italian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ja:{name:"Japanese",numbers:[1],plurals:function(e){return 0}},jbo:{name:"Lojban",numbers:[1],plurals:function(e){return 0}},jv:{name:"Javanese",numbers:[0,1],plurals:function(e){return Number(0!==e)}},ka:{name:"Georgian",numbers:[1],plurals:function(e){return 0}},kk:{name:"Kazakh",numbers:[1],plurals:function(e){return 0}},km:{name:"Khmer",numbers:[1],plurals:function(e){return 0}},kn:{name:"Kannada",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ko:{name:"Korean",numbers:[1],plurals:function(e){return 0}},ku:{name:"Kurdish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},kw:{name:"Cornish",numbers:[1,2,3,4],plurals:function(e){return Number(1==e?0:2==e?1:3==e?2:3)}},ky:{name:"Kyrgyz",numbers:[1],plurals:function(e){return 0}},lb:{name:"Letzeburgesch",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ln:{name:"Lingala",numbers:[1,2],plurals:function(e){return Number(e>1)}},lo:{name:"Lao",numbers:[1],plurals:function(e){return 0}},lt:{name:"Lithuanian",numbers:[1,2,10],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)}},lv:{name:"Latvian",numbers:[0,1,2],plurals:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)}},mai:{name:"Maithili",numbers:[1,2],plurals:function(e){return Number(1!=e)}},mfe:{name:"Mauritian Creole",numbers:[1,2],plurals:function(e){return Number(e>1)}},mg:{name:"Malagasy",numbers:[1,2],plurals:function(e){return Number(e>1)}},mi:{name:"Maori",numbers:[1,2],plurals:function(e){return Number(e>1)}},mk:{name:"Macedonian",numbers:[1,2],plurals:function(e){return Number(1==e||e%10==1?0:1)}},ml:{name:"Malayalam",numbers:[1,2],plurals:function(e){return Number(1!=e)}},mn:{name:"Mongolian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},mnk:{name:"Mandinka",numbers:[0,1,2],plurals:function(e){return Number(0===e?0:1==e?1:2)}},mr:{name:"Marathi",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ms:{name:"Malay",numbers:[1],plurals:function(e){return 0}},mt:{name:"Maltese",numbers:[1,2,11,20],plurals:function(e){return Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)}},nah:{name:"Nahuatl",numbers:[1,2],plurals:function(e){return Number(1!=e)}},nap:{name:"Neapolitan",numbers:[1,2],plurals:function(e){return Number(1!=e)}},nb:{name:"Norwegian Bokmal",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ne:{name:"Nepali",numbers:[1,2],plurals:function(e){return Number(1!=e)}},nl:{name:"Dutch",numbers:[1,2],plurals:function(e){return Number(1!=e)}},nn:{name:"Norwegian Nynorsk",numbers:[1,2],plurals:function(e){return Number(1!=e)}},no:{name:"Norwegian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},nso:{name:"Northern Sotho",numbers:[1,2],plurals:function(e){return Number(1!=e)}},oc:{name:"Occitan",numbers:[1,2],plurals:function(e){return Number(e>1)}},or:{name:"Oriya",numbers:[2,1],plurals:function(e){return Number(1!=e)}},pa:{name:"Punjabi",numbers:[1,2],plurals:function(e){return Number(1!=e)}},pap:{name:"Papiamento",numbers:[1,2],plurals:function(e){return Number(1!=e)}},pl:{name:"Polish",numbers:[1,2,5],plurals:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},pms:{name:"Piemontese",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ps:{name:"Pashto",numbers:[1,2],plurals:function(e){return Number(1!=e)}},pt:{name:"Portuguese",numbers:[1,2],plurals:function(e){return Number(1!=e)}},pt_br:{name:"Brazilian Portuguese",numbers:[1,2],plurals:function(e){return Number(1!=e)}},rm:{name:"Romansh",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ro:{name:"Romanian",numbers:[1,2,20],plurals:function(e){return Number(1==e?0:0===e||e%100>0&&e%100<20?1:2)}},ru:{name:"Russian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},sah:{name:"Yakut",numbers:[1],plurals:function(e){return 0}},sco:{name:"Scots",numbers:[1,2],plurals:function(e){return Number(1!=e)}},se:{name:"Northern Sami",numbers:[1,2],plurals:function(e){return Number(1!=e)}},si:{name:"Sinhala",numbers:[1,2],plurals:function(e){return Number(1!=e)}},sk:{name:"Slovak",numbers:[1,2,5],plurals:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)}},sl:{name:"Slovenian",numbers:[5,1,2,3],plurals:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}},so:{name:"Somali",numbers:[1,2],plurals:function(e){return Number(1!=e)}},son:{name:"Songhay",numbers:[1,2],plurals:function(e){return Number(1!=e)}},sq:{name:"Albanian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},sr:{name:"Serbian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},su:{name:"Sundanese",numbers:[1],plurals:function(e){return 0}},sv:{name:"Swedish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},sw:{name:"Swahili",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ta:{name:"Tamil",numbers:[1,2],plurals:function(e){return Number(1!=e)}},te:{name:"Telugu",numbers:[1,2],plurals:function(e){return Number(1!=e)}},tg:{name:"Tajik",numbers:[1,2],plurals:function(e){return Number(e>1)}},th:{name:"Thai",numbers:[1],plurals:function(e){return 0}},ti:{name:"Tigrinya",numbers:[1,2],plurals:function(e){return Number(e>1)}},tk:{name:"Turkmen",numbers:[1,2],plurals:function(e){return Number(1!=e)}},tr:{name:"Turkish",numbers:[1,2],plurals:function(e){return Number(e>1)}},tt:{name:"Tatar",numbers:[1],plurals:function(e){return 0}},ug:{name:"Uyghur",numbers:[1],plurals:function(e){return 0}},uk:{name:"Ukrainian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},ur:{name:"Urdu",numbers:[1,2],plurals:function(e){return Number(1!=e)}},uz:{name:"Uzbek",numbers:[1,2],plurals:function(e){return Number(e>1)}},vi:{name:"Vietnamese",numbers:[1],plurals:function(e){return 0}},wa:{name:"Walloon",numbers:[1,2],plurals:function(e){return Number(e>1)}},wo:{name:"Wolof",numbers:[1],plurals:function(e){return 0}},yo:{name:"Yoruba",numbers:[1,2],plurals:function(e){return Number(1!=e)}},zh:{name:"Chinese",numbers:[1],plurals:function(e){return 0}}}},function(e,t){"use strict";var r={singleByte:[void 0,void 0,void 0,"200","400","404","500","501","502","action","add","after","archive","author","available","battery","before","body","broadcast","chat","clear","code","composing","contacts","count","create","debug","delete","demote","duplicate","encoding","error","false","filehash","from","g.us","group","groups_v2","height","id","image","in","index","invis","item","jid","kind","last","leave","live","log","media","message","mimetype","missing","modify","name","notification","notify","out","owner","participant","paused","picture","played","presence","preview","promote","query","raw","read","receipt","received","recipient","recording","relay","remove","response","resume","retry","s.whatsapp.net","seconds","set","size","status","subject","subscribe","t","text","to","true","type","unarchive","unavailable","url","user","value","web","width","mute","read_only","admin","creator","short","update","powersave"],doubleByte:[]};e.exports=r},function(e,t,r){"use strict";function n(e){var t=new o(e);this.readByte=function(){return t.readUint8()},this.readInt16=function(){return t.readUint16()},this.readInt20=function(){var e=15&t.readUint8(),r=t.readUint8(),n=t.readUint8();return(e<<16)+(r<<8)+n},this.readString=function(e){return t.readString(e)},this.readBytes=function(e){return t.readBuffer(e)},this.debugInfo=function(){return"offset: "+t._readIndex+" byte: "+t._buffer[t._readIndex]}}var o=r(13);e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!e)return"undefined";var r=o(e[1],t),n=i(e[2],t);return"<"+e[0]+r+(n?">\n"+n+"\n</"+e[0]+">":"/>")}function o(e,t){if(e){var r="";for(var n in e){var o="string"==typeof e[n]?t?"...":'"'+e[n]+'"':e[n];r+=" "+n+"="+o}return r}return""}function i(e,t){return e instanceof ArrayBuffer?"<<bin:"+e.byteLength+">>":"string"==typeof e?t?"<<string:"+e.length+">>":e:_.isArray(e)?e.map(_.partial(n,_,t)).join("\n"):void 0}var a=r(13),s={tag:function(e){return e&&e[0]},attr:function(e,t){return t&&t[1]?t[1][e]:void 0},attrs:function(e){return e[1]},child:function d(e,t){var r=t[2];if(_.isArray(r))for(var n=r.length,o=0;o<n;o++){var d=r[o];if(_.isArray(d)&&d[0]===e)return d}},children:function(e){return e&&e[2]},dataStr:function(e){if(!e)return"";var t=e[2];return"string"==typeof t?t:t instanceof ArrayBuffer?new a(t).readString(t.byteLength):void 0},toString:n};e.exports=s},function(e,t,r){"use strict";function n(){function e(e){t++,r.push(e)}var t=0,r=[];this.pushInt16=function(t){if("number"!=typeof t)throw new Error("invalid int16");e((65280&t)>>8),e((255&t)>>0)},this.pushInt20=function(t){if("number"!=typeof t)throw new Error("invalid int20");e((983040&t)>>16),e((65280&t)>>8),e((255&t)>>0)},this.pushByte=function(t){if("number"!=typeof t||t<0||t>255)throw new Error("invalid byte value: "+t);e(t)},this.pushBytes=function(e){if(!(e instanceof ArrayBuffer))throw new Error("invalid byte buffer");t+=e.byteLength,r.push(e)},this.pushString=function(e){if("string"!=typeof e)throw new Error("invalid string");t+=o.numUtf8Bytes(e),r.push(e)},this.toBuffer=function(){return o.build.apply(null,r).readBuffer();
}}var o=r(13);e.exports=n},function(e,t,r){"use strict";function n(e){var t=e.singleByte,r=e.doubleByte;this.readNode=function(e){var t=e.readByte(),r=this.readListSize(e,t);if(t=e.readByte(),t===o.STREAM_END)throw new Error("unexpected stream end "+e.debugInfo());var n=this.readString(e,t);if(0===r||!n)throw new Error("invalid node. 0 list or empty tag"+e.debugInfo());var i=r-2+r%2>>1,a=this.readAttributes(e,i);if(r%2===1)return[n,a,void 0];var s;if(t=e.readByte(),this.isListTag(t))s=this.readList(e,t);else if(t===o.BINARY_8){var d=e.readByte();s=e.readBytes(d)}else if(t===o.BINARY_20){var c=e.readInt20();s=e.readBytes(c)}else s=this.readString(t);return[n,a,s]},this.isListTag=function(e){return e===o.LIST_EMPTY||e===o.LIST_8||e===o.LIST_16},this.readListSize=function(e,t){if(t===o.LIST_EMPTY)return 0;if(t===o.LIST_8)return e.readByte();if(t===o.LIST_16)return e.readInt16();throw new Error("invalid list size "+e.debugInfo())},this.readString=function(e,t){if(t===-1)throw new Error("invalid start token readString"+e.debugInfo());if(t>2&&t<236){var r=this.getToken(t);return"s.whatsapp.net"===r&&(r="c.us"),r}switch(t){case o.DICTIONARY_0:case o.DICTIONARY_1:case o.DICTIONARY_2:case o.DICTIONARY_3:var n=e.readByte();return this.getTokenDouble(t-o.DICTIONARY_0,n);case o.LIST_EMPTY:return;case o.BINARY_8:var i=e.readByte();return e.readString(i);case o.BINARY_20:var a=e.readInt20();return e.readString(a);case o.JID_PAIR:var s=this.readString(e,e.readByte()),d=this.readString(e,e.readByte());if("undefined"!=typeof s&&"undefined"!=typeof d)return s+"@"+d;if("undefined"!=typeof d)return d;throw new Error("invalid jid "+s+","+d+" "+e.debugInfo());default:throw new Error("invalid string "+e.debugInfo())}},this.getToken=function(e){var r;if(e>=0&&e<t.length&&(r=t[e]),"undefined"==typeof r)throw new Error("invalid token "+e);return r},this.getTokenDouble=function(e,t){var n,o=256*e+t;if(o>=0&&o<r.length&&(n=r[o]),"undefined"==typeof n)throw new Error("invalid double byte token "+e+" "+t);return n},this.readAttributes=function(e,t){for(var r,n,o=t?{}:void 0,i=0;i<t;i++)r=this.readString(e,e.readUint8()),n=this.readString(e,e.readUint8()),o[r]=n;return o},this.readList=function(e,t){for(var r=[],n=this.readListSize(e,t),o=0;o<n;o++)r.push(this.readNode(e));return r}}var o=r(217);e.exports=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t,r={};for(t=0;t<e.singleByte.length;t++)e.singleByte[t]&&(r[e.singleByte[t]]=t);for(t=0;t<e.doubleByte.length;t++)e.doubleByte[t]&&(r[e.doubleByte[t]]=t+d.SINGLE_BYTE_MAX);this.writeNode=function(e,t){if(t){if(3!==t.length)throw new Error("invalid node");var r=t[1]?2*(0,a["default"])(t[1]).filter(function(e){return!!t[1][e]}).length:0;this.writeListStart(e,1+r+(t[2]?1:0)),this.writeString(e,t[0]),this.writeAttributes(e,t[1]),this.writeChildren(e,t[2])}},this.writeString=function(e,t){if("string"!=typeof t)throw new Error("invalid string");var n,o,i=r[t];if("undefined"==typeof i){var a=t.indexOf("@");if(a<1)this.writeStringRaw(e,t);else{var s=t.substring(0,a),c=t.substring(a+1);this.writeJid(e,s,c)}}else{if(i<d.SINGLE_BYTE_MAX)this.writeToken(e,i);else{var u=i-d.SINGLE_BYTE_MAX,l=u>>8;switch(o=u%256,l){case 0:n=d.DICTIONARY_0;break;case 1:n=d.DICTIONARY_1;break;case 2:n=d.DICTIONARY_2;break;case 3:n=d.DICTIONARY_3;break;default:throw new Error("double byte dictionary token out of range: "+t+" "+i)}}this.writeToken(e,n),this.writeToken(e,o)}},this.writeStringRaw=function(e,t){var r=s.numUtf8Bytes(t);r>=256?(e.pushByte(d.BINARY_20),e.pushInt20(r)):(e.pushByte(d.BINARY_8),e.pushByte(r)),e.pushString(t)},this.writeJid=function(e,t,r){e.pushByte(d.JID_PAIR),t?this.writeString(e,t):this.writeToken(e,d.LIST_EMPTY),"c.us"===r&&(r="s.whatsapp.net"),this.writeString(e,r)},this.writeToken=function(e,t){if(t<245)e.pushByte(t);else if(t<=500)throw new Error("invalid token")},this.writeAttributes=function(e,t){if(t)for(var r in t)t[r]&&(this.writeString(e,r),this.writeString(e,t[r]))},this.writeChildren=function(e,t){var r;if(t)if("string"==typeof t)this.writeString(e,t);else if(t instanceof ArrayBuffer)r=t.byteLength,r>=256?(e.pushByte(d.BINARY_20),e.pushInt20(r)):(e.pushByte(d.BINARY_8),e.pushByte(r)),e.pushBytes(t);else{if(!_.isArray(t))throw new Error("invalid children");r=t.length,this.writeListStart(e,r);for(var n=0;n<r;n++)this.writeNode(e,t[n])}},this.writeListStart=function(e,t){0===t?e.pushByte(d.LIST_EMPTY):t<256?(e.pushByte(d.LIST_8),e.pushByte(t)):(e.pushByte(d.LIST_16),e.pushInt16(t))}}var i=r(46),a=n(i),s=r(13),d=r(217);e.exports=o},function(e,t){"use strict";var r={singleByte:[void 0,void 0,void 0,"200","400","404","500","501","502","action","add","after","archive","author","available","battery","before","body","broadcast","chat","clear","code","composing","contacts","count","create","debug","delete","demote","duplicate","encoding","error","false","filehash","from","g.us","group","groups_v2","height","id","image","in","index","invis","item","jid","kind","last","leave","live","log","media","message","mimetype","missing","modify","name","notification","notify","out","owner","participant","paused","picture","played","presence","preview","promote","query","raw","read","receipt","received","recipient","recording","relay","remove","response","resume","retry","s.whatsapp.net","seconds","set","size","status","subject","subscribe","t","text","to","true","type","unarchive","unavailable","url","user","value","web","width","mute","read_only","admin","creator","short","update","powersave"],doubleByte:[],nibbleEncode:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,"-":10,".":11,"\0":15},nibbleDecode:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"-",11:".",15:"\0"}};e.exports=r},function(e,t,r){"use strict";function n(e){var t=new o(e);this.readByte=function(){return t.readUint8()},this.readInt16=function(){return t.readUint16()},this.readInt20=function(){var e=15&t.readUint8(),r=t.readUint8(),n=t.readUint8();return(e<<16)+(r<<8)+n},this.readInt32=function(){return t.readUint32()},this.readString=function(e){return t.readString(e)},this.readBytes=function(e){return t.readBuffer(e)},this.debugInfo=function(){return"offset: "+t._readIndex+" byte: "+t._buffer[t._readIndex]}}var o=r(13);e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!e)return"undefined";var r=o(e[1],t),n=i(e[2],t);return"<"+e[0]+r+(n?">\n"+n+"\n</"+e[0]+">":"/>")}function o(e,t){if(e){var r="";for(var n in e){var o="string"==typeof e[n]?t?"...":'"'+e[n]+'"':e[n];r+=" "+n+"="+o}return r}return""}function i(e,t){return e instanceof ArrayBuffer?"<<bin:"+e.byteLength+">>":"string"==typeof e?t?"<<string:"+e.length+">>":e:_.isArray(e)?e.map(_.partial(n,_,t)).join("\n"):void 0}var a=r(13),s={tag:function(e){return e&&e[0]},attr:function(e,t){return t&&t[1]?t[1][e]:void 0},attrs:function(e){return e[1]},child:function d(e,t){var r=t[2];if(_.isArray(r))for(var n=r.length,o=0;o<n;o++){var d=r[o];if(_.isArray(d)&&d[0]===e)return d}},children:function(e){return e&&e[2]},dataStr:function(e){if(!e)return"";var t=e[2];return"string"==typeof t?t:t instanceof ArrayBuffer?new a(t).readString(t.byteLength):void 0},toString:n};e.exports=s},function(e,t,r){"use strict";function n(){function e(e){t++,r.push(e)}var t=0,r=[];this.pushInt16=function(t){if("number"!=typeof t)throw new Error("invalid int16");e((65280&t)>>8),e((255&t)>>0)},this.pushInt20=function(t){if("number"!=typeof t)throw new Error("invalid int20");e((983040&t)>>16),e((65280&t)>>8),e((255&t)>>0)},this.pushInt32=function(t){if("number"!=typeof t)throw new Error("invalid int32");e((4278190080&t)>>24),e((16711680&t)>>16),e((65280&t)>>8),e((255&t)>>0)},this.pushByte=function(t){if("number"!=typeof t||t<0||t>255)throw new Error("invalid byte value: "+t);e(t)},this.pushBytes=function(e){if(!(e instanceof ArrayBuffer))throw new Error("invalid byte buffer");t+=e.byteLength,r.push(e)},this.pushUint8Array=function(e){if("[object Uint8Array]"!==Object.prototype.toString.call(e))throw new Error("invalid Uint8Array");t+=e.length;for(var n=0;n<e.length;n++)r.push(e[n])},this.pushString=function(e){if("string"!=typeof e)throw new Error("invalid string");t+=o.numUtf8Bytes(e),r.push(e)},this.toBuffer=function(){return o.build.apply(null,r).readBuffer()}}var o=r(13);e.exports=n},function(e,t,r){"use strict";function n(e){var t=e.singleByte,r=e.doubleByte,n=e.nibbleDecode;this.readNode=function(e){var t=e.readByte(),r=this.readListSize(e,t);if(t=e.readByte(),t===o.STREAM_END)throw new Error("unexpected stream end "+e.debugInfo());var n=this.readString(e,t);if(0===r||!n)throw new Error("invalid node. 0 list or empty tag"+e.debugInfo());var i=r-2+r%2>>1,a=this.readAttributes(e,i);if(r%2===1)return[n,a,void 0];var s;if(t=e.readByte(),this.isListTag(t))s=this.readList(e,t);else if(t===o.BINARY_8){var d=e.readByte();s=e.readBytes(d)}else if(t===o.BINARY_20){var c=e.readInt20();s=e.readBytes(c)}else if(t===o.BINARY_32){var u=e.readInt32();s=e.readBytes(u)}else s=this.readString(e,t);return[n,a,s]},this.isListTag=function(e){return e===o.LIST_EMPTY||e===o.LIST_8||e===o.LIST_16},this.readListSize=function(e,t){if(t===o.LIST_EMPTY)return 0;if(t===o.LIST_8)return e.readByte();if(t===o.LIST_16)return e.readInt16();throw new Error("invalid list size "+e.debugInfo())},this.readString=function(e,t){if(t===-1)throw new Error("invalid start token readString"+e.debugInfo());if(t>2&&t<236){var r=this.getToken(t);return"s.whatsapp.net"===r&&(r="c.us"),r}switch(t){case o.DICTIONARY_0:case o.DICTIONARY_1:case o.DICTIONARY_2:case o.DICTIONARY_3:var n=e.readByte();return this.getTokenDouble(t-o.DICTIONARY_0,n);case o.LIST_EMPTY:return;case o.BINARY_8:return e.readString(e.readByte());case o.BINARY_20:return e.readString(e.readInt20());case o.BINARY_32:return e.readString(e.readInt32());case o.JID_PAIR:var i=this.readString(e,e.readByte()),a=this.readString(e,e.readByte());if("undefined"!=typeof i&&"undefined"!=typeof a)return i+"@"+a;if("undefined"!=typeof a)return a;throw new Error("invalid jid "+i+","+a+" "+e.debugInfo());case o.NIBBLE_8:return this.nibblesToBytes(e);default:throw new Error("invalid string "+e.debugInfo())}},this.getToken=function(e){var r;if(e>=0&&e<t.length&&(r=t[e]),"undefined"==typeof r)throw new Error("invalid token "+e);return r},this.getTokenDouble=function(e,t){var n,o=256*e+t;if(o>=0&&o<r.length&&(n=r[o]),"undefined"==typeof n)throw new Error("invalid double byte token "+e+" "+t);return n},this.readAttributes=function(e,t){for(var r,n,o=t?{}:void 0,i=0;i<t;i++)r=this.readString(e,e.readByte()),n=this.readString(e,e.readByte()),o[r]=n;return o},this.readList=function(e,t){for(var r=[],n=this.readListSize(e,t),o=0;o<n;o++)r.push(this.readNode(e));return r},this.nibblesToBytes=function(e){for(var t=e.readByte(),r=t>>7,n=127&t,o="",i=0;i<n;i++){var a=e.readByte(),s=this.unpackBytePair(a);o+=s[0],o+=s[1]}return r&&(o=o.substring(0,o.length-1)),o},this.unpackBytePair=function(e){var t=(240&e)>>4,r=15&e;if(!n.hasOwnProperty(t))throw new Error("invalid nibble to unpack: "+t);if(!n.hasOwnProperty(r))throw new Error("invalid nibble to unpack: "+r);var o=n[t],i=n[r];return[o,i]},this.bytesToString=function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}}var o=r(219);e.exports=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t,r={},n=e.nibbleEncode;for(t=0;t<e.singleByte.length;t++)e.singleByte[t]&&(r[e.singleByte[t]]=t);for(t=0;t<e.doubleByte.length;t++)e.doubleByte[t]&&(r[e.doubleByte[t]]=t+c.SINGLE_BYTE_MAX);this.writeNode=function(e,t){if(t){if(3!==t.length)throw new Error("invalid node");var r=t[1]?2*(0,a["default"])(t[1]).filter(function(e){return!!t[1][e]}).length:0;this.writeListStart(e,1+r+(t[2]?1:0)),this.writeString(e,t[0]),this.writeAttributes(e,t[1]),this.writeChildren(e,t[2])}},this.writeString=function(e,t,n){if("string"!=typeof t)throw new Error("invalid string");var o,i,a=r[t];if("c.us"!==t||n)if("undefined"==typeof a){var s=t.indexOf("@");if(s<1)this.writeStringRaw(e,t);else{var d=t.substring(0,s),u=t.substring(s+1);this.writeJid(e,d,u)}}else{if(a<c.SINGLE_BYTE_MAX)this.writeToken(e,a);else{var l=a-c.SINGLE_BYTE_MAX,p=l>>8;switch(i=l%256,p){case 0:o=c.DICTIONARY_0;break;case 1:o=c.DICTIONARY_1;break;case 2:o=c.DICTIONARY_2;break;case 3:o=c.DICTIONARY_3;break;default:throw new Error("double byte dictionary token out of range: "+t+" "+a)}}this.writeToken(e,o),this.writeToken(e,i)}else this.writeToken(e,r["s.whatsapp.net"])},this.writeStringRaw=function(e,t){var r=d.numUtf8Bytes(t);if(r>=4294967296)throw new Error("string too large to encode (len = "+r+"): "+t);r>=1<<20?(e.pushByte(c.BINARY_32),e.pushInt32(r)):r>=256?(e.pushByte(c.BINARY_20),e.pushInt20(r)):(e.pushByte(c.BINARY_8),e.pushByte(r)),e.pushString(t)},this.writeJid=function(e,t,r){if(e.pushByte(c.JID_PAIR),t)try{this.writeNibbles(e,t)}catch(n){s.warnVerbose("writer:encode-fallback "+n.message,t)(),this.writeString(e,t)}else this.writeToken(e,c.LIST_EMPTY);this.writeString(e,r)},this.writeToken=function(e,t){if(t<245)e.pushByte(t);else if(t<=500)throw new Error("invalid token")},this.writeAttributes=function(e,t){if(t)for(var r in t)t[r]&&(this.writeString(e,r),this.writeString(e,t[r]))},this.writeChildren=function(e,t){var r;if(t)if("string"==typeof t)this.writeString(e,t,!0);else if(t instanceof ArrayBuffer){if(r=t.byteLength,r>=4294967296)throw new Error("invalid children; too long (len = "+r);r>=1<<20?(e.pushByte(c.BINARY_32),e.pushInt32(r)):r>=256?(e.pushByte(c.BINARY_20),e.pushInt20(r)):(e.pushByte(c.BINARY_8),e.pushByte(r)),e.pushBytes(t)}else{if(!_.isArray(t))throw new Error("invalid children");r=t.length,this.writeListStart(e,r);for(var n=0;n<r;n++)this.writeNode(e,t[n])}},this.writeListStart=function(e,t){0===t?e.pushByte(c.LIST_EMPTY):t<256?(e.pushByte(c.LIST_8),e.pushByte(t)):(e.pushByte(c.LIST_16),e.pushInt16(t))},this.writeNibbles=function(e,t){var r=d.numUtf8Bytes(t);if(r>c.NIBBLE_MAX)throw new Error("too many bytes to nibble-encode: len = "+r);var n,o=Math.ceil(r/2),i=[],a=0;r%2>0&&(a=128);var s=a|o;i.push(c.NIBBLE_8),i.push(s);for(var u=Math.floor(r/2),l=0;l<u;l++)n=this.packBytePair(t[2*l],t[2*l+1]),i.push(n);a>0&&(n=this.packBytePair(t[r-1],"\0"),i.push(n));var p=new Uint8Array(i);e.pushUint8Array(p)},this.packBytePair=function(e,t){if(!n.hasOwnProperty(e))throw new Error("invalid byte to nibble-pack: "+e);if(!n.hasOwnProperty(t))throw new Error("invalid byte to nibble-pack: "+t);var r=n[e],o=n[t];return r<<4|o}}var i=r(46),a=n(i),s=r(1),d=r(13),c=r(219);e.exports=o},function(e,t){"use strict";var r={singleByte:[void 0,void 0,void 0,"200","400","404","500","501","502","action","add","after","archive","author","available","battery","before","body","broadcast","chat","clear","code","composing","contacts","count","create","debug","delete","demote","duplicate","encoding","error","false","filehash","from","g.us","group","groups_v2","height","id","image","in","index","invis","item","jid","kind","last","leave","live","log","media","message","mimetype","missing","modify","name","notification","notify","out","owner","participant","paused","picture","played","presence","preview","promote","query","raw","read","receipt","received","recipient","recording","relay","remove","response","resume","retry","s.whatsapp.net","seconds","set","size","status","subject","subscribe","t","text","to","true","type","unarchive","unavailable","url","user","value","web","width","mute","read_only","admin","creator","short","update","powersave","checksum","epoch","block","previous","409","replaced","reason","spam","modify_tag"],doubleByte:[],nibbleEncode:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,"-":10,".":11,"\0":15},nibbleDecode:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"-",11:".",15:"\0"}};e.exports=r},function(e,t){"use strict";var r={singleByte:[void 0,void 0,void 0,"200","400","404","500","501","502","action","add","after","archive","author","available","battery","before","body","broadcast","chat","clear","code","composing","contacts","count","create","debug","delete","demote","duplicate","encoding","error","false","filehash","from","g.us","group","groups_v2","height","id","image","in","index","invis","item","jid","kind","last","leave","live","log","media","message","mimetype","missing","modify","name","notification","notify","out","owner","participant","paused","picture","played","presence","preview","promote","query","raw","read","receipt","received","recipient","recording","relay","remove","response","resume","retry","s.whatsapp.net","seconds","set","size","status","subject","subscribe","t","text","to","true","type","unarchive","unavailable","url","user","value","web","width","mute","read_only","admin","creator","short","update","powersave","checksum","epoch","block","previous","409","replaced","reason","spam","modify_tag","message_info","delivery","emoji"],doubleByte:[],nibbleEncode:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,"-":10,".":11,"\0":15},nibbleDecode:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"-",11:".",15:"\0"}};e.exports=r},function(e,t,r){"use strict";function n(e){var t=e.singleByte,r=e.doubleByte,n=e.nibbleDecode;this.readNode=function(e){var t=e.readByte(),r=this.readListSize(e,t);if(t=e.readByte(),t===o.STREAM_END)throw new Error("unexpected stream end "+e.debugInfo());var n=this.readString(e,t);if(0===r||!n)throw new Error("invalid node. 0 list or empty tag"+e.debugInfo());var i=r-2+r%2>>1,a=this.readAttributes(e,i);if(r%2===1)return[n,a,void 0];var s;if(t=e.readByte(),this.isListTag(t))s=this.readList(e,t);else if(t===o.BINARY_8){var d=e.readByte();s=e.readBytes(d)}else if(t===o.BINARY_20){var c=e.readInt20();s=e.readBytes(c)}else if(t===o.BINARY_32){var u=e.readInt32();s=e.readBytes(u)}else s=this.readString(e,t);return[n,a,s]},this.isListTag=function(e){return e===o.LIST_EMPTY||e===o.LIST_8||e===o.LIST_16},this.readListSize=function(e,t){if(t===o.LIST_EMPTY)return 0;if(t===o.LIST_8)return e.readByte();if(t===o.LIST_16)return e.readInt16();throw new Error("invalid list size "+e.debugInfo())},this.readString=function(e,t){if(t===-1)throw new Error("invalid start token readString"+e.debugInfo());if(t>2&&t<236){var r=this.getToken(t);return"s.whatsapp.net"===r&&(r="c.us"),r}switch(t){case o.DICTIONARY_0:case o.DICTIONARY_1:case o.DICTIONARY_2:case o.DICTIONARY_3:var n=e.readByte();return this.getTokenDouble(t-o.DICTIONARY_0,n);case o.LIST_EMPTY:return;case o.BINARY_8:return e.readString(e.readByte());case o.BINARY_20:return e.readString(e.readInt20());case o.BINARY_32:return e.readString(e.readInt32());case o.JID_PAIR:var i=this.readString(e,e.readByte()),a=this.readString(e,e.readByte());if("undefined"!=typeof i&&"undefined"!=typeof a)return i+"@"+a;if("undefined"!=typeof a)return a;throw new Error("invalid jid "+i+","+a+" "+e.debugInfo());case o.NIBBLE_8:case o.HEX_8:return this.readPacked8(t,e);default:throw new Error("invalid string "+e.debugInfo())}},this.getToken=function(e){var r;if(e>=0&&e<t.length&&(r=t[e]),"undefined"==typeof r)throw new Error("invalid token "+e);return r},this.getTokenDouble=function(e,t){var n,o=256*e+t;if(o>=0&&o<r.length&&(n=r[o]),"undefined"==typeof n)throw new Error("invalid double byte token "+e+" "+t);return n},this.readAttributes=function(e,t){for(var r,n,o=t?{}:void 0,i=0;i<t;i++)r=this.readString(e,e.readByte()),n=this.readString(e,e.readByte()),o[r]=n;return o},this.readList=function(e,t){for(var r=[],n=this.readListSize(e,t),o=0;o<n;o++)r.push(this.readNode(e));return r},this.readPacked8=function(e,t){for(var r=t.readByte(),n=r>>7,o=127&r,i="",a=0;a<o;a++){var s=t.readByte();i+=this.unpackByte(e,(240&s)>>4),i+=this.unpackByte(e,15&s)}return n&&(i=i.substring(0,i.length-1)),i},this.unpackByte=function(e,t){switch(e){case o.NIBBLE_8:return this.unpackNibble(t);case o.HEX_8:return this.unpackHex(t);default:throw new Error("unpack non-nibble/hex type: "+e)}},this.unpackNibble=function(e){if(!n.hasOwnProperty(e))throw new Error("invalid nibble to unpack: "+e);return n[e]},this.unpackHex=function(e){if(e>=0&&e<=15)return e.toString(16).toUpperCase();throw new Error("invalid hex to unpack: "+e)}}var o=r(220);e.exports=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t,r={},n=e.nibbleEncode;for(t=0;t<e.singleByte.length;t++)e.singleByte[t]&&(r[e.singleByte[t]]=t);for(t=0;t<e.doubleByte.length;t++)e.doubleByte[t]&&(r[e.doubleByte[t]]=t+c.SINGLE_BYTE_MAX);this.writeNode=function(e,t){if(t){if(3!==t.length)throw new Error("invalid node");var r=t[1]?2*(0,a["default"])(t[1]).filter(function(e){return!!t[1][e]}).length:0;this.writeListStart(e,1+r+(t[2]?1:0)),this.writeString(e,t[0]),this.writeAttributes(e,t[1]),this.writeChildren(e,t[2])}},this.writeString=function(e,t,n){if("string"!=typeof t)throw new Error("invalid string");var o,i,a=r[t];if("c.us"!==t||n)if("undefined"==typeof a){var s=t.indexOf("@");if(s<1)this.writeStringRaw(e,t);else{var d=t.substring(0,s),u=t.substring(s+1);this.writeJid(e,d,u)}}else{if(a<c.SINGLE_BYTE_MAX)this.writeToken(e,a);else{var l=a-c.SINGLE_BYTE_MAX,p=l>>8;switch(i=l%256,p){case 0:o=c.DICTIONARY_0;break;case 1:o=c.DICTIONARY_1;break;case 2:o=c.DICTIONARY_2;break;case 3:o=c.DICTIONARY_3;break;default:throw new Error("double byte dictionary token out of range: "+t+" "+a)}}this.writeToken(e,o),this.writeToken(e,i)}else this.writeToken(e,r["s.whatsapp.net"])},this.writeStringRaw=function(e,t){var r=d.numUtf8Bytes(t);if(r>=4294967296)throw new Error("string too large to encode (len = "+r+"): "+t);r>=1<<20?(e.pushByte(c.BINARY_32),e.pushInt32(r)):r>=256?(e.pushByte(c.BINARY_20),e.pushInt20(r)):(e.pushByte(c.BINARY_8),e.pushByte(r)),e.pushString(t)},this.writeJid=function(e,t,r){if(e.pushByte(c.JID_PAIR),t)try{this.writePackedBytes(e,t)}catch(n){s.warnVerbose("writer:encode-fallback "+n.message,t)(),this.writeString(e,t)}else this.writeToken(e,c.LIST_EMPTY);this.writeString(e,r)},this.writeToken=function(e,t){if(t<245)e.pushByte(t);else if(t<=500)throw new Error("invalid token")},this.writeAttributes=function(e,t){if(t)for(var r in t)t[r]&&(this.writeString(e,r),this.writeString(e,t[r]))},this.writeChildren=function(e,t){var r;if(t)if("string"==typeof t)this.writeString(e,t,!0);else if(t instanceof ArrayBuffer){if(r=t.byteLength,r>=4294967296)throw new Error("invalid children; too long (len = "+r);r>=1<<20?(e.pushByte(c.BINARY_32),e.pushInt32(r)):r>=256?(e.pushByte(c.BINARY_20),e.pushInt20(r)):(e.pushByte(c.BINARY_8),e.pushByte(r)),e.pushBytes(t)}else{if(!_.isArray(t))throw new Error("invalid children");r=t.length,this.writeListStart(e,r);for(var n=0;n<r;n++)this.writeNode(e,t[n])}},this.writeListStart=function(e,t){0===t?e.pushByte(c.LIST_EMPTY):t<256?(e.pushByte(c.LIST_8),e.pushByte(t)):(e.pushByte(c.LIST_16),e.pushInt16(t))},this.writePackedBytes=function(e,t){try{this.writePackedBytesImpl(e,t,c.NIBBLE_8)}catch(r){s.warn("writer:enc nib fail, try hex "+r.message,t)(),this.writePackedBytesImpl(e,t,c.HEX_8)}},this.writePackedBytesImpl=function(e,t,r){var n=d.numUtf8Bytes(t);if(n>c.PACKED_MAX)throw new Error("too many bytes to nibble-encode: len = "+n);var o,i=Math.ceil(n/2),a=[],s=0;n%2>0&&(s=128);var u=s|i;a.push(r),a.push(u);for(var l=Math.floor(n/2),p=0;p<l;p++)o=this.packBytePair(r,t[2*p],t[2*p+1]),a.push(o);s>0&&(o=this.packBytePair(r,t[n-1],"\0"),a.push(o));var f=new Uint8Array(a);e.pushUint8Array(f)},this.packBytePair=function(e,t,r){var n,o;switch(e){case c.NIBBLE_8:n=this.packNibble(t),o=this.packNibble(r);break;case c.HEX_8:n=this.packHex(t),o=this.packHex(r);break;default:throw new Error("invalid byte pack type: "+e)}return n<<4|o},this.packNibble=function(e){if(!n.hasOwnProperty(e))throw new Error("invalid byte to nibble-pack: "+e);return n[e]},this.packHex=function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"A":case"B":case"C":case"D":case"E":case"F":return parseInt(e,16);case"\0":return 15;default:throw new Error("packHex:invalid byte: "+e)}}}var i=r(46),a=n(i),s=r(1),d=r(13),c=r(220);e.exports=o},function(e,t){"use strict";var r={singleByte:[void 0,void 0,void 0,"200","400","404","500","501","502","action","add","after","archive","author","available","battery","before","body","broadcast","chat","clear","code","composing","contacts","count","create","debug","delete","demote","duplicate","encoding","error","false","filehash","from","g.us","group","groups_v2","height","id","image","in","index","invis","item","jid","kind","last","leave","live","log","media","message","mimetype","missing","modify","name","notification","notify","out","owner","participant","paused","picture","played","presence","preview","promote","query","raw","read","receipt","received","recipient","recording","relay","remove","response","resume","retry","s.whatsapp.net","seconds","set","size","status","subject","subscribe","t","text","to","true","type","unarchive","unavailable","url","user","value","web","width","mute","read_only","admin","creator","short","update","powersave","checksum","epoch","block","previous","409","replaced","reason","spam","modify_tag","message_info","delivery","emoji","title","description","canonical-url","matched-text","star","unstar"],doubleByte:[],nibbleEncode:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,"-":10,".":11,"\0":15},nibbleDecode:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"-",11:".",15:"\0"}};e.exports=r},function(e,t){"use strict";var r={singleByte:[void 0,void 0,void 0,"200","400","404","500","501","502","action","add","after","archive","author","available","battery","before","body","broadcast","chat","clear","code","composing","contacts","count","create","debug","delete","demote","duplicate","encoding","error","false","filehash","from","g.us","group","groups_v2","height","id","image","in","index","invis","item","jid","kind","last","leave","live","log","media","message","mimetype","missing","modify","name","notification","notify","out","owner","participant","paused","picture","played","presence","preview","promote","query","raw","read","receipt","received","recipient","recording","relay","remove","response","resume","retry","s.whatsapp.net","seconds","set","size","status","subject","subscribe","t","text","to","true","type","unarchive","unavailable","url","user","value","web","width","mute","read_only","admin","creator","short","update","powersave","checksum","epoch","block","previous","409","replaced","reason","spam","modify_tag","message_info","delivery","emoji","title","description","canonical-url","matched-text","star","unstar","media_key"],doubleByte:[],nibbleEncode:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,"-":10,".":11,"\0":15},nibbleDecode:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"-",11:".",15:"\0"}};e.exports=r},function(e,t){"use strict";var r={singleByte:[void 0,void 0,void 0,"200","400","404","500","501","502","action","add","after","archive","author","available","battery","before","body","broadcast","chat","clear","code","composing","contacts","count","create","debug","delete","demote","duplicate","encoding","error","false","filehash","from","g.us","group","groups_v2","height","id","image","in","index","invis","item","jid","kind","last","leave","live","log","media","message","mimetype","missing","modify","name","notification","notify","out","owner","participant","paused","picture","played","presence","preview","promote","query","raw","read","receipt","received","recipient","recording","relay","remove","response","resume","retry","s.whatsapp.net","seconds","set","size","status","subject","subscribe","t","text","to","true","type","unarchive","unavailable","url","user","value","web","width","mute","read_only","admin","creator","short","update","powersave","checksum","epoch","block","previous","409","replaced","reason","spam","modify_tag","message_info","delivery","emoji","title","description","canonical-url","matched-text","star","unstar","media_key","filename","identity","unread","page","page_count","search","media_message","security","call_log","profile"],doubleByte:[],nibbleEncode:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,"-":10,".":11,"\0":15},nibbleDecode:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"-",11:".",15:"\0"}};e.exports=r},function(e,t){"use strict";var r={singleByte:[void 0,void 0,void 0,"200","400","404","500","501","502","action","add","after","archive","author","available","battery","before","body","broadcast","chat","clear","code","composing","contacts","count","create","debug","delete","demote","duplicate","encoding","error","false","filehash","from","g.us","group","groups_v2","height","id","image","in","index","invis","item","jid","kind","last","leave","live","log","media","message","mimetype","missing","modify","name","notification","notify","out","owner","participant","paused","picture","played","presence","preview","promote","query","raw","read","receipt","received","recipient","recording","relay","remove","response","resume","retry","s.whatsapp.net","seconds","set","size","status","subject","subscribe","t","text","to","true","type","unarchive","unavailable","url","user","value","web","width","mute","read_only","admin","creator","short","update","powersave","checksum","epoch","block","previous","409","replaced","reason","spam","modify_tag","message_info","delivery","emoji","title","description","canonical-url","matched-text","star","unstar","media_key","filename","identity","unread","page","page_count","search","media_message","security","call_log","profile","ciphertext","invite"],doubleByte:[],nibbleEncode:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,"-":10,".":11,"\0":15},nibbleDecode:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"-",11:".",15:"\0"}};e.exports=r},function(e,t){"use strict";var r={singleByte:[void 0,void 0,void 0,"200","400","404","500","501","502","action","add","after","archive","author","available","battery","before","body","broadcast","chat","clear","code","composing","contacts","count","create","debug","delete","demote","duplicate","encoding","error","false","filehash","from","g.us","group","groups_v2","height","id","image","in","index","invis","item","jid","kind","last","leave","live","log","media","message","mimetype","missing","modify","name","notification","notify","out","owner","participant","paused","picture","played","presence","preview","promote","query","raw","read","receipt","received","recipient","recording","relay","remove","response","resume","retry","s.whatsapp.net","seconds","set","size","status","subject","subscribe","t","text","to","true","type","unarchive","unavailable","url","user","value","web","width","mute","read_only","admin","creator","short","update","powersave","checksum","epoch","block","previous","409","replaced","reason","spam","modify_tag","message_info","delivery","emoji","title","description","canonical-url","matched-text","star","unstar","media_key","filename","identity","unread","page","page_count","search","media_message","security","call_log","profile","ciphertext","invite","gif","vcard"],doubleByte:[],nibbleEncode:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,"-":10,".":11,"\0":15},nibbleDecode:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"-",11:".",15:"\0"}};e.exports=r},function(e,t,r){"use strict";var n=r(6),o=r(58),i=r(132);e.exports=function(){var e=n.createElement("div",null,n.createElement("span",null,l10n.t("updating_whatsapp_web")),n.createElement("div",{className:"client-expired-pending"},n.createElement(i,{stroke:4,size:40})));return n.createElement(o,{body:e,title:l10n.t("updating_whatsapp_web_title")})}},function(e,t,r){"use strict";var n=r(6),o=r(12),i=r(58),a=r(209),s=n.createClass({displayName:"Conflict",componentWillMount:function(){a.setTitleAndIcon(-1)},render:function(){return n.createElement(i,{body:l10n.t("phone_has_another_active_webclient_session"),cancelLabel:l10n.t("menuitem_logout"),onCancel:o.logout.bind(o),defaultLabel:l10n.t("button_use_here"),
onDefault:o.takeover.bind(o)})}});e.exports=s},function(e,t,r){"use strict";var n=r(6),o=r(34),i=r(78),a=r(419),s=r(102),d=r(63),c={menu:null,uim:null,origin:{x:0,y:0},anchor:null,event:null,menuDirection:{x:a.Direction.X.RIGHT,y:a.Direction.Y.BOTTOM},originPosition:{x:a.Direction.X.LEFT,y:a.Direction.Y.BOTTOM},originOffset:{x:0,y:0},onOpen:_.noop,onClose:_.noop,onDefault:_.noop,classes:null,type:a.Type.DROPDOWN},u={MENU:"menu",TOOLTIP:"tooltip"},l=n.createClass({displayName:"ContextMenuManager",mixins:[i],propTypes:{type:n.PropTypes.oneOf(_.values(u)).isRequired},getChildContext:function(){return{uim:this.state.uim}},getDefaultProps:function(){return{type:u.MENU}},getInitialState:function(){return c},componentWillMount:function(){var e=this.props.type===u.MENU?"open_context_menu":"open_tooltip";this.regCmd(e,this.open);var t=this.props.type===u.MENU?"close_context_menu":"close_tooltip";this.regCmd(t,this.close)},close:function(e){_.isUndefined(e)?this.replaceState(_.cloneDeep(c)):this.state.uim===e&&this.replaceState(_.cloneDeep(c))},open:function(e,t,r,n){this.state.uim&&this.state.uim.pop(),t=_.merge(_.cloneDeep(c),t),t.event&&(t.origin={x:t.event.clientX,y:t.event.clientY},t.originOffset={x:10,y:10},t.event.stopPropagation()),t.key=Math.random(),t.menu=e,t.uim=r,this.replaceState(t,function(){n(this.refs.menu),this.setDirection()})},setDirection:function(){var e=o.findDOMNode(this.refs.menu);if(!e)return null;var t=e.clientWidth,r=e.clientHeight,n=window.innerWidth,i=window.innerHeight,s=_.clone(this.state.menuDirection),d=_.clone(this.state.origin),c=d.x,u=d.x,l=d.y,p=d.y;if(this.state.anchor){var f=this.state.anchor,h=f.getBoundingClientRect();c=h.left,u=h.right,l=h.top,p=h.bottom}var m=s.x;m===a.Direction.X.RIGHT&&c+t>n&&u-t>0?m=a.Direction.X.LEFT:m===a.Direction.X.LEFT&&u-t<0&&c+t<n&&(m=a.Direction.X.RIGHT);var g=s.y;g===a.Direction.Y.BOTTOM&&p+r>i&&l-r>0?g=a.Direction.Y.TOP:g===a.Direction.Y.TOP&&l-r<0&&p+r<i&&(g=a.Direction.Y.BOTTOM);var v=m===a.Direction.X.RIGHT?c:u,y=g===a.Direction.Y.TOP?l:p,b=_.clone(this.state.originOffset);this.state.anchor||(m===a.Direction.X.LEFT&&(b.x=0),g===a.Direction.Y.TOP&&(b.y=0)),this.setState({menuDirection:{x:m,y:g},origin:{x:v,y:y},originOffset:b})},render:function(){var e;if(this.state.menu){var t={x:this.state.origin.x+this.state.originOffset.x,y:this.state.origin.y+this.state.originOffset.y};e=n.createElement(a,{origin:t,ref:"menu",onDefault:this.state.onDefault,classes:this.state.classes,type:this.state.type,key:"key-"+this.state.key,direction:this.state.menuDirection},this.state.menu)}var r=this.state.type===a.Type.PICKER?"dropdown-picker":"dropdown";return n.createElement(s,{transitionName:r},e)}});l.childContextTypes={uim:n.PropTypes.instanceOf(d)},e.exports=l},function(e,t){"use strict";var r={CAPABILITY_URL:"https://web.whatsapp.com/browsers.html",STATUS_URL:"https://web.whatsapp.com/status.json",COOKIE_DOMAIN:".web.whatsapp.com",TICKET_URL:"https://dyn.web.whatsapp.com/contact-us",GROUP_INVITE_URL:"https://web.whatsapp.com/invite/icon/",PP_TOK:"/pp",PP_REF:"/pp",UPLOAD_TO_CLB:1,FLAVOR_TAGS:!1,WAM_ROTATE_INTERVAL:3600,SOCKETS:["wss://w1.web.whatsapp.com/ws","wss://w2.web.whatsapp.com/ws","wss://w3.web.whatsapp.com/ws","wss://w4.web.whatsapp.com/ws","wss://w5.web.whatsapp.com/ws","wss://w6.web.whatsapp.com/ws","wss://w7.web.whatsapp.com/ws","wss://w8.web.whatsapp.com/ws"]};e.exports=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(53),i=n(o),a=function(){var e=r(34),t=r(6);window.Promise=r(2)["default"]=r(402),r(395),window._=r(30),window.Velocity=r(394),r(408),window.WebFont=r(409),window.CryptoJS=r(24),r(405),r(195),r(404),r(403),r(401);var n=window.performance.now();r(399),window.applicationCache&&r(398),r(400),["getSelection","open","focus"].forEach(function(e){var t=(0,i["default"])(window)[e];_.isFunction(t)&&window[e]!==t&&(window[e]=t)}),window.Store={Conn:r(206),Contact:r(397),Stream:r(65),Wap:r(45)};var o=r(54),a=r(22);window.Debug||(window.Debug={}),window.Debug.uploadLogs=a.upload,o.isGecko||WebFont.load({google:{families:["Open Sans:400,600","Roboto:300,400,500"]}}),window.l10n=r(208),l10n.init(r(15).getLangPref());var s=r(1);window.onerror=function(e,t,n,o,i){try{var d=r(63);d.pprint()}catch(c){s.error("UIM Print Failed!")(c)}var u=void 0;return u=t&&"number"==typeof n?" ("+t+":"+n+":"+o+")":t?" ("+t+")":"",s.error("exe:onerror"+u+" "+e)(i),"Script error."!==e||i?(i instanceof Error&&i.stack?(s.errorVerbose("exe:unhandled error: "+i.stack)(),a.upload(null)):(s.error("exe:unhandled error: "+(e||"Given: "+i))(),a.upload(null)),!0):(t&&a.upload("script-error"),!1)},Promise.onPossiblyUnhandledRejection=function(e,t){s.error("exe:unhandled rejection: "+e)(),e&&e.stack&&s.error("exe:unhandled stack: "+e.stack)(),s.error("exe:unhandled promise: "+t)(t),e instanceof Error&&e.stack?(s.errorVerbose(e.stack)(),a.upload(null)):a.upload("unhandled-rejection")};var d=r(396),c=r(8);window.Debug.VERSION=c.VERSION_STR;var u=r(36);window.onbeforeunload=function(e){return u.isDownloading()?void u.clearDownloading():(s.log("webclient close/reload triggered")(),s.log("latest hash: "+c.LATEST_HASH)(),s.log("version: "+c.VERSION_STR)(),u.promptUnloadGuards>0?void 0:d.hasPending()?l10n.t("confirm_closing_webclient"):void 0)},window.addEventListener("dragover",function(e){e.preventDefault()}),window.addEventListener("drop",function(e){e.preventDefault()}),e.render(t.createElement(d,null),document.getElementById("app"));try{r(127).PageLoad.set({webcExeStart:0|n,webcExeDone:0|window.performance.now()})}catch(l){}};window.Exe=a,r(128)},,function(e,t,r){"use strict";function n(e,t,r,o){if(i.isArray(e)||i.isString(e)){i.isString(e)&&(e=[e]);for(var a=0;a<e.length;a++)t[e[a]]=o+r}else for(var s in e)n(e[s],t,s,o+r)}function o(e){var t;try{t=e?JSON.parse(e):a}catch(r){return null}var o={};return n(t,o,"",""),o}var i=r(30),a=r(596);e.exports=o},function(e,t,r){"use strict";var n=r(6),o=r(102),i=r(63),a=r(197),s=r(78),d={DEFAULT:"modal",NONE:"none"},c={MODAL:"modal",MEDIA:"media"},u=n.createClass({displayName:"ModalManager",mixins:[s],propTypes:{type:n.PropTypes.oneOf(_.values(c)).isRequired},getChildContext:function(){var e=this.state.uim||this.context.uim;return{uim:e}},getInitialState:function(){return{flow:void 0,transition:d.DEFAULT,uim:void 0}},componentWillMount:function(){this.regCmd("open_"+this.props.type,this.openFlow),this.regCmd("close_"+this.props.type,this.closeFlow)},openFlow:function(e){var t=arguments.length<=1||void 0===arguments[1]?d.DEFAULT:arguments[1],r=arguments[2];this.state.flow&&(t=d.NONE),this.setState({flow:e,transition:t,uim:r})},closeFlow:function(){this.state.flow&&this.setState({flow:void 0})},render:function(){var e=this.state,t=e.flow,r=e.transition;return t&&(t=n.createElement(a,{displayName:"Modal"+_.upperFirst(this.props.type),escapable:!0,requestDismiss:this.closeFlow},t)),n.createElement(o,{transitionName:r},t)}});u.contextTypes={uim:n.PropTypes.instanceOf(i)},u.childContextTypes={uim:n.PropTypes.instanceOf(i)},u.Type=c,e.exports=u},function(e,t,r){"use strict";var n=r(6),o=r(58),i=n.createClass({displayName:"Offline",render:function(){return n.createElement(o,{title:l10n.t("computer_not_connected"),body:l10n.t("make_sure_computer_active_internet_connection")})}});e.exports=i},function(e,t,r){"use strict";function n(){window.open("https://www.whatsapp.com/faq/web/28080002#proxies","_blank")}var o=r(6),i=r(58),a=o.createClass({displayName:"Proxied",render:function(){return o.createElement(i,{title:l10n.t("cant_load_whatsapp"),body:l10n.t("computer_behind_proxy"),defaultLabel:l10n.t("learn_more"),onDefault:n})}});e.exports=a},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(2),i=n(o),a=r(6),s=r(34),d=r(12),c=r(15),u=r(129),l=r(45),p=r(132),f=r(8),h=r(10),m=r(410),g=r(136),v=r(59),y=r(86),b=r(36),w=r(43),E=r(102),S=r(431),N=a.createClass({displayName:"QRCode",mixins:[u],propTypes:{launchUrl:a.PropTypes.string},getInitialState:function(){return{rememberMe:c.getRememberMe(),expired:d.state===d.STATE.UNPAIRED_IDLE,offline:!g.online,refValid:d.state===d.STATE.UNPAIRED}},componentDidMount:function(){this.addObserver(d,"change:state change:online",this.onStateChange)},onStateChange:function(){this.setState({offline:!g.online,expired:d.state===d.STATE.UNPAIRED_IDLE,refValid:d.state===d.STATE.UNPAIRED})},onQRExpiry:function(){this.setState({ref:void 0}),d.poke()},onRememberMeChange:function(e){d.isIncognito||l.setRememberMe(e.target.checked)["catch"](_.noop),c.setRememberMe(e.target.checked),this.setState({rememberMe:c.getRememberMe()})},render:function(){var e=void 0;e=this.state.offline?a.createElement(C,null,a.createElement("button",{className:"qr-button",key:"expiry"},a.createElement("div",{className:"icon icon-connection-l-light"}),l10n.t("check_internet_connection"))):this.state.expired?a.createElement(C,null,a.createElement("button",{className:"qr-button",key:"expiry",onClick:this.onQRExpiry},a.createElement("div",{className:"qr-container"},a.createElement("div",{className:"icon icon-refresh-l-light"}),l10n.t("click_to_reload_qr_code")))):this.state.refValid?a.createElement(C,null):a.createElement("div",{className:"qrcode"},a.createElement(p,null));var t=this.state.rememberMe?null:a.createElement("div",{className:"remember-me-tip"},l10n.t("if_unchecked_you_will_be_logged_out_afterawhile")),r=void 0;return this.props.launchUrl&&(r=a.createElement("div",{className:"group-invite-tip"},l10n.t("group_invite_tooltip"))),a.createElement("div",{id:"wrapper"},a.createElement("div",{id:"window"},a.createElement("div",{className:"entry-main"},a.createElement("div",{className:"qr-wrapper-container"},r,e),a.createElement("div",{className:"entry-text"},a.createElement("div",{className:"entry-title"},l10n.t("whatsapp_web")),a.createElement("div",{className:"entry-subtitle"},l10n.t("scan_code_with_phone_to_login")),a.createElement("div",{className:"entry-controls"},a.createElement("div",{className:"toggle"},a.createElement(E,{transitionName:"fade_sifo"},t),a.createElement("label",null,a.createElement("input",{type:"checkbox",name:"rememberMe",checked:this.state.rememberMe,onChange:this.onRememberMeChange}),l10n.t("menuitem_keep_me_signed_in"))),a.createElement("div",{className:"hint"},l10n.t("reduce_data_usage_connect_phone_to_wifi"))))),a.createElement("div",{id:"platforms"},a.createElement("ul",{className:"list entry-platforms"},a.createElement(T,{platform:"android",path:l10n.t("android_login_path"),name:l10n.t("android")}),a.createElement(T,{platform:"iphone",path:l10n.t("iphone_login_path"),name:l10n.t("iphone")}),a.createElement(T,{platform:"wp",path:l10n.t("windows_phone_login_path"),name:l10n.t("windows_phone")}),a.createElement(T,{platform:"bb",path:l10n.t("blackberry_login_path"),name:l10n.t("blackberry")}),a.createElement(T,{platform:"bb10",path:l10n.t("bb10_login_path"),name:l10n.t("bb10")}),a.createElement(T,{platform:"s60",path:l10n.t("nokia_symbian_s60_login_path"),name:l10n.t("nokia_symbian_s60")})))))}}),C=a.createClass({displayName:"QR",mixins:[u],propTypes:{children:a.PropTypes.element},getInitialState:function(){return{disableCursor:!1}},componentDidMount:function(){this.addObserverAndRun(Store.Conn,"change:ref",this.genQR)},genQR:function(){var e=this.getData();if(e){var t=s.findDOMNode(this);this.qr?this.qr.makeCode(e):this.qr=new S(t,{text:e,colorDark:"#122e31",width:f.QR_EDGE,height:f.QR_EDGE,correctLevel:S.CorrectLevel.L}),t.removeAttribute("title"),t.setAttribute("data-ref",e)}},getData:function(){if(!Store.Conn.connected){var e=Store.Conn.ref,t=y.getOrGenerate(),r=b.id();return e+","+t+","+r}},copy:function(){var e=window.getSelection();e.selectAllChildren(document.getElementById("qr-code-copy")),document.execCommand("copy"),h.closeModal()},onMouseMove:function(e){var t=this;this.state.disableCursor&&this.setState({disableCursor:!1}),this.disableCursorPromise&&this.disableCursorPromise.cancel(),this.disableCursorPromise=v.delay(1e3).cancellable().then(function(e){t.isMounted()&&t.setState({disableCursor:!0})})["finally"](function(){t.isMounted()&&(t.disableCursorPromise=void 0)})["catch"](i["default"].CancellationError,_.noop)},onMouseLeave:function(e){this.disableCursorPromise&&this.disableCursorPromise.cancel()},onContextMenu:function(e){e.stopPropagation(),e.preventDefault(),h.openModal(a.createElement(m,{onOK:this.copy,okText:"Copy to Clibboard"},a.createElement("span",{id:"qr-code-copy"},this.getData())))},render:function(){var e=this.props.children,t=w("qrcode",{idle:!!e}),r={};this.state.disableCursor&&!e&&(r.cursor="none");var n=null;return a.createElement("div",{className:t,onContextMenu:n,style:r,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},a.createElement(E,{transitionName:"scale"},e),a.createElement("span",{className:"icon icon-logo"}))}}),T=a.createClass({displayName:"LoginPlatform",propTypes:{platform:a.PropTypes.oneOf(["android","iphone","bb","wp","bb10","s60"]).isRequired,name:a.PropTypes.string.isRequired,path:a.PropTypes.string.isRequired},render:function(){var e="icon icon-platform icon-platform-"+this.props.platform;return a.createElement("li",{className:"list-item entry-platform"},a.createElement("span",{className:e,title:this.props.name}),a.createElement("div",null,a.createElement("div",{className:"entry-platform-title"},this.props.name),a.createElement("div",{className:"entry-platform-text"},this.props.path)))}});e.exports=N},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return u["default"].any(t).cancellable().then(function(){e.forceTimeout()})["finally"](function(){t.forEach(function(e){e.cancel()})})["catch"](u["default"].CancellationError,_.noop)}function i(){return y.waitForEvent(window,"online").then(function(){return u["default"].delay(E)})}function a(e){var t,r,n=e.data;if(n instanceof ArrayBuffer){for(var o,i=[],a=new f(n);44!==(o=a.readUint8());)i.push(o);t=String.fromCharCode.apply(String,i),r=a.readBuffer()}else{var s=n.indexOf(",");t=n.slice(0,s),r=n.slice(s+1),r=r?JSON.parse(r):r}return{tag:t,data:r}}var s,d,c=r(2),u=n(c),l=r(8),p=r(70),f=r(13),h=r(136),m=r(10),g=r(1),v=r(22),y=r(29),b=r(225),w=r(138),E=100,S=3e5,N=6e3,C=2,T=.2,k=b.FIBONACCI(8e3,4e3,3e5),$=p.extend({props:{active:{type:"boolean","default":!0},socket:"object",sockets:"object",attempts:{type:"number","default":0},startId:{type:"number","default":0},controller:"object",retryTimestamp:"number",tsListener:"function",onerror:"function",_resolve:"function",_reject:"function"},initialize:function(){var e=this;"undefined"==typeof s&&(s=l.SOCKETS,d=Date.now()%s.length),this.sockets=[],new u["default"](function(t,r){e._resolve=t,e._reject=r}).then(function(t){g.log("SocketOpener set to socket "+t.id)(),e.set({active:!1,socket:t}),h.online=!0})["finally"](function(){e.stopListening(),g.log("SocketOpener closing socket opener")(),e.active=!1,_.forEach(e.sockets,function(e){e.cancel()});var t=e.controller;t&&(t.deactivate(),e.controller=null)})["catch"](u["default"].CancellationError,_.noop)["catch"](function(t){return g.error("SocketOpener deadly error! "+t)(t),e.onerror?void e.onerror(t):u["default"].reject(t)}),this.tsListener=function(t){e.retryTimestamp=t.ts},this.listenTo(h,"change:online",this.onOnlineChange),this.onOnlineChange()},attemptOpen:function(){if(!this.active)return g.log("attemptOpen called while not active!")(),void v.upload("rogue-opener");var e=w.numSocketsAttempted,t=w.open({url:s[(e+d)%s.length],msgParser:a});this.attempts=this.sockets.push(t);var r=_.once(function(){h.checkOnline()}),n=_.delay(r,6e3);t.then(this._resolve)["finally"](function(){return clearTimeout(n)})["catch"](u["default"].CancellationError,_.noop)["catch"](r)},poke:function(){this.controller&&this.controller.forceTimeout()},onOnlineChange:function(){if(this.active){var e=this.controller,t=h.online?this.onlineController():this.offlineController();e&&(e.off("change:ts",this.tsListener),e.deactivate()),t.on("change:ts",this.tsListener),t.activate(),this.controller=t}},onlineController:function(){var e=this;return g.log("SocketOpener:onlineController activating")(),new b({waitAlgorithm:k,jitter:T,onActivated:function(){e.attemptOpen()},onTimeout:function(){return e.attemptOpen(),!0}})},offlineController:function(){var e=this;g.log("SocketOpener:offlineController activating")();var t=0,r=void 0,n=function(e){return r&&r.cancel(),navigator.onLine?t++<C?(g.log("SocketOpener:offline... quick poll")(),r=null,N):(g.log("SocketOpener:offline... heuristic poll")(),r=o(e,[i(),y.waitForBBEvent(m,"js_halt_detected"),y.waitForBBEvent(Store.Stream,"change:available")]),S):(g.log("SocketOpener:offline... wait for navigator")(),t=0,r=o(e,[i()]),S)};return new b({waitAlgorithm:n,jitter:T,onActivated:function(){0===e.pendingAttempts()&&e.attemptOpen()},onDeactivated:function(){r&&r.cancel()},onTimeout:function(){return e.attemptOpen(),!0}})},deactivate:function(){this._reject(new u["default"].CancellationError)},pendingAttempts:function(){return _.sumBy(this.sockets,function(e){return e.isPending()?1:0})}});e.exports=$},function(e,t,r){"use strict";var n=r(6),o=r(132),i=r(12),a=r(65),s=r(133),d=r(129),c=r(78),u=r(58),l=r(0),p=80,f=5,h=(100-p)/f,m=n.createClass({displayName:"Startup",mixins:[s,d,c],getInitialState:function(){return{retriable:!1,progress:p}},componentWillMount:function(){var e=this;this.addObserver(a,"change:displayInfo"),this.addObserver(i,"change:retryTimestamp",this.retried),this.regCmd("increment_progress",function(){var t=e.state.progress+h;e.setState({progress:t})})},retried:function(){this.clearSafeTimeout(this.timeout),delete this.timeout,this.clearSafeInterval(this.interval),delete this.interval,this.setState({retriable:!1}),this.startTimeout()},componentDidMount:function(){this.startTimeout();var e=document.getElementById("initial_startup");e&&e.parentNode.removeChild(e)},startTimeout:function(){this.timeout=this.safeDelay(this.allowRetry,3e3)},allowRetry:function(){this.setState({retriable:!0}),this.interval=this.safeInterval(this.forceUpdate,1e3)},retry:function(e){i.poke(),this.retried()},logout:function(e){i.logout()},render:function(){var e,t,r,s,d,c,p=null;switch(a.displayInfo){case a.INFO.OPENING:e=l10n.t("connecting_to_whatsapp"),t=l10n.t("make_sure_computer_active_internet_connection"),d=this.logout;break;case a.INFO.PAIRING:case a.INFO.TIMEOUT:e=l10n.t("trying_to_reach_phone");var f=function(){window.open("http://www.whatsapp.com/faq/web/28080002")};t=n.createElement("span",null,l10n.t("make_sure_phone_active_internet_connection"),"",n.createElement("span",{className:"action",onClick:f},l10n.t("learn_more"))),d=this.logout;break;case a.INFO.SYNCING:case a.INFO.CONNECTING:return n.createElement("div",{id:"startup"},n.createElement(o,{size:50,stroke:4}),p);default:return null}if(c=this.state.retriable)if(r=i.retryTimestamp-Date.now(),r<1)s=l10n.t("retrying"),_.defer(function(){return i.poke()});else if(r<6e4){var h=Math.ceil(r/1e3);s=l10n.t("retrying_in_some_seconds",{number:h,_plural:h})}else s=l10n.t("retrying_in",{duration:l.duration(r).humanize()});else s=l10n.t("retrying");return n.createElement(u,{title:e,body:s,tip:t,defaultLabel:l10n.t("retry_now"),onDefault:c?this.retry:_.noop,cancelLabel:d?l10n.t("menuitem_logout"):null,onCancel:d})}});e.exports=m},function(e,t,r){"use strict";var n=r(6),o=r(78),i=r(102),a=r(54),s=r(413),d=3,c=n.createClass({displayName:"ToastManager",mixins:[o],componentWillMount:function(){this.regCmd("open_toast",this.openToast),this.regCmd("close_toast",this.closeToast)},getInitialState:function(){return{toasts:{}}},openToast:function(e,t){var r;(r=this.refs[e.props.id])&&r instanceof s?r.restartDelay():(this.state.toasts[e.props.id]=e,this.setState({toasts:this.state.toasts}))},closeToast:function(e){var t=this.state.toasts;t[e.props.id]&&this.setState({toasts:_.omit(t,e.props.id)})},componentWillUpdate:function(e,t){this.animateEnter=_.size(this.state.toasts)>_.size(t.toasts)},render:function(){var e=this.animateEnter,t=_.chain(this.state.toasts).sortBy("id").reverse().map(function(t,r){var o=r<d?"slide"+r:"slide"+d;return 0!==r||e||(o=""),n.cloneElement(t,{key:t.props.id,ref:t.props.id,className:o})}).value(),r=a.isTrident?"fade_sifo":"toast-transition";return n.createElement(i,{transitionName:r},t)}});e.exports=c},function(e,t,r){"use strict";var n=r(6),o=r(12),i=r(58),a=n.createClass({displayName:"TOS",render:function(){return n.createElement(i,{body:l10n.t("web_terms_of_service_login_block"),cancelLabel:l10n.t("menuitem_logout"),onCancel:o.logout.bind(o,!0),defaultLabel:l10n.t("login"),onDefault:o.poke.bind(o)})}});e.exports=a},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(44),i=n(o),a=r(52),s=n(a),d=function(){function e(){(0,i["default"])(this,e),this.activeNotifications={}}return(0,s["default"])(e,[{key:"showNotification",value:function(e,t,r){this.activeNotifications[e]||(this.activeNotifications[e]={});var n=this.activeNotifications[e][t];n&&n.close&&n.close(),this.activeNotifications[e][t]=r}},{key:"closeNotification",value:function(e){var t=_.findKey(this.activeNotifications,function(t){return!!t[e]});if(t){var r=this.activeNotifications[t][e];r.close&&r.close(),delete this.activeNotifications[t][e],_.isEmpty(this.activeNotifications[t])&&delete this.activeNotifications[t]}}},{key:"closeChatNotifications",value:function(e){_.forEach(this.activeNotifications[e],function(e,t){e&&e.close&&e.close()}),delete this.activeNotifications[e]}},{key:"closeAllNotifications",value:function(){_.forEach(this.activeNotifications,function(e,t){_.forEach(e,function(e,t){e&&e.close&&e.close()})}),this.activeNotifications={}}}]),e}();e.exports=d},function(e,t){"use strict";e.exports={setCookie:function(e,t){var r=["name","value","domain","path","secure","session","expirationDate"];e.session&&delete e.expirationDate;var n=[];_.forEach(r,function(t){var r=e[t];if(void 0!==r&&"value"!==t)switch(t){case"expirationDate":var o=new Date(e.expirationDate);n.push("expires="+o.toUTCString());break;case"secure":n.push("secure");break;case"name":var i=e.value||"";n.push(r+"="+i);break;default:n.push(t+"="+r)}}),document.cookie=n.join(";")}}},function(e,t){"use strict";function r(e){this.styleSheet=this.createStyleSheet(e),this.rules={}}r.prototype.createStyleSheet=function(e){e=e||_.uniqueId("dynamic-style-");var t=document.createElement("style");return t.id=e,t.type="text/css",document.head.appendChild(t),t=t.sheet},r.prototype.addRule=function(e,t){var r=this.styleSheet.cssRules.length;return t=_.map(t,function(e,t){return t+": "+e+";"}).join(" "),this.styleSheet.insertRule(e+" { "+t+" }",r),this.rules[e]=this.styleSheet.cssRules[r],this.rules[e]},r.prototype.updateRule=function(e,t){var r=this.rules[e];return _.forEach(t,function(e,t){r.style[_.camelCase(t)]=e}),r},r.prototype.setRule=function(e,t){var r=this.rules[e];return r?this.updateRule(e,t):this.addRule(e,t)},e.exports=r},function(e,t){"use strict";e.exports={"#":"ordered0001","":"ordered0001","*":"ordered0002","0":"ordered0003","":"ordered0003","1":"ordered0004","":"ordered0004","2":"ordered0005","":"ordered0005","3":"ordered0006","":"ordered0006","4":"ordered0007","":"ordered0007","5":"ordered0008","":"ordered0008","6":"ordered0009","":"ordered0009","7":"ordered0010","":"ordered0010","8":"ordered0011","":"ordered0011","9":"ordered0012","":"ordered0012","":"ordered0013","":"ordered0014","":"ordered0017","":"ordered0021","":"ordered0022","":"ordered0023","":"ordered0024","":"ordered0030","":"ordered0031","":"ordered0047","":"ordered0048","":"ordered0053","":"ordered0054","":"ordered0058","":"ordered0060","":"ordered0061","":"ordered0063","":"ordered0078","":"ordered0079","":"ordered0080","":"ordered0081","":"ordered0082","":"ordered0083","":"ordered0084","":"ordered0085","":"ordered0086","":"ordered0087","":"ordered0088","":"ordered0089","":"ordered0090","":"ordered0091","":"ordered0092","":"ordered0093","":"ordered0094","":"ordered0095","":"ordered0097","":"ordered0106","":"ordered0107","":"ordered0112","":"ordered0113","":"ordered0114","":"ordered0117","":"ordered0123","":"ordered0126","":"ordered0127","":"ordered0129","":"ordered0144","":"ordered0145","":"ordered0146","":"ordered0148","":"ordered0150","":"ordered0156","":"ordered0162","":"ordered0180","":"ordered0181","":"ordered0182","":"ordered0185","":"ordered0187","":"ordered0188","":"ordered0189","":"ordered0190","":"ordered0192","":"ordered0196","":"ordered0198","":"ordered0201","":"ordered0202","":"ordered0203","":"ordered0206","":"ordered0207","":"ordered0209","":"ordered0210","":"ordered0211","":"ordered0212","":"ordered0214","":"ordered0215","":"ordered0216","":"ordered0217","":"ordered0218","":"ordered0220","":"ordered0222","":"ordered0223","":"ordered0225","":"ordered0227","":"ordered0228","":"ordered0275","":"ordered0284","":"ordered0295","":"ordered0303","":"ordered0305","":"ordered0338","":"ordered0342","":"ordered0350","":"ordered0418","":"ordered0458","":"ordered0476","":"ordered0477","":"ordered0478","":"ordered0479","":"ordered0481","":"ordered0483","":"ordered0484","":"ordered0485","":"ordered0486","":"ordered0487","":"ordered0488","":"ordered0489","":"ordered0491","":"ordered0493","":"ordered0494","":"ordered0495","":"ordered0496","":"ordered0497","":"ordered0498","":"ordered0499","":"ordered0501","":"ordered0516","":"ordered0522","":"ordered0541","":"ordered0542","":"ordered0544","":"ordered0545","":"ordered0546","":"ordered0547","":"ordered0548","":"ordered0551","":"ordered0553","":"ordered0554","":"ordered0555","":"ordered0556","":"ordered0558","":"ordered0559","":"ordered0562","":"ordered0563","":"ordered0567","":"ordered0572","":"ordered0573","":"ordered0577","":"ordered0578","":"ordered0579","":"ordered0580","":"ordered0581","":"ordered0582","":"ordered0583","":"ordered0584","":"ordered0586","":"ordered0587","":"ordered0588","":"ordered0591","":"ordered0592","":"ordered0601","":"ordered0602","":"ordered0603","":"ordered0604","":"ordered0605","":"ordered0606","":"ordered0607","":"ordered0609","":"ordered0611","":"ordered0612","":"ordered0617","":"ordered0618","":"ordered0619","":"ordered0620","":"ordered0621","":"ordered0622","":"ordered0628","":"ordered0629","":"ordered0630","":"ordered0631","":"ordered0634","":"ordered0635","":"ordered0636","":"ordered0637","":"ordered0638","":"ordered0639","":"ordered0640","":"ordered0641","":"ordered0650","":"ordered0651","":"ordered0653","":"ordered0654","":"ordered0655","":"ordered0656","":"ordered0657","":"ordered0658","":"ordered0660","":"ordered0661","":"ordered0664","":"ordered0665","":"ordered0666","":"ordered0670","":"ordered0671","":"ordered0672","":"ordered0673","":"ordered0675","":"ordered0679","":"ordered0680","":"ordered0681","":"ordered0682","":"ordered0684","":"ordered0696","":"ordered0709","":"ordered0711","":"ordered0713","":"ordered0758","":"ordered0760","":"ordered0761","":"ordered0763","":"ordered0764","":"ordered0765","":"ordered0766","":"ordered0767","":"ordered0768","":"ordered0769","":"ordered0770","":"ordered0771","":"ordered0773","":"ordered0774","":"ordered0801","":"ordered0802","":"ordered0805","":"ordered0806","":"ordered0808","":"ordered0811","":"ordered0812","":"ordered0813","":"ordered0814","":"ordered0815","":"ordered0819","":"ordered0820","":"ordered0824","":"ordered0826","":"ordered0827","":"ordered0828","":"ordered0831","":"ordered0832","":"ordered0833","":"ordered0834","":"ordered0835","":"ordered0836","":"ordered0837","":"ordered0839","":"ordered0840","":"ordered0841","":"ordered0842","":"ordered0843","":"ordered0844","":"ordered0845","":"ordered0846","":"ordered0847","":"ordered0852","":"ordered0855","":"ordered0861","":"ordered0867","":"ordered0869","":"ordered0875","":"ordered0881","":"ordered0887","":"ordered0893","":"ordered0899","":"ordered0905","":"ordered0911","":"ordered0917","":"ordered0923","":"ordered0929","":"ordered0935","":"ordered0936","":"ordered0938","":"ordered0939","":"ordered0941","":"ordered0942","":"ordered0943","":"ordered0946","":"ordered0949","":"ordered0950","":"ordered0951","":"ordered0952","":"ordered0953","":"ordered0956","":"ordered0962","":"ordered0968","":"ordered0974","":"ordered1005","":"ordered1008","":"ordered1021","":"ordered1028","":"ordered1040","":"ordered1046","":"ordered1058","":"ordered1064","":"ordered1070","":"ordered1076","":"ordered1088","":"ordered1096","":"ordered1097","":"ordered1103","":"ordered1104","":"ordered1105","":"ordered1106","":"ordered1108","":"ordered1119","":"ordered1131","":"ordered1137","":"ordered1138","":"ordered1145","":"ordered1157","":"ordered1168","":"ordered1169","":"ordered1170","":"ordered1171","":"ordered1173","":"ordered1174","":"ordered1176","":"ordered1178","":"ordered1180","":"ordered1182","":"ordered1183","":"ordered1184","":"ordered1187","":"ordered1188","":"ordered1189","":"ordered1190","":"ordered1191","":"ordered1192","":"ordered1193","":"ordered1195","":"ordered1197","":"ordered1198","":"ordered1199","":"ordered1200","":"ordered1202","":"ordered1204","":"ordered1205","":"ordered1206","":"ordered1217","":"ordered1218","":"ordered1226","":"ordered1227","":"ordered1228","":"ordered1229","":"ordered1230","":"ordered1232","":"ordered1233","":"ordered1255","":"ordered1262","":"ordered1265","":"ordered1266","":"ordered1267","":"ordered1268","":"ordered1274","":"ordered1276","":"ordered1279","":"ordered1282","":"ordered1283","":"ordered1284","":"ordered1285","":"ordered1287","":"ordered1288","":"ordered1291","":"ordered1292","":"ordered1293","":"ordered1306","":"ordered1309","":"ordered1313","":"ordered1314","":"ordered1315","":"ordered1316","":"ordered1325","":"ordered1326","":"ordered1333","":"ordered1336","":"ordered1339","":"ordered1343","":"ordered1344","":"ordered1345","":"ordered1346","":"ordered1347","":"ordered1348","":"ordered1364","":"ordered1365","":"ordered1366","":"ordered1367","":"ordered1368","":"ordered1369","":"ordered1370","":"ordered1371","":"ordered1372","":"ordered1373","":"ordered1374","":"ordered1375","":"ordered1451","":"ordered1452","":"ordered1453","":"ordered1457","":"ordered1458","":"ordered1459","":"ordered1460","":"ordered1465","":"ordered1466","":"ordered1468","":"ordered1469","":"ordered1471","":"ordered1474","":"ordered1475","":"ordered1476","":"ordered1478","":"ordered1480","":"ordered1482","":"ordered1484","":"ordered1485","":"ordered1486","":"ordered1488","":"ordered1489","":"ordered1490","":"ordered1491","":"ordered1493","":"ordered1496","":"ordered1498","":"ordered1501","":"ordered1504","":"ordered1505","":"ordered1506","":"ordered1507","":"ordered1511","":"ordered1526","":"ordered1538","":"ordered1549","":"ordered1576","":"ordered1606","":"ordered1612","":"ordered1615","":"ordered1616","":"ordered1617","":"ordered1619","":"ordered1621","":"ordered1624","":"ordered1627","":"ordered1629","":"ordered1630","":"ordered1631","":"ordered1633","":"ordered1635","":"ordered1637","":"ordered1638","":"ordered1646","":"ordered1659","":"ordered1660","":"ordered1662","":"ordered1667","":"ordered1668","":"ordered1673","":"ordered1699","":"ordered1713","":"ordered1714","":"ordered1715","":"ordered1716","":"ordered1717","":"ordered1718","":"ordered1720"}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(2),i=n(o),a=r(44),s=n(a),d=r(52),c=n(d),u=function(){function e(){(0,s["default"])(this,e),this._lastPromise=i["default"].resolve(),this._pending=[]}return(0,c["default"])(e,[{
key:"enqueue",value:function(e){var t=this;e["catch"](_.noop);var r=function(){return e};this._lastPromise=this._lastPromise.then(r,r);var n=this._lastPromise.cancellable();return this._pending.push(n),n["finally"](function(){t._pending.length>0&&t._pending[0]===n&&t._pending.shift()})}},{key:"cancelAll",value:function(e){var t=this._pending;this._pending=[],t.forEach(function(t){t.cancel(e)})}}]),e}();e.exports=u},function(e,t){"use strict";var r=[.1,.82,.25,1],n=[.69,0,.79,.14],o=[.84,.07,.93,.46];Velocity.RegisterEffect("attach.Down",{defaultDuration:300,calls:[[{opacity:[1,0],translateY:["0%","-100%"],scaleX:[1,.3],scaleY:[1,.3]},1,{easing:[300,22]}]]}),Velocity.RegisterEffect("attach.Up",{defaultDuration:200,easing:n,calls:[[{opacity:[0,1],translateY:["-150%","0%"],scaleX:[.3,1],scaleY:[.3,1]},1,{easing:[.33,0,.39,.91]}]]}),Velocity.RegisterEffect("dropdown.Down",{defaultDuration:200,easing:r,calls:[[{opacity:[1,0],translateY:["0%","-15px"]},1,{easing:r}]]});var i={pop:{duration:200,easing:o,enter:{props:{scaleX:[1,.5],scaleY:[1,.5],opacity:[1,0]}},leave:{props:{scaleX:[.5,1],scaleY:[.5,1],opacity:[0,1]}}},slide:{duration:200,eaing:r,enter:{props:"slideDown"},leave:{props:"slideUp"}},scaleY:{duration:200,easing:r,enter:{props:{scaleY:[1,0],transformOrigin:"center"}},leave:{props:{scaleY:[0,1],transformOrigin:"center"}}},scale:{duration:500,easing:r,enter:{props:{scaleX:[1,0],scaleY:[1,0]}},leave:{props:{scaleX:[0,1],scaleY:[0,1]}}},fade:{duration:200,easing:r,enter:{props:{opacity:[1,0]}},leave:{props:{opacity:[0,1]}}},"fade-fast":{easing:"ease",enter:{props:{opacity:[1,0]},duration:150},leave:{props:{opacity:[0,1]},duration:100}},fade_sifo:{enter:{props:{opacity:[1,0]},duration:250},leave:{props:{opacity:[0,1]},duration:100}},capture:{enter:{props:{opacity:[1,0]},duration:350},leave:[{selector:".snapshot",props:"transition.bounceDownOut",duration:700},{selector:".webcam",props:{opacity:[0,1]},duration:100,easing:"ease"}]},butterbar:{enter:{props:"slideDown",easing:r,duration:700},leave:{props:"slideUp",easing:n,duration:350}},settings:{enter:[{props:"slideDown",easing:[0,0,.2,1],duration:300},{selector:".controls-container",props:{opacity:[1,0],translateY:["0%","-100%"]},easing:[0,0,.2,1],duration:350}],leave:[{props:"slideUp",easing:o,duration:200},{selector:".controls-container",props:{opacity:[0,1]},duration:200}]},modal:{enter:[{props:{opacity:[1,0]},duration:300,easing:"easeOut"},{selector:".popup",props:{scaleX:[1,0],scaleY:[1,0],opacity:[1,1]},easing:[.19,.73,.28,1],delay:180,duration:200},{selector:".popup",props:{opacity:[0,0]},duration:180}],leave:[{props:{opacity:[0,1]},duration:300,easing:n,delay:100},{selector:".popup",props:{scaleX:[0,1],scaleY:[0,1]},easing:n,duration:200}]},"modal-flow":{enter:[{selector:".backdrop",props:{opacity:[1,0]},duration:300,easing:"easeOut"},{selector:".popup",props:{scaleX:[1,0],scaleY:[1,0],opacity:[1,1]},easing:[.19,.73,.28,1],delay:180,duration:200},{selector:".popup",props:{opacity:[0,0]},duration:180}],leave:[{selector:".backdrop",props:{opacity:[0,1]},duration:300,easing:n,delay:100},{selector:".popup",props:{scaleX:[0,1],scaleY:[0,1]},easing:n,duration:200}]},"flow-transition-modal-push":{duration:300,easing:r,enter:{props:{opacity:[1,0]}},leave:{props:{opacity:[0,1]}}},"flow-transition-modal-pop":{duration:300,easing:r,enter:{props:{opacity:[1,0]}},leave:{props:{opacity:[0,1]}}},"flow-transition-drawer-push":{duration:300,easing:r,enter:{props:{translateX:["0%","100%"]}},leave:{props:{translateX:["-100%","0%"]}}},"flow-transition-drawer-pop":{duration:300,easing:r,enter:{props:{translateX:["0%","-100%"]}},leave:{props:{translateX:["100%","0%"]}}},"drawer-left":{enter:[{props:{translateX:["0%","-100%"]},duration:300,easing:r},{selector:".drawer-title",props:{translateX:[0,-50],opacity:[1,0]},duration:500,easing:"easeOut"}],leave:[{props:{translateX:["-100%","0%"]},duration:300,easing:n}]},"drawer-left-rtl":{enter:[{props:{translateX:["0%","100%"]},duration:300,easing:r},{selector:".drawer-title",props:{translateX:[0,50],opacity:[1,0]},duration:500,easing:"easeOut"}],leave:[{props:{translateX:["100%","0%"]},duration:300,easing:n}]},dropdown:{duration:300,easing:r,enter:[{selector:".menu-item",props:"dropdown.Down",delay:50,duration:375,stagger:25,drag:!0},{props:{scale:[1,0]}},{props:{opacity:[1,0]},duration:100}],leave:{props:{scaleX:[0,1],scaleY:[0,1],opacity:[0,1]}}},"dropdown-picker":{duration:300,easing:r,enter:[{selector:".menu-item",props:{opacity:[1,0]},delay:50,duration:200},{selector:".nib",props:{opacity:[1,0],rotateZ:["45deg"],translateY:["0%","-100%"]}},{props:{scale:[1,0]}},{props:{opacity:[1,0]},duration:100}],leave:[{selector:".menu-item",props:{opacity:[1,0]},duration:100},{selector:".nib",props:{opacity:[1,0]},duration:150},{props:{scaleX:[0,1],scaleY:[0,1],opacity:[0,1]}}]},"profile-viewer":{duration:500,easing:[.1,1.03,.28,.99],leave:[{delay:400,props:{opacity:[0,1]}},{selector:".profile-viewer",props:{borderRadius:["50%","0%"]}}]},"media-viewer":{duration:300,easing:[.1,1.03,.28,.99],leave:{selector:".media-viewer",props:{opacity:[0,1]}}},menu:{enter:{selector:".menu-icons-item",props:"attach.Down",duration:700,stagger:30,drag:!0},leave:{selector:".menu-icons-item",props:"attach.Up",stagger:30}},emoji:{duration:300,easing:r,enter:{props:{height:[291,0]}},leave:{props:{height:[0,291]}}},ptt:{enter:[{selector:".btn-border",easing:"easeInOut",props:{scaleX:[1,.5],scaleY:[1,.5],opacity:[1,0]},duration:250,delay:100},{selector:".ptt-counter",easing:"easeInOut",props:{scaleX:[1,.8],scaleY:[1,.8],opacity:[1,0]},duration:250,delay:100},{props:{opacity:[1,0]},duration:150,easing:r}],leave:[{selector:".btn-border",easing:r,props:{scaleX:[.5,1],scaleY:[.5,1],opacity:[0,1]},duration:250},{selector:".ptt-counter",easing:r,props:{scaleX:[.5,1],scaleY:[.5,1],opacity:[0,1]},duration:250},{props:{opacity:[0,1]},duration:300,easing:r}]},"slide-left":{duration:300,easing:r,enter:{props:{translateX:["0%","100%"]}},leave:{props:{translateX:["100%","0%"]}}},"slide-left-rtl":{duration:300,easing:r,enter:{props:{translateX:["0%","-100%"]}},leave:{props:{translateX:["-100%","0%"]}}},"slide-forward":{duration:200,easing:[.19,.93,.18,.99],enter:{props:{translateX:["0%","100%"]}},leave:{props:{translateX:["-100%","0%"]}}},"slide-back":{duration:200,easing:[.19,.93,.18,.99],enter:{props:{translateX:["0%","-100%"]}},leave:{props:{translateX:["100%","0%"]}}},"media-slide-forward":{duration:200,easing:[.19,.93,.18,.99],enter:[{selector:".media-element-container",props:{translateX:["0%","100%"]}},{selector:".media-caption",props:{opacity:[1,0],translateX:["0%","100%"]}}],leave:[{selector:".media-element-container",props:{translateX:["-100%","0%"]}},{selector:".media-caption",props:{opacity:[0,1],translateX:["-100%","0%"]}}]},"media-slide-back":{duration:200,easing:[.19,.93,.18,.99],enter:[{selector:".media-element-container",props:{translateX:["0%","-100%"]}},{selector:".media-caption",props:{opacity:[1,0],translateX:["0%","-100%"]}}],leave:[{selector:".media-element-container",props:{translateX:["100%","0%"]}},{selector:".media-caption",props:{opacity:[0,1],translateX:["100%","0%"]}}]},"slide-down-date":{duration:300,enter:{props:{translateY:["0%","-130%"],opacity:[1,0]},easing:r},leave:{props:{translateY:["-130%","0%"],opacity:[0,1]},easing:n}},"pop-fast":{duration:75,easing:[.14,.62,.33,.9],enter:[{selector:".js-context-icon",props:{translateX:["0%","100%"]}},{props:{opacity:[1,.5]}}],leave:[{selector:".js-context-icon",props:{translateX:["100%","0%"]}},{props:{opacity:[0,1]}}]},"pop-fast-chat":{duration:75,easing:[.14,.62,.33,.9],enter:[{props:{width:["20px","5px"],opacity:[1,.5]}}],leave:[{props:{width:["5px","20px"],opacity:[0,1]}}]},"toast-transition":{duration:300,easing:r,cleanOnComplete:!0,enter:{props:{translateY:["0%","100%"],opacity:[1,0]}},leave:{props:{opacity:[0,1]}}},"slide-up-down":{duration:300,easing:r,enter:{props:{translateY:["0%","100%"]}},leave:{props:{translateY:["100%","0%"]}}},"slide-up":{duration:300,easing:r,enter:{props:{translateY:["0%","100%"]}},leave:{props:{translateY:["100%","0%"]}}},"slide-down":{duration:300,easing:r,enter:{props:{translateY:["0%","100%"]}},leave:{props:{translateY:["100%","0%"]}}},none:{},btn:{duration:300,easing:r,enter:{props:{scale:[1,0],opacity:[1,0]}},leave:{props:{scale:[0,1],opacity:[0,1]}}},pop_delay:{duration:300,enter:[{props:{scale:[1,0],opacity:[1,0]},delay:500,easing:r}],leave:{props:"transition.expandOut",easing:n}},"delay-leave":{duration:1,enter:{props:{opacity:[1,1]}},leave:{props:{opacity:[1,1]},delay:300}},"media-caption":{enter:[{props:{opacity:[0,0],translateY:["100%","100%"]},duration:200},{props:{opacity:[1,0],translateY:["0%","100%"]},easing:r,delay:200,duration:300}],leave:{props:{opacity:[0,1]},easing:"ease",duration:300}},"media-scale":{enter:[{selector:".media-caption",props:{opacity:[0,0],translateY:["100%","100%"]},duration:200},{selector:".media-caption",props:{opacity:[1,0],translateY:["0%","100%"]},easing:r,delay:200,duration:300},{selector:".media-element-container",props:{opacity:[0,0]},duration:200},{selector:".media-element-container",props:{opacity:[1,0],scale:[1,.625],display:"flex"},delay:200,duration:300,easing:r}],leave:[{selector:".media-caption",props:{opacity:[0,1]},easing:"ease",duration:300},{selector:".media-element-container",props:{opacity:[0,1],scale:[.5,1],display:"flex"},delay:0,duration:200,easing:n}]},"thumb-scale":{duration:400,easing:r,enter:{props:"transition.expandIn"},leave:{props:"transition.expandOut"}},"default":{duration:300,enter:{props:{opacity:[1,0]}},leave:{props:{opacity:[0,1]}}}};e.exports=i},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(2),i=n(o),a=r(1),s=r(12),d=r(55),c=r(232),u={version:"11",M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29},msgFindQuery:function(e,t){var r=this;return new i["default"](function(n,o){var i,c=function(i){r.BinaryProtocol.read(i).then(function(o){var i=[],s=r.N.children(o);if(a.logColor("green","bin-recv: response,msg",o)(),"response"===r.N.tag(o)&&("message"===r.N.attr("type",o)||"star"===r.N.attr("type",o)||"search"===r.N.attr("type",o)||"media_message"===r.N.attr("type",o))){if(_.isArray(s)){var d,c=s.length;for(d=0;d<c;d++){var u=r.parseMsg(s[d],"response");if(u)switch(e){case"star":("gif"!==t.media||"video"===u.type&&u.isGif)&&i.push(u);break;case"media":"document"===t.media&&"document"===u.type?i.push(u):"url"===t.media&&"chat"===u.type&&"url"===u.subtype?i.push(u):t.media||i.push(u);break;default:i.push(u)}}}"search"===r.N.attr("type",o)&&(i={eof:"true"===r.N.attr("last",o),messages:i})}n(i)})["catch"](o)},u="";switch(e){case"after":t.id||(e="before");case"before":i={type:"message",kind:e,jid:t.remote,count:t.count.toString(),index:t.id,owner:"undefined"==typeof t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},u=[t instanceof d?t.toString():t.remote,t.count].join();break;case"search":i={type:"search",search:t.searchTerm,page:t.page.toString(),count:t.count.toString(),jid:t.remote},u=["search",t.searchTerm,t.page,t.count,t.jid].join();break;case"star":i={type:"star",media:"gif"===t.media?t.media:void 0,chat:t.chat,count:t.count.toString(),jid:t.remote,index:t.id,owner:"undefined"==typeof t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},u="starred";break;case"media":i={type:"media_message",media:"document"===t.media||"url"===t.media?t.media:void 0,count:t.count.toString(),kind:t.direction,jid:t.remote,index:t.id,owner:"undefined"==typeof t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},u="media"}var l=r.queryNode(i,void 0);r.BinaryProtocol.write(l).then(function(e){s.sendEphemeral({data:e,onSend:r.binWrap(c,n),onDrop:r.wrap(o),binaryOpts:{debugString:"query,message,"+u,debugObj:l,metric:r.M.QUERY_SEARCH,ackRequest:!1}})})["catch"](o)})},parseMsgCallLog:function(e){if("call_log"===this.N.tag(e)){var t=parseInt(this.N.attr("t",e),10)||0,r=this.N.attr("id",e),n=this.N.attr("jid",e),o="true"===this.N.attr("owner",e),i=this.N.attr("participant",e),s=this.N.attr("type",e),c="video"===this.N.attr("kind",e);switch(s){case"miss":c&&(s="miss_video")}try{var u=new d({fromMe:o,remote:n,id:r,participant:i})}catch(l){return void a.error("drop: cannot create MsgKey: "+l.stack)()}var p={id:u,t:t,participant:i,type:"call_log",subtype:s,from:o?Store.Conn.me:n,to:o?n:Store.Conn.me},f=[!r,!t,!n,"miss"!==s&&"miss_video"!==s];return this.dropIfConditionMet(f,p)}},queryVCard:function(e){var t=this;return new i["default"](function(r,n){var o=function(e){t.BinaryProtocol.read(e).then(function(e){var n=[],o=t.N.children(e);if("response"===t.N.tag(e)&&"vcard"===t.N.attr("type",e)&&_.isArray(o))for(var i=o.length,a=0;a<i;a++){var s=t.parseMsg(o[a],"response");!s||"vcard"!==s.type&&"multi_vcard"!==s.type||n.push(s)}r(n)})["catch"](n)},i=t.queryNode({type:"vcard",jid:e},void 0);t.BinaryProtocol.write(i).then(function(a){s.sendEphemeral({data:a,onSend:t.binWrap(o,r),onDrop:t.wrap(n),binaryOpts:{debugString:"query,vcard,"+e,debugObj:i,metric:t.M.QUERY_VCARD,ackRequest:!1}})})["catch"](n)})}};e.exports=_.defaults(u,c)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.data;this.data=t,this.isToPhone=t instanceof ArrayBuffer,this.tag=e.tag,this.clientCacheable=!!e.clientCacheable,this.retryOn5xx=!!e.retryOn5xx,this.onSend=e.onSend,this.onDrop=e.onDrop,this.binaryOpts=e.binaryOpts,this.on5xx=e.on5xx,this.resendGuard=e.resendGuard,this.state=d.NEW,this.age=0,this.resends=0,this.resendTimer=0,this.ephemeral=!!e.ephemeral,this.ignore=!!e.ignore}var i=r(18),a=n(i),s=r(13),d={NEW:"REQUEST_STATE_NEW",SENT:"REQUEST_STATE_SENT",WEBDACKED:"REQUEST_STATE_WEBDACKED",WILL_RETRY:"REQUEST_STATE_WILL_RETRY"};o.prototype={getTag:function(){return this.tag||(this.onSend?this.onSend.tag:void 0)},toString:function(){var e=this.data;return this.binaryOpts?this.binaryOpts.debugString:_.isArray(e)?0===e.length?"[]":1===e.length?"["+e[0]+"]":"query"===e[0]||"action"===e[0]?"["+e[0]+", "+e[1]+(e.length>2?", ...":"")+"]":void 0:_.isObject(e)?"{...}":""+e},serialize:function(){var e=this.tag;if(this.binaryOpts){var t=this.binaryOpts,r=t.metric?t.metric:0,n=(this.ignore?0:1)<<7|(!this.ignore&&t.ackRequest?1:0)<<6|(t.available===!0?1:0)<<5|(t.available===!1?1:0)<<4|(t.expires?1:0)<<3|(t.skipOffline?1:0)<<2;return s.build(e,",",r,n,this.data).readBuffer()}var o=_.isString(this.data)?this.data:(0,a["default"])(this.data);return e+",,"+o}},o.STATE=d,e.exports=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){function n(){for(var e in u)this[e]=u[e]}function o(e){this.all=new n,e&&this.set(e),this._validate(),"function"==typeof r&&r.apply(this,arguments)}function d(){}if("string"!=typeof e)throw new TypeError("TypeHash.define given bad name "+this.name);var u={},l=[],p={$className:{value:e},$requiredProps:{value:l},$defaultValues:{value:u}};for(var f in t){var h=t[f];if("string"!=typeof h&&"function"!=typeof h||(h={type:h}),!h||"object"!=typeof h)throw new Error(e+" specified with non-object "+h);u[f]=h["default"],h.required&&l.push(f),p[f]={enumerable:!0,get:a(f,h),set:s(f,h)}}if(r)if("object"==typeof r)d.prototype=(0,c["default"])(i.prototype,r),o.prototype=(0,c["default"])(d.prototype,p);else if(r.prototype instanceof i)o.prototype=(0,c["default"])(r.prototype,p);else{var m=i.prototype;for(var _ in m)p[_]=m[_];o.prototype=(0,c["default"])(r.prototype,p)}else o.prototype=(0,c["default"])(i.prototype,p);return o}function i(){}function a(e,t){return t.get||function(){return this.all[e]}}function s(e,t){var r=t.type||"any",n=!!t.required,o=!!t.allowNull,i=t.set,a=!!t.get;return function(t){if(a||t!==this.all[e]){if(void 0===t){if(n)throw new TypeError(this.$className+"."+e+" may not be undefined")}else if(null===t){if(!o)throw new TypeError(this.$className+"."+e+" may not be null")}else if("function"==typeof r){if(!r(t))throw new TypeError(this.$className+"."+e+" type-validator fails "+t)}else if("any"!==r&&typeof t!==r)throw new TypeError(this.$className+"."+e+" requires type "+r+", got "+t);i&&i.call(this,t),a||(this.all[e]=t)}}}var d=r(87),c=n(d);i.prototype={set:function(e){for(var t in e)this[t]=e[t]},_validate:function(){for(var e=this.$requiredProps,t=this.all,r=0;r<e.length;r++){var n=e[r];if(void 0===t[n])throw new TypeError(this.$className+"."+n+" is undefined")}}},i.define=o,e.exports=i},function(e,t,r){e.exports={"default":r(503),__esModule:!0}},function(e,t,r){e.exports={"default":r(504),__esModule:!0}},function(e,t,r){e.exports={"default":r(509),__esModule:!0}},function(e,t,r){e.exports={"default":r(512),__esModule:!0}},function(e,t,r){e.exports={"default":r(513),__esModule:!0}},function(e,t,r){e.exports={"default":r(515),__esModule:!0}},function(e,t,r){e.exports={"default":r(516),__esModule:!0}},function(e,t,r){e.exports={"default":r(517),__esModule:!0}},function(e,t,r){r(84),r(536),e.exports=r(9).Array.from},function(e,t,r){r(105),r(84),e.exports=r(534)},function(e,t,r){r(105),r(84),e.exports=r(535)},,function(e,t,r){r(538),e.exports=r(9).Object.assign},function(e,t,r){r(539);var n=r(9).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,r){r(540);var n=r(9).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},function(e,t,r){r(541);var n=r(9).Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},function(e,t,r){r(542),e.exports=r(9).Object.getPrototypeOf},function(e,t,r){r(543),e.exports=r(9).Object.keys},function(e,t,r){r(544),e.exports=r(9).Object.setPrototypeOf},function(e,t,r){r(547),e.exports=r(9).Object.values},function(e,t,r){r(215),r(84),r(105),r(545),e.exports=r(9).Promise},function(e,t,r){r(550),e.exports=r(9).setImmediate},function(e,t,r){r(546),r(215),r(548),r(549),e.exports=r(9).Symbol},function(e,t,r){r(84),r(105),e.exports=r(156).f("iterator")},function(e,t){e.exports=function(){}},function(e,t,r){var n=r(38),o=r(142),i=r(533);e.exports=function(e){return function(t,r,a){var s,d=n(t),c=o(d.length),u=i(a,c);if(e&&r!=r){for(;c>u;)if(s=d[u++],s!=s)return!0}else for(;c>u;u++)if((e||u in d)&&d[u]===r)return e||u||0;return!e&&-1}}},function(e,t,r){"use strict";var n=r(35),o=r(90);e.exports=function(e,t,r){t in e?n.f(e,t,o(0,r)):e[t]=r}},function(e,t,r){var n=r(61),o=r(148),i=r(89);e.exports=function(e){var t=n(e),r=o.f;if(r)for(var a,s=r(e),d=i.f,c=0;s.length>c;)d.call(e,a=s[c++])&&t.push(a);return t}},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){"use strict";var n=r(141),o=r(90),i=r(104),a={};r(57)(a,r(16)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(a,{next:o(1,r)}),i(e,t+" Iterator")}},function(e,t,r){var n=r(61),o=r(38);e.exports=function(e,t){for(var r,i=o(e),a=n(i),s=a.length,d=0;s>d;)if(i[r=a[d++]]===t)return r}},function(e,t,r){var n=r(23),o=r(152).set,i=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,d="process"==r(88)(a);e.exports=function(){var e,t,r,c=function(){var n,o;for(d&&(n=a.domain)&&n.exit();e;){o=e.fn,e=e.next;try{o()}catch(i){throw e?r():t=void 0,i}}t=void 0,n&&n.enter()};if(d)r=function(){a.nextTick(c)};else if(i){var u=!0,l=document.createTextNode("");new i(c).observe(l,{characterData:!0}),r=function(){l.data=u=!u}}else if(s&&s.resolve){var p=s.resolve();r=function(){p.then(c)}}else r=function(){o.call(n,c)};return function(n){var o={fn:n,next:void 0};t&&(t.next=o),e||(e=o,r()),t=o}}},function(e,t,r){"use strict";var n=r(61),o=r(148),i=r(89),a=r(83),s=r(213),d=Object.assign;e.exports=!d||r(69)(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=d({},e)[r]||Object.keys(d({},t)).join("")!=n})?function(e,t){for(var r=a(e),d=arguments.length,c=1,u=o.f,l=i.f;d>c;)for(var p,f=s(arguments[c++]),h=u?n(f).concat(u(f)):n(f),m=h.length,_=0;m>_;)l.call(f,p=h[_++])&&(r[p]=f[p]);return r}:d},function(e,t,r){var n=r(35),o=r(37),i=r(61);e.exports=r(47)?Object.defineProperties:function(e,t){o(e);for(var r,a=i(t),s=a.length,d=0;s>d;)n.f(e,r=a[d++],t[r]);return e}},function(e,t,r){var n=r(38),o=r(242).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return o(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?s(e):o(n(e))}},function(e,t,r){var n=r(61),o=r(38),i=r(89).f;e.exports=function(e){return function(t){for(var r,a=o(t),s=n(a),d=s.length,c=0,u=[];d>c;)i.call(a,r=s[c++])&&u.push(e?[r,a[r]]:a[r]);return u}}},function(e,t,r){var n=r(67),o=r(37),i=function(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=r(66)(Function.call,r(147).f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,r){return i(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:i}},function(e,t,r){var n=r(37),o=r(144),i=r(16)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[i])?t:o(r)}},function(e,t,r){var n=r(153),o=r(140);e.exports=function(e){return function(t,r){var i,a,s=String(o(t)),d=n(r),c=s.length;return d<0||d>=c?e?"":void 0:(i=s.charCodeAt(d),i<55296||i>56319||d+1===c||(a=s.charCodeAt(d+1))<56320||a>57343?e?s.charAt(d):i:e?s.slice(d,d+2):(i-55296<<10)+(a-56320)+65536)}}},function(e,t,r){var n=r(153),o=Math.max,i=Math.min;e.exports=function(e,t){return e=n(e),e<0?o(e+t,0):i(e,t)}},function(e,t,r){var n=r(37),o=r(157);e.exports=r(9).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,r){var n=r(139),o=r(16)("iterator"),i=r(71);e.exports=r(9).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(n(t))}},function(e,t,r){"use strict";var n=r(66),o=r(25),i=r(83),a=r(240),s=r(239),d=r(142),c=r(520),u=r(157);o(o.S+o.F*!r(241)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,o,l,p=i(e),f="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,_=void 0!==m,g=0,v=u(p);if(_&&(m=n(m,h>2?arguments[2]:void 0,2)),void 0==v||f==Array&&s(v))for(t=d(p.length),r=new f(t);t>g;g++)c(r,g,_?m(p[g],g):p[g]);else for(l=v.call(p),r=new f;!(o=l.next()).done;g++)c(r,g,_?a(l,m,[o.value,g],!0):o.value);return r.length=g,r}})},function(e,t,r){"use strict";var n=r(518),o=r(440),i=r(71),a=r(38);e.exports=r(214)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,r):"values"==t?o(0,e[r]):o(0,[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t,r){var n=r(25);n(n.S+n.F,"Object",{assign:r(526)})},function(e,t,r){var n=r(25);n(n.S,"Object",{create:r(141)})},function(e,t,r){var n=r(25);n(n.S+n.F*!r(47),"Object",{defineProperty:r(35).f})},function(e,t,r){var n=r(38),o=r(147).f;r(149)("getOwnPropertyDescriptor",function(){return function(e,t){return o(n(e),t)}})},function(e,t,r){var n=r(83),o=r(243);r(149)("getPrototypeOf",function(){return function(e){return o(n(e))}})},function(e,t,r){var n=r(83),o=r(61);r(149)("keys",function(){return function(e){return o(n(e))}})},function(e,t,r){var n=r(25);n(n.S,"Object",{setPrototypeOf:r(530).set})},function(e,t,r){"use strict";var n,o,i,a=r(108),s=r(23),d=r(66),c=r(139),u=r(25),l=r(67),p=r(144),f=r(427),h=r(422),m=r(531),_=r(152).set,g=r(525)(),v="Promise",y=s.TypeError,b=s.process,w=s[v],b=s.process,E="process"==c(b),S=function(){},N=!!function(){try{var e=w.resolve(1),t=(e.constructor={})[r(16)("species")]=function(e){e(S,S)};return(E||"function"==typeof PromiseRejectionEvent)&&e.then(S)instanceof t}catch(n){}}(),C=function(e,t){return e===t||e===w&&t===i},T=function(e){var t;return!(!l(e)||"function"!=typeof(t=e.then))&&t},k=function(e){return C(w,e)?new $(e):new o(e)},$=o=function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw y("Bad Promise constructor");t=e,r=n}),this.resolve=p(t),this.reject=p(r)},A=function(e){try{e()}catch(t){return{error:t}}},x=function(e,t){if(!e._n){e._n=!0;var r=e._c;g(function(){for(var n=e._v,o=1==e._s,i=0,a=function(t){var r,i,a=o?t.ok:t.fail,s=t.resolve,d=t.reject,c=t.domain;try{a?(o||(2==e._h&&I(e),e._h=1),a===!0?r=n:(c&&c.enter(),r=a(n),c&&c.exit()),r===t.promise?d(y("Promise-chain cycle")):(i=T(r))?i.call(r,s,d):s(r)):d(n)}catch(u){d(u)}};r.length>i;)a(r[i++]);e._c=[],e._n=!1,t&&!e._h&&M(e)})}},M=function(e){_.call(s,function(){var t,r,n,o=e._v;if(O(e)&&(t=A(function(){E?b.emit("unhandledRejection",o,e):(r=s.onunhandledrejection)?r({promise:e,reason:o}):(n=s.console)&&n.error&&n.error("Unhandled promise rejection",o)}),e._h=E||O(e)?2:1),e._a=void 0,t)throw t.error})},O=function(e){if(1==e._h)return!1;for(var t,r=e._a||e._c,n=0;r.length>n;)if(t=r[n++],t.fail||!O(t.promise))return!1;return!0},I=function(e){_.call(s,function(){var t;E?b.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},R=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),x(t,!0))},P=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw y("Promise can't be resolved itself");(t=T(e))?g(function(){var n={_w:r,_d:!1};try{t.call(e,d(P,n,1),d(R,n,1))}catch(o){R.call(n,o)}}):(r._v=e,r._s=1,x(r,!1))}catch(n){R.call({_w:r,_d:!1},n)}}};N||(w=function(e){f(this,w,v,"_h"),p(e),n.call(this);try{e(d(P,this,1),d(R,this,1))}catch(t){R.call(this,t)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=r(429)(w.prototype,{then:function(e,t){var r=k(m(this,w));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=E?b.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&x(this,!1),r.promise},"catch":function(e){return this.then(void 0,e)}}),$=function(){var e=new n;this.promise=e,this.resolve=d(P,e,1),this.reject=d(R,e,1)}),u(u.G+u.W+u.F*!N,{Promise:w}),r(104)(w,v),r(441)(v),i=r(9)[v],u(u.S+u.F*!N,v,{reject:function(e){var t=k(this),r=t.reject;return r(e),t.promise}}),u(u.S+u.F*(a||!N),v,{resolve:function(e){if(e instanceof w&&C(e.constructor,this))return e;var t=k(this),r=t.resolve;return r(e),t.promise}}),u(u.S+u.F*!(N&&r(241)(function(e){w.all(e)["catch"](S)})),v,{all:function(e){var t=this,r=k(t),n=r.resolve,o=r.reject,i=A(function(){var r=[],i=0,a=1;h(e,!1,function(e){var s=i++,d=!1;r.push(void 0),a++,t.resolve(e).then(function(e){d||(d=!0,r[s]=e,--a||n(r))},o)}),--a||n(r)});return i&&o(i.error),r.promise},race:function(e){var t=this,r=k(t),n=r.reject,o=A(function(){h(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o&&n(o.error),r.promise}})},function(e,t,r){"use strict";var n=r(23),o=r(60),i=r(47),a=r(25),s=r(245),d=r(428).KEY,c=r(69),u=r(151),l=r(104),p=r(109),f=r(16),h=r(156),m=r(155),_=r(524),g=r(521),v=r(439),y=r(37),b=r(38),w=r(154),E=r(90),S=r(141),N=r(528),C=r(147),T=r(35),k=r(61),$=C.f,A=T.f,x=N.f,M=n.Symbol,O=n.JSON,I=O&&O.stringify,R="prototype",P=f("_hidden"),L=f("toPrimitive"),D={}.propertyIsEnumerable,B=u("symbol-registry"),U=u("symbols"),j=u("op-symbols"),W=Object[R],Y="function"==typeof M,F=n.QObject,G=!F||!F[R]||!F[R].findChild,q=i&&c(function(){return 7!=S(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=$(W,t);n&&delete W[t],A(e,t,r),n&&e!==W&&A(W,t,n)}:A,K=function(e){var t=U[e]=S(M[R]);return t._k=e,t},H=Y&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},z=function(e,t,r){return e===W&&z(j,t,r),y(e),t=w(t,!0),y(r),o(U,t)?(r.enumerable?(o(e,P)&&e[P][t]&&(e[P][t]=!1),r=S(r,{enumerable:E(0,!1)})):(o(e,P)||A(e,P,E(1,{})),e[P][t]=!0),q(e,t,r)):A(e,t,r)},V=function(e,t){y(e);for(var r,n=g(t=b(t)),o=0,i=n.length;i>o;)z(e,r=n[o++],t[r]);return e},Q=function(e,t){return void 0===t?S(e):V(S(e),t)},X=function(e){var t=D.call(this,e=w(e,!0));return!(this===W&&o(U,e)&&!o(j,e))&&(!(t||!o(this,e)||!o(U,e)||o(this,P)&&this[P][e])||t)},J=function(e,t){if(e=b(e),t=w(t,!0),e!==W||!o(U,t)||o(j,t)){var r=$(e,t);return!r||!o(U,t)||o(e,P)&&e[P][t]||(r.enumerable=!0),r}},Z=function(e){for(var t,r=x(b(e)),n=[],i=0;r.length>i;)o(U,t=r[i++])||t==P||t==d||n.push(t);return n},ee=function(e){for(var t,r=e===W,n=x(r?j:b(e)),i=[],a=0;n.length>a;)!o(U,t=n[a++])||r&&!o(W,t)||i.push(U[t]);return i};Y||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(r){this===W&&t.call(j,r),o(this,P)&&o(this[P],e)&&(this[P][e]=!1),q(this,e,E(1,r))};return i&&G&&q(W,e,{configurable:!0,set:t}),K(e)},s(M[R],"toString",function(){return this._k}),C.f=J,T.f=z,r(242).f=N.f=Z,r(89).f=X,r(148).f=ee,i&&!r(108)&&s(W,"propertyIsEnumerable",X,!0),h.f=function(e){return K(f(e))}),a(a.G+a.W+a.F*!Y,{Symbol:M});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)f(te[re++]);for(var te=k(f.store),re=0;te.length>re;)m(te[re++]);a(a.S+a.F*!Y,"Symbol",{"for":function(e){return o(B,e+="")?B[e]:B[e]=M(e)},keyFor:function(e){if(H(e))return _(B,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!Y,"Object",{create:Q,defineProperty:z,defineProperties:V,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),O&&a(a.S+a.F*(!Y||c(function(){var e=M();return"[null]"!=I([e])||"{}"!=I({a:e})||"{}"!=I(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!H(e)){for(var t,r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);return t=n[1],"function"==typeof t&&(r=t),!r&&v(t)||(t=function(e,t){if(r&&(t=r.call(this,e,t)),!H(t))return t}),n[1]=t,I.apply(O,n)}}}),M[R][L]||r(57)(M[R],L,M[R].valueOf),l(M,"Symbol"),l(Math,"Math",!0),l(n.JSON,"JSON",!0)},function(e,t,r){var n=r(25),o=r(529)(!1);n(n.S,"Object",{values:function(e){return o(e)}})},function(e,t,r){r(155)("asyncIterator")},function(e,t,r){r(155)("observable")},function(e,t,r){var n=r(25),o=r(152);n(n.G+n.B,{setImmediate:o.set,clearImmediate:o.clear})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){e.exports=r.p+"img/1dd0c40c27f010656c2a2879aee6617c.png"},function(e,t,r){e.exports=r.p+"img/5c49f3dbc84d24fe30a058bb4f9236c3.webp"},function(e,t,r){e.exports=r.p+"img/078ab94e603c36364457effd6ddc0c1f.jpg"},function(e,t,r){e.exports=r.p+"img/08a07e864095c36f94fd71978b3e2ae3.png"},function(e,t,r){e.exports=r.p+"img/853ac1a75706da5413b0011fb9acd6fd.webp"},function(e,t,r){e.exports=r.p+"img/8fbe20fce1eac9d4c059a467bb9a3f8e.jpg"},function(e,t,r){e.exports=r.p+"img/3079d2244cce2474d820a1c8da741b2e.webp"},function(e,t,r){e.exports=r.p+"img/92b8a80d57227e2f342bd57ccf6382d8.png"},function(e,t,r){e.exports=r.p+"img/bfb4ec026499f5b2d80e673a1a3a5bd7.png"},function(e,t,r){e.exports=r.p+"img/9466a20e6d2921a21ac7ab82419be157.jpg"},function(e,t,r){e.exports=r.p+"img/c98cc75f2aa905314d74375a975d2cf2.jpg"},,,function(e,t){e.exports={1:[[10],[["(...)(....)","$1-$2",[]],["(...)(...)(....)","($1) $2-$3",[]]]],7:[[10],[["(...)(..)(..)","$1-$2-$3",["[1-79]"]],["([3489]..)(...)(..)(..)","$1 $2-$3-$4",["[34689]"]],["(7..)(...)(....)","$1 $2 $3",["7"]]]],
20:[[9,10],[["(.)(........?)","$1 $2",["[23]"]],["(...)(...)(....)","$1 $2 $3",["1[012]|[89]00"]],["(..)(.......?)","$1 $2",["1[35]|[4-6]|[89][2-9]"]]]],27:[[9],[["(860)(...)(...)","$1 $2 $3",["860"]],["(..)(...)(....)","$1 $2 $3",["[1-79]|8(?:[0-47]|6[1-9])"]],["(..)(....?)","$1 $2",["8[1-4]"]],["(..)(...)(...?)","$1 $2 $3",["8[1-4]"]]]],30:[[10],[["([27].)(....)(....)","$1 $2 $3",["21|7"]],["(...)(...)(....)","$1 $2 $3",["2[2-9]1|[689]"]],["(2...)(......)","$1 $2",["2[2-9][02-9]"]]]],31:[[9,11],[["([1-578].)(...)(....)","$1 $2 $3",["1[035]|2[0346]|3[03568]|4[0356]|5[0358]|7|8[4578]"]],["([1-5]..)(...)(...)","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"]],["(6)(........)","$1 $2",["6[0-57-9]"]],["(66)(.......)","$1 $2",["66"]],["(14)(....?)","$1 $2",["14"]],["([89]0.)(.....?.?.?)","$1 $2",["80|9"]]]],32:[[9],[["(...)(..)(..)(..)","$1 $2 $3 $4",["4[6-9]"]],["(.)(...)(..)(..)","$1 $2 $3 $4",["[23]|4[23]|9[2-4]"]],["(..)(..)(..)(..)","$1 $2 $3 $4",["[156]|7[018]|8(?:0[1-9]|[1-79])"]],["(...)(..)(...)","$1 $2 $3",["(?:80|9)0"]]]],33:[[9],[["([1-79])(..)(..)(..)(..)","$1 $2 $3 $4 $5",["[1-79]"]],["(1..)(...)","$1 $2",["11"]],["(8..)(..)(..)(..)","$1 $2 $3 $4",["8"]]]],34:[[9],[["([89]00)(...)(...)","$1 $2 $3",["[89]00"]],["([5-9]..)(..)(..)(..)","$1 $2 $3 $4",["[568]|[79][0-8]"]]]],36:[[9],[["(1)(...)(....)","$1 $2 $3",["1"]],["(..)(...)(....?)","$1 $2 $3",["[2-9]"]]]],39:[[9,10],[["(..)(....?)(....)","$1 $2 $3",["0[26]|55"]],["(0[26])(....)(.....)","$1 $2 $3",["0[26]"]],["(0[26])(.....?.?)","$1 $2",["0[26]"]],["(0..)(....?)(....)","$1 $2 $3",["0[13-57-9][0159]"]],["(...)(....?.?.?)","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[245])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|[45][0-4]))"]],["(0...)(...)(....)","$1 $2 $3",["0[13-57-9][2-46-8]"]],["(0...)(...?.?.?.?)","$1 $2",["0[13-57-9][2-46-8]"]],["(...)(...)(....?)","$1 $2 $3",["[13]|8(?:00|4[08]|9[59])","[13]|8(?:00|4[08]|9(?:5[5-9]|9))"]],["(....)(....)","$1 $2",["894","894[5-9]"]],["(...)(....)(....)","$1 $2 $3",["3"]]]],40:[[9],[["(..)(...)(....)","$1 $2 $3",["[23]1"]],["(21)(....)","$1 $2",["21"]],["(...)(...)(...)","$1 $2 $3",["[23][3-7]|[7-9]"]],["(2..)(...)","$1 $2",["2[3-6]"]]]],41:[[9],[["([2-9].)(...)(..)(..)","$1 $2 $3 $4",["[2-7]|[89]1"]],["([89]..)(...)(...)","$1 $2 $3",["8[047]|90"]],["(...)(..)(...)(..)(..)","$1 $2 $3 $4 $5",["860"]]]],43:[[10,11,12,13],[["(116...)","$1",["116"]],["(1)(....?.?.?.?.?.?.?.?.?)","$1 $2",["1"]],["(5.)(....?.?)","$1 $2",["5[079]"]],["(5.)(...)(....?)","$1 $2 $3",["5[079]"]],["(5.)(....)(.....?.?.?)","$1 $2 $3",["5[079]"]],["(...)(....?.?.?.?.?.?.?)","$1 $2",["316|46|51|732|6(?:5[0-3579]|[6-9])|7(?:[28]0)|[89]"]],["(....)(....?.?.?.?.?.?)","$1 $2",["2|3(?:1[1-578]|[3-8])|4[2378]|5[2-6]|6(?:[12]|4[1-9]|5[468])|7(?:2[1-8]|35|4[1-8]|[5-79])"]]]],44:[[10],[["(..)(....)(....)","$1 $2 $3",["2|5[56]|7(?:0|6[013-9])","2|5[56]|7(?:0|6(?:[013-9]|2[0-35-9]))"]],["(...)(...)(....)","$1 $2 $3",["1(?:1|.1)|3|9[018]"]],["(.....)(.....?)","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:387|5(?:24|39)|697|768|946)","1(?:3873|5(?:242|39[456])|697[347]|768[347]|9467)"]],["(1...)(......?)","$1 $2",["1"]],["(7...)(......)","$1 $2",["7(?:[1-5789]|62)","7(?:[1-5789]|624)"]],["(800)(....)","$1 $2",["800","8001","80011","800111","8001111"]],["(845)(46)(4.)","$1 $2 $3",["845","8454","84546","845464"]],["(8..)(...)(....)","$1 $2 $3",["8(?:4[2-5]|7[0-3])"]],["(80.)(...)(....)","$1 $2 $3",["80"]],["([58]00)(......)","$1 $2",["[58]00"]]]],45:[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]],46:[[9],[["(8)(...?)(...?)(..)","$1 $2 $3 $4",["8"]],["([1-69].)(...?)(..)(..)","$1 $2 $3 $4",["1[013689]|2[0136]|3[1356]|4[0246]|54|6[03]|90"]],["([1-469].)(...)(..)","$1 $2 $3",["1[136]|2[136]|3[356]|4[0246]|6[03]|90"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[0-5]|4[0-3])"]],["(...)(...?)(..)","$1 $2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[0-5]|4[0-3])"]],["(7.)(...)(..)(..)","$1 $2 $3 $4",["7"]],["(77)(..)(..)","$1 $2 $3",["7"]],["(20)(...?)(..)","$1 $2 $3",["20"]],["(9[034].)(..)(..)(...)","$1 $2 $3 $4",["9[034]"]],["(9[034].)(....)","$1 $2",["9[034]"]],["(...)(..)(...)(..)(..)","$1 $2 $3 $4 $5",["25[245]|67[3-6]"]]]],47:[[8],[["([489]..)(..)(...)","$1 $2 $3",["[489]"]],["([235-7].)(..)(..)(..)","$1 $2 $3 $4",["[235-7]"]]]],48:[[9],[["(..)(...)(..)(..)","$1 $2 $3 $4",["[14]|2[0-57-9]|3[2-4]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145]"]],["(..)(.)(....)","$1 $2 $3",["[12]2"]],["(...)(...)(...)","$1 $2 $3",["26|39|5[0137]|6[0469]|7[02389]|8[08]"]],["(...)(..)(...?)","$1 $2 $3",["64"]],["(...)(...)","$1 $2",["64"]]]],49:[[7,8,9,10,11,12],[["(1..)(........?)","$1 $2",["1[67]"]],["(15...)(......)","$1 $2",["15[0568]"]],["(1...)(.......)","$1 $2",["15"]],["(..)(....?.?.?.?.?.?.?.?)","$1 $2",["3[02]|40|[68]9"]],["(...)(....?.?.?.?.?.?.?.?)","$1 $2",["2(?:.1|0[2389]|1[24]|28|34)|3(?:[3-9][15]|40)|[4-8][1-9]1|9(?:06|[1-9]1)"]],["(....)(...?.?.?.?.?.?.?.?.?)","$1 $2",["[24-6]|[7-9](?:.[1-9]|[1-9].)|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])","[24-6]|[7-9](?:.[1-9]|[1-9].)|3(?:3(?:0[1-467]|2[127-9]|3[124578]|[46][1246]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|3[1357]|4[13578]|6[1246]|7[1356]|9[1346])|5(?:0[14]|2[1-3589]|3[1357]|4[1246]|6[1-4]|7[1346]|8[13568]|9[1246])|6(?:0[356]|2[1-489]|3[124-6]|4[1347]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|3[1357]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|4[1347]|6[0135-9]|7[1467]|8[136])|9(?:0[12479]|2[1358]|3[1357]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))"]],["(3....)(..?.?.?.?.?.?.?.?.?)","$1 $2",["3"]],["(800)(........?.?.?.?.?)","$1 $2",["800"]],["(...)(.)(.....?.?.?.?.?.?)","$1 $2 $3",["(?:18|90)0|137","1(?:37|80)|900[1359]"]],["(1..)(......?.?.?.?.?.?)","$1 $2",["181"]],["(18...)(......)","$1 $2",["185","1850","18500"]],["(18..)(.......)","$1 $2",["18[68]"]],["(18.)(........)","$1 $2",["18[2-579]"]],["(700)(....)(....)","$1 $2 $3",["700"]],["(138)(....)","$1 $2",["138"]],["(15[013-68])(..)(........)","$1 $2 $3",["15[013-68]"]],["(15[279].)(..)(.......)","$1 $2 $3",["15[279]"]],["(1[67].)(..)(........?)","$1 $2 $3",["1(?:6[023]|7)"]]]],51:[[9],[["(1)(.......)","$1 $2",["1"]],["([4-8].)(......)","$1 $2",["[4-7]|8[2-4]"]],["(...)(.....)","$1 $2",["80"]],["(9..)(...)(...)","$1 $2 $3",["9"]]]],52:[[10,11],[["([358].)(....)(....)","$1 $2 $3",["33|55|81"]],["(...)(...)(....)","$1 $2 $3",["[2467]|3[0-2457-9]|5[089]|8[02-9]|9[0-35-9]"]],["(1)([358].)(....)(....)","$1 $2 $3 $4",["1(?:33|55|81)"]],["(1)(...)(...)(....)","$1 $2 $3 $4",["1(?:[2467]|3[0-2457-9]|5[089]|8[2-9]|9[1-35-9])"]]]],53:[[8],[["(.)(.......?)","$1 $2",["7"]],["(..)(.....?.?)","$1 $2",["[2-4]"]],["(.)(.......)","$1 $2",["5"]]]],54:[[10,11],[["([68]..)(...)(....)","$1-$2-$3",["[68]"]],["(..)(....)","$1-$2",["[2-9]"]],["(...)(....)","$1-$2",["[2-9]"]],["(....)(....)","$1-$2",["[2-9]"]],["(9)(11)(....)(....)","$1 $2 $3-$4",["911"]],["(9)(...)(...)(....)","$1 $2 $3-$4",["9(?:2[234689]|3[3-8])","9(?:2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[1-358]|5[138]|6[24]|7[069]|8[013578]))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[456]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1239])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))"]],["(9)(....)(..)(....)","$1 $2 $3-$4",["9[23]"]],["(11)(....)(....)","$1 $2-$3",["1"]],["(...)(...)(....)","$1 $2-$3",["2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[1-358]|5[138]|6[24]|7[069]|8[013578])","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[456]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1239])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))"]],["(....)(..)(....)","$1 $2-$3",["[23]"]],["(...)","$1",["1[012]|911"]]]],55:[[10,11],[["(....)(....)","$1-$2",["[2-9](?:[1-9]|0[1-9])"]],["(.....)(....)","$1-$2",["9(?:[1-9]|0[1-9])"]],["(....?.?)","$1",["1[125689]"]],["(..)(.....)(....)","$1 $2-$3",["(?:[1689][1-9]|2[12478]|3[1-578]|7[13-579])9"]],["(..)(....)(....)","$1 $2-$3",["[1-9][1-9]"]],["(....)(....)","$1-$2",["(?:300|40(?:0|20))"]],["([3589]00)(...?)(....)","$1 $2 $3",["[3589]00"]]]],56:[[9],[["(.)(....)(....)","$1 $2 $3",["2[23]"]],["(..)(...)(....)","$1 $2 $3",["[357]|4[1-35]|6[13-57]"]],["(9)(....)(....)","$1 $2 $3",["9"]],["(44)(...)(....)","$1 $2 $3",["44"]],["([68]00)(...)(....?)","$1 $2 $3",["60|8"]],["(600)(...)(..)(...)","$1 $2 $3 $4",["60"]],["(1230)(...)(....)","$1 $2 $3",["1"]],["(.....)(....)","$1 $2",["219"]],["(.....?)","$1",["[1-9]"]]]],57:[[10],[["(.)(.......)","$1 $2",["1(?:8[2-9]|9[0-3]|[2-7])|[24-8]","1(?:8[2-9]|9(?:09|[1-3])|[2-7])|[24-8]"]],["(...)(.......)","$1 $2",["3"]],["(1)(...)(.......)","$1 $2 $3",["1(?:80|9[04])","1(?:800|9(?:0[01]|4[78]))"]]]],58:[[10],[["(...)(.......)","$1-$2",[]]]],60:[[9,10],[["([4-79])(...)(....)","$1-$2 $3",["[4-79]"]],["(3)(....)(....)","$1-$2 $3",["3"]],["([18].)(...)(....?)","$1-$2 $3",["1[02-46-9][1-9]|8"]],["(1)([36-8]00)(..)(....)","$1-$2-$3-$4",["1[36-8]0"]],["(11)(....)(....)","$1-$2 $3",["11"]],["(15[49])(...)(....)","$1-$2 $3",["15"]]]],61:[[9],[["([2378])(....)(....)","$1 $2 $3",["[2378]"]],["(...)(...)(...)","$1 $2 $3",["[45]|14"]],["(16)(...)(...?.?)","$1 $2 $3",["16"]],["(1[389]..)(...)(...)","$1 $2 $3",["1(?:[38]0|90)","1(?:[38]00|90)"]],["(180)(2...)","$1 $2",["180","1802"]],["(19.)(...)","$1 $2",["19[13]"]],["(19..)(....)","$1 $2",["19[679]"]],["(13)(..)(..)","$1 $2 $3",["13[1-9]"]]]],62:[[9,10,11,12],[["(..)(......?.?.?)","$1 $2",["2[124]|[36]1"]],["(...)(......?.?.?)","$1 $2",["[4579]|2[035-9]|[36][02-9]"]],["(8..)(....?)(....?.?)","$1-$2-$3",["8[1-35-9]"]],["(1)(500)(...)","$1 $2 $3",["15"]],["(177)(.......?.?)","$1 $2",["17"]],["(800)(......?.?)","$1 $2",["800"]],["(804)(...)(....)","$1 $2 $3",["804"]],["(80.)(.)(...)(...)","$1 $2 $3 $4",["80[79]"]]]],63:[[10],[["(2)(...)(....)","$1 $2 $3",["2"]],["(2)(.....)","$1 $2",["2"]],["(....)(.....?.?)","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|5(?:22|44)|642|8(?:62|8[245])","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"]],["(.....)(....)","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"]],["([3-8].)(...)(....)","$1 $2 $3",["[3-8]"]],["(...)(...)(....)","$1 $2 $3",["81|9"]],["(1800)(...)(....)","$1 $2 $3",["1"]],["(1800)(..?)(...)(....)","$1 $2 $3 $4",["1"]]]],64:[[8,9,10],[["([34679])(...)(....)","$1-$2 $3",["[346]|7[2-57-9]|9[1-9]"]],["(24099)(...)","$1 $2",["240","2409","24099"]],["(..)(...)(...)","$1 $2 $3",["21"]],["(..)(...)(....?.?)","$1 $2 $3",["2(?:1[1-9]|[69]|7[0-35-9])|70|86"]],["(2.)(....?)(....)","$1 $2 $3",["2[028]"]],["(...)(...)(....?)","$1 $2 $3",["2(?:10|74)|5|[89]0"]]]],65:[[8],[["([3689]...)(....)","$1 $2",["[369]|8[1-9]"]],["(1[89]00)(...)(....)","$1 $2 $3",["1[89]"]],["(7000)(....)(...)","$1 $2 $3",["70"]],["(800)(...)(....)","$1 $2 $3",["80"]]]],66:[[9],[["(2)(...)(....)","$1 $2 $3",["2"]],["([13-9].)(...)(....?)","$1 $2 $3",["14|[3-9]"]],["(1[89]00)(...)(...)","$1 $2 $3",["1"]]]],81:[[10],[["(...)(...)(...)","$1-$2-$3",["(?:12|57|99)0"]],["(...)(...)(....)","$1-$2-$3",["800"]],["(....)(....)","$1-$2",["0077"]],["(....)(..)(....?)","$1-$2-$3",["0077"]],["(....)(..)(....)","$1-$2-$3",["0088"]],["(....)(...)(....?)","$1-$2-$3",["00(?:37|66)"]],["(....)(....)(.....?)","$1-$2-$3",["00(?:37|66)"]],["(....)(.....)(......?)","$1-$2-$3",["00(?:37|66)"]],["(....)(......)(.......?)","$1-$2-$3",["00(?:37|66)"]],["(..)(....)(....)","$1-$2-$3",["[2579]0|80[1-9]"]],["(....)(.)(....)","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|5(?:76|97)|499|746|8(?:3[89]|63|47|51)|9(?:49|80|9[16])","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|5(?:76|97)9|499[2468]|7468|8(?:3(?:8[78]|96)|636|477|51[24])|9(?:496|802|9(?:1[23]|69))","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|5(?:769|979[2-69])|499[2468]|7468|8(?:3(?:8[78]|96[2457-9])|636[2-57-9]|477|51[24])|9(?:496|802|9(?:1[23]|69))"]],["(...)(..)(....)","$1-$2-$3",["1(?:2[3-6]|3[3-9]|4[2-6]|5[2-8]|[68][2-7]|7[2-689]|9[1-578])|2(?:2[03-689]|3[3-58]|4[0-468]|5[04-8]|6[013-8]|7[06-9]|8[02-57-9]|9[13])|4(?:2[28]|3[689]|6[035-7]|7[05689]|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9[4-9])|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9[014-9])|8(?:2[49]|3[3-8]|4[5-8]|5[2-9]|6[35-9]|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9[3-7])","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9[2-8])|3(?:7[2-6]|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5[4-7]|6[2-9]|8[2-8]|9[236-9])|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3[34]|[4-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:[3578]|20|4[04-9]|6[56]))|3(?:7(?:[2-5]|6[0-59])|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:[3578]|20|4[04-9]|6(?:5[25]|60)))|3(?:7(?:[2-5]|6[0-59])|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))"]],["(..)(...)(....)","$1-$2-$3",["1|2(?:2[37]|5[5-9]|64|78|8[39]|91)|4(?:2[2689]|64|7[347])|5(?:[2-589]|39)|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93)","1|2(?:2[37]|5(?:[57]|[68]0|9[19])|64|78|8[39]|917)|4(?:2(?:[68]|20|9[178])|64|7[347])|5(?:[2-589]|39[67])|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93[34])","1|2(?:2[37]|5(?:[57]|[68]0|9(?:17|99))|64|78|8[39]|917)|4(?:2(?:[68]|20|9[178])|64|7[347])|5(?:[2-589]|39[67])|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93(?:31|4))"]],["(...)(..)(....)","$1-$2-$3",["2(?:9[14-79]|74|[34]7|[56]9)|82|993"]],["(.)(....)(....)","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]"]],["(..)(...)(....)","$1-$2-$3",["[2479][1-9]"]]]],82:[[9,10],[["(.....)(....?)(....)","$1 $2 $3",["00798"]],["(.....)(..)(...)(....)","$1 $2 $3 $4",["00798"]],["(..)(....)(....)","$1-$2-$3",["1(?:0|1[19]|[69]9|5[458])|[57]0","1(?:0|1[19]|[69]9|5(?:44|59|8))|[57]0"]],["(..)(....?)(....)","$1-$2-$3",["1(?:[01]|5[1-4]|6[2-8]|[7-9])|[68]0|[3-6][1-9][1-9]","1(?:[01]|5(?:[1-3]|4[56])|6[2-8]|[7-9])|[68]0|[3-6][1-9][1-9]"]],["(...)(.)(....)","$1-$2-$3",["131","1312"]],["(...)(..)(....)","$1-$2-$3",["131","131[13-9]"]],["(...)(...)(....)","$1-$2-$3",["13[2-9]"]],["(..)(..)(...)(....)","$1-$2-$3-$4",["30"]],["(.)(....?)(....)","$1-$2-$3",["2[1-9]"]],["(.)(....?)","$1-$2",["21[0-46-9]"]],["(..)(....?)","$1-$2",["[3-6][1-9]1","[3-6][1-9]1(?:[0-46-9])"]],["(....)(....)","$1-$2",["1(?:5[46-9]|6[04678]|8[03579])","1(?:5(?:44|66|77|88|99)|6(?:00|44|6[16]|70|88)|8(?:00|33|55|77|99))"]]]],84:[[9,10],[["([17]99)(....)","$1 $2",["[17]99"]],["([48])(....)(....)","$1 $2 $3",["4|8(?:[1-57]|[689][0-79])"]],["([235-7].)(....)(...)","$1 $2 $3",["2[025-79]|3[0136-9]|5[2-9]|6[0-46-8]|7[02-79]"]],["(80)(.....)","$1 $2",["80"]],["(69.)(.....?)","$1 $2",["69"]],["([235-7]..)(....)(...)","$1 $2 $3",["2[1348]|3[25]|5[01]|65|7[18]"]],["([89].)(...)(..)(..)","$1 $2 $3 $4",["8[689]8|9"]],["(1[2689].)(...)(....)","$1 $2 $3",["1(?:[26]|8[68]|99)"]],["(1[89]00)(.....?.?)","$1 $2",["1[89]0"]]]],86:[[11],[["(80..)(....)","$1 $2",["80[2678]"]],["([48]00)(...)(....)","$1 $2 $3",["[48]00"]],["(......?)","$1",["100|95"]],["(..)(......?)","$1 $2",["(?:10|2.)[19]","(?:10|2.)(?:10|9[56])","(?:10|2.)(?:100|9[56])"]],["(...)(......?)","$1 $2",["[3-9]","[3-9]..[19]","[3-9]..(?:10|9[56])"]],["(....?)(....)","$1 $2",["[2-9]"]],["(21)(....)(.....?.?)","$1 $2 $3",["21"]],["([12].)(....)(....)","$1 $2 $3",["10[1-9]|2[02-9]","10[1-9]|2[02-9]","10(?:[1-79]|8(?:[1-9]|0[1-9]))|2[02-9]"]],["(...)(...)(....)","$1 $2 $3",["3(?:1[02-9]|35|49|5|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|[35][2-9]|6[4789]|7.|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[04-9]|4[3-6]|6[2368])|8(?:1[236-8]|2[5-7]|3|5[1-9]|7[02-9]|8[3678]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])"]],["(...)(....)(....)","$1 $2 $3",["3(?:11|7[179])|4(?:[15]1|3[1-35])|5(?:1|2[37]|3[12]|51|7[13-79]|9[15])|7(?:31|5[457]|6[09]|91)|8(?:[57]1|98)"]],["(....)(...)(....)","$1 $2 $3",["807","8078"]],["(...)(....)(....)","$1 $2 $3",["1[3-578]"]],["(10800)(...)(....)","$1 $2 $3",["108","1080","10800"]],["(...)(........?)","$1 $2",["950"]]]],90:[[10],[["(...)(...)(....)","$1 $2 $3",["[23]|4(?:[0-35-9]|4[0-35-9])"]],["(...)(...)(....)","$1 $2 $3",["[589]"]],["(444)(.)(...)","$1 $2 $3",["444"]]]],91:[[10],[["(.....)(.....)","$1 $2",["7(?:[023578]|4[0-57-9]|6[0-35-9]|99)|8(?:0[015689]|1[0-57-9]|2[2356-9]|3[0-57-9]|[45]|6[02457-9]|7[01-69]|8[0-24-9]|9[02-9])|9","7(?:[08]|2(?:[0235679]|[14][017-9]|8[0-569]|9[389])|3(?:[05-8]|1[07-9]|2[015-8]|3[17-9]|4[017-9]|9[015689])|4(?:[02][1-9]|1[014-9]|3.|[47][017-9]|5[09]|[89])|5(?:[034678]|2[03-9]|5[017-9]|9[7-9])|6(?:0[0-47]|1[0-257-9]|2[0-4]|3[19]|5[4589]|[6-9])|7(?:0[2-9]|[1-79]|8[1-9])|99[4-9])|8(?:0(?:[01589]|6[67])|1(?:[02-57-9]|1[0135-9])|2(?:[236-9]|5[1-9])|3(?:[0357-9]|4[1-9])|[45]|6[02457-9]|7(?:07|[1-69])|8(?:[0-26-9]|44|5[2-9])|9(?:[035-9]|2[2-9]|4[0-8]))|9","7(?:0|2(?:[0235679]|[14][017-9]|8[0-569]|9[389])|3(?:[05-8]|1(?:[089]|7[5-9])|2(?:[5-8]|[01][089])|3[17-9]|4(?:[07-9]|11)|9(?:[01689]|59))|4(?:0[1-9]|1(?:[015-9]|4[08])|2(?:[1-7][089]|[89])|3(?:[0-8][089]|9)|4(?:[089]|11|7[02-8])|5(?:0[089]|99)|7(?:0[3-9]|11|7[02-8]|[89])|8(?:[0-24-7][089]|[389])|9(?:[0-6][089]|7[08]|[89]))|5(?:[034678]|2[03-9]|5[017-9]|9[7-9])|6(?:0[0-47]|1[0-257-9]|2[0-4]|3[19]|5[4589]|[6-9])|7(?:0[2-9]|[1-79]|8[1-9])|8(?:[0-79]|880)|99[4-9])|8(?:0(?:[01589]|6[67])|1(?:[02-57-9]|1[0135-9])|2(?:[236-9]|5[1-9])|3(?:[0357-9]|4[1-9])|[45]|6[02457-9]|7(?:07|[1-69])|8(?:[0-26-9]|44|5[2-9])|9(?:[035-9]|2[2-9]|4[0-8]))|9"]],["(..)(....)(....)","$1 $2 $3",["11|2[02]|33|4[04]|79|80[2-46]"]],["(...)(...)(....)","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[569][14]|7[1257]|8[1346]|[68][1-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|[36][25]|22|4[28]|5[12]|[78]1|9[15])|6(?:12|[2345]1|57|6[13]|7[14]|80)"]],["(...)(...)(....)","$1 $2 $3",["7(?:12|2[14]|3[134]|4[47]|5[15]|[67]1|88)","7(?:12|2[14]|3[134]|4[47]|5(?:1|5[2-6])|[67]1|88)"]],["(...)(...)(....)","$1 $2 $3",["8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)"]],["(....)(...)(...)","$1 $2 $3",["1(?:[23579]|[468][1-9])|[2-8]"]],["(1600)(..)(....)","$1 $2 $3",["160","1600"]],["(1800)(.....?)","$1 $2",["180","1800"]],["(18[06]0)(...?.?)(....)","$1 $2 $3",["18[06]","18[06]0"]],["(140)(...)(....)","$1 $2 $3",["140"]],["(....)(...)(...)(...)","$1 $2 $3 $4",["18[06]","18(?:0[03]|6[12])"]]]],92:[[10],[["(..)(111)(...)(...)","$1 $2 $3 $4",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)1","(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)11","(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)111"]],["(...)(111)(...)(...)","$1 $2 $3 $4",["2[349]|45|54|60|72|8[2-5]|9[2-9]","(?:2[349]|45|54|60|72|8[2-5]|9[2-9]).1","(?:2[349]|45|54|60|72|8[2-5]|9[2-9]).11","(?:2[349]|45|54|60|72|8[2-5]|9[2-9]).111"]],["(..)(........?)","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"]],["(...)(.......?)","$1 $2",["2[349]|45|54|60|72|8[2-5]|9[2-9]","(?:2[349]|45|54|60|72|8[2-5]|9[2-9]).[2-9]"]],["(3..)(.......)","$1 $2",["3"]],["([15]...)(......?)","$1 $2",["58[12]|1"]],["(586..)(.....)","$1 $2",["586"]],["([89]00)(...)(..)","$1 $2 $3",["[89]00"]]]],93:[[9],[["([2-7].)(...)(....)","$1 $2 $3",["[2-7]"]]]],94:[[9],[["(..)(.)(......)","$1 $2 $3",["[1-689]"]],["(..)(...)(....)","$1 $2 $3",["7"]]]],95:[[8,9,10],[["(.)(...)(....?)","$1 $2 $3",["1|2[245]"]],["(2)(....)(....)","$1 $2 $3",["251"]],["(.)(..)(...)","$1 $2 $3",["16|2"]],["(..)(...)(....?)","$1 $2 $3",["67|81"]],["(..)(..)(....?)","$1 $2 $3",["[4-8]"]],["(9)(...)(.....?.?)","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"]],["(9)([34]....)(....)","$1 $2 $3",["9(?:3[0-36]|4[0-57-9])"]],["(9)(...)(...)(...)","$1 $2 $3 $4",["92[56]"]],["(9)(...)(...)(..)","$1 $2 $3 $4",["93"]]]],98:[[10],[["(21)(....?.?)","$1 $2",["21"]],["(..)(....)(....)","$1 $2 $3",["[1-8]"]],["(...)(...)(....?)","$1 $2 $3",["9"]],["(...)(..)(...?)","$1 $2 $3",["9"]],["(...)(...)","$1 $2",["9"]]]],211:[[9],[["(...)(...)(...)","$1 $2 $3",[]]]],212:[[9],[["([56]..)(......)","$1-$2",["5(?:2[015-7]|3[0-4])|6"]],["([58]...)(.....)","$1-$2",["5(?:2[2-489]|3[5-9])|892","5(?:2(?:[2-48]|90)|3(?:[5-79]|80))|892"]],["(5....)(....)","$1-$2",["5(?:29|38)","5(?:29|38)[89]"]],["(8[09])(.......)","$1-$2",["8(?:0|9[013-9])"]]]],213:[[9],[["([1-4].)(..)(..)(..)","$1 $2 $3 $4",["[1-4]"]],["([5-8]..)(..)(..)(..)","$1 $2 $3 $4",["[5-8]"]],["(9.)(...)(..)(..)","$1 $2 $3 $4",["9"]]]],216:[[8],[["(..)(...)(...)","$1 $2 $3",[]]]],218:[[9],[["([25679].)(.......)","$1-$2",[]]]],220:[[7],[["(...)(....)","$1 $2",[]]]],221:[[9],[["(..)(...)(..)(..)","$1 $2 $3 $4",["[379]"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["8"]]]],222:[[8],[["([2-48].)(..)(..)(..)","$1 $2 $3 $4",[]]]],223:[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["[246-9]"]],["(....)","$1",["67|74"]]]],224:[[8,9],[["(..)(..)(..)(..)","$1 $2 $3 $4",["3"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["[67]"]]]],225:[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]],226:[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]],227:[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["[289]|09"]],["(08)(...)(...)","$1 $2 $3",["08"]]]],228:[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]],229:[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]],230:[[7,8],[["([2-46-9]..)(....)","$1 $2",["[2-46-9]"]],["(5...)(....)","$1 $2",["5"]]]],231:[[7,8,9],[["(2.)(...)(...)","$1 $2 $3",["2"]],["(...)(...)(...)","$1 $2 $3",["[2579]"]],["([4-6])(...)(...)","$1 $2 $3",["[4-6]"]],["(..)(...)(....)","$1 $2 $3",["[38]"]]]],232:[[8],[["(..)(......)","$1 $2",[]]]],233:[[9],[["(..)(...)(....)","$1 $2 $3",["[235]"]],["(...)(.....)","$1 $2",["8"]]]],234:[[10],[["(...)(...)(....?)","$1 $2 $3",["70|8[01]|90[23589]"]],["(.)(...)(....?)","$1 $2 $3",["[12]|9(?:0[3-9]|[1-9])"]],["(..)(...)(...?)","$1 $2 $3",["[3-6]|7(?:[1-79]|0[1-9])|8[2-9]"]],["([78]00)(....)(.....?)","$1 $2 $3",["[78]00"]],["([78]00)(.....)(......?)","$1 $2 $3",["[78]00"]],["(78)(..)(...)","$1 $2 $3",["78"]]]],235:[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]],236:[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]],237:[[8,9],[["([26])(..)(..)(..)(..)","$1 $2 $3 $4 $5",["[26]"]],["(..)(..)(..)(..)","$1 $2 $3 $4",["[23]|88"]],["(800)(..)(...)","$1 $2 $3",["80"]]]],238:[[7],[["(...)(..)(..)","$1 $2 $3",[]]]],239:[[7],[["(...)(....)","$1 $2",[]]]],240:[[9],[["(...)(...)(...)","$1 $2 $3",["[235]"]],["(...)(......)","$1 $2",["[89]"]]]],241:[[8],[["(.)(..)(..)(..)","$1 $2 $3 $4",["[2-7]"]],["(..)(..)(..)(..)","$1 $2 $3 $4",["0"]]]],242:[[9],[["(..)(...)(....)","$1 $2 $3",["[02]"]],["(.)(....)(....)","$1 $2 $3",["8"]]]],243:[[9],[["(..)(...)(....)","$1 $2 $3",["12"]],["([89]..)(...)(...)","$1 $2 $3",["8[0-2459]|9"]],["(..)(..)(...)","$1 $2 $3",["88"]],["(..)(.....)","$1 $2",["[1-6]"]]]],244:[[9],[["(...)(...)(...)","$1 $2 $3",[]]]],245:[[7,9],[["(...)(...)(...)","$1 $2 $3",["44|9[567]"]]]],246:[[7],[["(...)(....)","$1 $2",[]]]],247:[[4],[]],248:[[7],[["(...)(...)","$1 $2",["8"]],["(.)(...)(...)","$1 $2 $3",["[246]"]]]],249:[[9],[["(..)(...)(....)","$1 $2 $3",[]]]],250:[[9],[["(2..)(...)(...)","$1 $2 $3",["2"]],["([7-9]..)(...)(...)","$1 $2 $3",["[7-9]"]],["(0.)(..)(..)(..)","$1 $2 $3 $4",["0"]]]],251:[[9],[["([1-59].)(...)(....)","$1 $2 $3",[]]]],252:[[8,9],[["(.)(......)","$1 $2",["2[0-79]|[13-5]"]],["(.)(.......)","$1 $2",["24|[67]"]],["(..)(......?.?)","$1 $2",["15|28|6[1-35-9]|799|9[2-9]"]],["(90.)(...)(...)","$1 $2 $3",["90"]]]],253:[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]],254:[[9],[["(..)(......?.?)","$1 $2",["[24-6]"]],["(...)(......)","$1 $2",["7"]],["(...)(...)(....?)","$1 $2 $3",["[89]"]]]],255:[[9],[["([24].)(...)(....)","$1 $2 $3",["[24]"]],["([67]..)(...)(...)","$1 $2 $3",["[67]"]],["([89]..)(..)(....)","$1 $2 $3",["[89]"]]]],256:[[9],[["(...)(......)","$1 $2",["[7-9]|20(?:[013-8]|2[5-9])|4(?:6[45]|[7-9])"]],["(..)(.......)","$1 $2",["3|4(?:[1-5]|6[0-36-9])"]],["(2024)(.....)","$1 $2",["2024"]]]],257:[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]],258:[[9],[["([28].)(...)(....?)","$1 $2 $3",["2|8[2-7]"]],["(80.)(...)(...)","$1 $2 $3",["80"]]]],260:[[9],[["([29].)(.......)","$1 $2",["[29]"]],["(800)(...)(...)","$1 $2 $3",["8"]]]],261:[[9],[["([23].)(..)(...)(..)","$1 $2 $3 $4",[]]]],262:[[9],[["([268]..)(..)(..)(..)","$1 $2 $3 $4",[]]]],263:[[9,10],[["([49])(...)(...?.?)","$1 $2 $3",["4|9[2-9]"]],["(7.)(...)(....?)","$1 $2 $3",["7"]],["(86..)(...)(...)","$1 $2 $3",["86[24]"]],["([2356]..)(....?.?)","$1 $2",["2(?:0[45]|2[278]|[49]8|[78])|3(?:08|17|3[78]|7[1569]|8[37]|98)|5[15][78]|6(?:[29]8|[38]7|6[78]|75|[89]8)"]],["(...)(...)(....?)","$1 $2 $3",["2(?:1[39]|2[0157]|6[14]|7[35]|84)|329"]],["([1-356].)(....?.?)","$1 $2",["1[3-9]|2[0569]|3[0-69]|5[05689]|6[0-46-9]"]],["([235].)(...)(....?)","$1 $2 $3",["[23]9|54"]],["([25]...)(....?.?)","$1 $2",["(?:25|54)8","258[23]|5483"]],["(8...)(......)","$1 $2",["86"]],["(80.)(...)(....)","$1 $2 $3",["80"]]]],264:[[9],[["(8.)(...)(....)","$1 $2 $3",["8[1235]"]],["(6.)(...)(....?)","$1 $2 $3",["6"]],["(88)(...)(...)","$1 $2 $3",["88"]],["(870)(...)(...)","$1 $2 $3",["870"]]]],265:[[9],[["(.)(...)(...)","$1 $2 $3",["1"]],["(2..)(...)(...)","$1 $2 $3",["2"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["[1789]"]]]],266:[[8],[["(....)(....)","$1 $2",[]]]],267:[[8],[["(...)(....)","$1 $2",["[2-6]"]],["(7.)(...)(...)","$1 $2 $3",["7"]],["(90)(.....)","$1 $2",["9"]]]],268:[[8],[["(....)(....)","$1 $2",["[027]"]]]],269:[[7],[["(...)(..)(..)","$1 $2 $3",[]]]],290:[[4,5],[]],291:[[7],[["(.)(...)(...)","$1 $2 $3",[]]]],297:[[7],[["(...)(....)","$1 $2",[]]]],298:[[6],[["(......)","$1",[]]]],299:[[6],[["(..)(..)(..)","$1 $2 $3",[]]]],350:[[8],[["(...)(.....)","$1 $2",["2"]]]],351:[[9],[["(2.)(...)(....)","$1 $2 $3",["2[12]"]],["([2-46-9]..)(...)(...)","$1 $2 $3",["2[3-9]|[346-9]"]]]],352:[[9],[["(..)(...)","$1 $2",["[2-5]|7[1-9]|[89](?:[1-9]|0[2-9])"]],["(..)(..)(..)","$1 $2 $3",["[2-5]|7[1-9]|[89](?:[1-9]|0[2-9])"]],["(..)(..)(...)","$1 $2 $3",["20"]],["(..)(..)(..)(..?)","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(..)(..)(..)(...)","$1 $2 $3 $4",["20"]],["(..)(..)(..)(..)(..?)","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(..)(..)(..)(..?.?.?)","$1 $2 $3 $4",["2(?:[12589]|4[12])|[3-5]|7[1-9]|8(?:[1-9]|0[2-9])|9(?:[1-9]|0[2-46-9])"]],["(...)(..)(...)","$1 $2 $3",["70|80[01]|90[015]"]],["(...)(...)(...)","$1 $2 $3",["6"]]]],353:[[9],[["(1)(....?)(....)","$1 $2 $3",["1"]],["(..)(.....)","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"]],["(...)(.....)","$1 $2",["40[24]|50[45]"]],["(48)(....)(....)","$1 $2 $3",["48"]],["(818)(...)(...)","$1 $2 $3",["81"]],["(..)(...)(....?)","$1 $2 $3",["[24-69]|7[14]"]],["([78].)(....?)(....)","$1 $2 $3",["76|8[35-9]"]],["(700)(...)(...)","$1 $2 $3",["70"]],["(....)(...)(...)","$1 $2 $3",["1(?:8[059]|5)","1(?:8[059]0|5)"]]]],354:[[7,8,9],[["(...)(....)","$1 $2",["[4-9]"]],["(3..)(...)(...)","$1 $2 $3",["3"]]]],355:[[9],[["(4)(...)(....)","$1 $2 $3",["4[0-6]"]],["(6[6-9])(...)(....)","$1 $2 $3",["6"]],["(..)(...)(...)","$1 $2 $3",["[2358][2-5]|4[7-9]"]],["(...)(....?.?)","$1 $2",["[235][16-9]|8[016-9]|[79]"]]]],356:[[8],[["(....)(....)","$1 $2",[]]]],357:[[8],[["(..)(......)","$1 $2",[]]]],358:[[6,7,8,9,10,11],[["(...)(....?.?.?.?)","$1 $2",["(?:[1-3]00|[6-8]0)"]],["(116...)","$1",["116"]],["(..)(.....?.?.?.?.?.?)","$1 $2",["[14]|2[09]|50|7[135]"]],["(.)(.....?.?.?.?.?.?.?)","$1 $2",["[25689][1-8]|3"]]]],359:[[9],[["(2)(.....)","$1 $2",["29"]],["(2)(...)(....?)","$1 $2 $3",["2"]],["(...)(....)","$1 $2",["43[124-7]|70[1-9]"]],["(...)(...)(..)","$1 $2 $3",["43[124-7]|70[1-9]"]],["(...)(..)(...)","$1 $2 $3",["[78]00"]],["(...)(...)(...)","$1 $2 $3",["999"]],["(..)(...)(...?)","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"]],["(..)(...)(....?)","$1 $2 $3",["48|8[7-9]|9[08]"]]]],370:[[8],[["([34].)(......)","$1 $2",["37|4(?:1|5[45]|6[2-4])"]],["([3-6]..)(.....)","$1 $2",["3[148]|4(?:[24]|6[09])|528|6"]],["([7-9]..)(..)(...)","$1 $2 $3",["[7-9]"]],["(5)(2..)(....)","$1 $2 $3",["52[0-79]"]]]],371:[[8],[["([2689].)(...)(...)","$1 $2 $3",[]]]],372:[[7,8],[["([3-79]..)(....)","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]"]],["(70)(..)(....)","$1 $2 $3",["70"]],["(8000)(...)(...)","$1 $2 $3",["800","8000"]],["([458]...)(....?)","$1 $2",["40|5|8(?:00|[1-5])","40|5|8(?:00[1-9]|[1-5])"]]]],373:[[8],[["(..)(...)(...)","$1 $2 $3",["22|3"]],["([25-7]..)(..)(...)","$1 $2 $3",["2[13-79]|[5-7]"]],["([89]..)(.....)","$1 $2",["[89]"]]]],374:[[8],[["(..)(......)","$1 $2",["1|47"]],["(..)(......)","$1 $2",["4[139]|[5-7]|9[1-9]"]],["(...)(.....)","$1 $2",["[23]"]],["(...)(..)(...)","$1 $2 $3",["8|90"]]]],375:[[9],[["(..)(...)(..)(..)","$1 $2-$3-$4",["17[0-3589]|2[4-9]|[34]","17(?:[02358]|1[0-2]|9[0189])|2[4-9]|[34]"]],["(...)(..)(..)(..)","$1 $2-$3-$4",["1(?:5[24]|6[235]|7[467])|2(?:1[246]|2[25]|3[26])","1(?:5[24]|6(?:2|3[04-9]|5[0346-9])|7(?:[46]|7[37-9]))|2(?:1[246]|2[25]|3[26])"]],["(....)(..)(...)","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"]],["([89]..)(...)(....)","$1 $2 $3",["8[01]|9"]],["(82.)(....)(....)","$1 $2 $3",["82"]],["(800)(...)","$1 $2",["800"]],["(800)(..)(...?.?)","$1 $2 $3",["800"]]]],376:[[6],[["(...)(...)","$1 $2",["[346-9]"]],["(180[02])(....)","$1 $2",["1"]]]],377:[[8,9],[["(..)(..)(..)(..)","$1 $2 $3 $4",["9"]],["(..)(...)(...)","$1 $2 $3",["4"]],["(6)(..)(..)(..)(..)","$1 $2 $3 $4 $5",["6"]],["(...)(...)(..)","$1 $2 $3",["8"]]]],378:[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["[5-7]"]],["(0549)(......)","($1) $2",["0"]],["(......)","(0549) $1",["[89]"]]]],379:[[10],[]],380:[[9],[["([3-9].)(...)(....)","$1 $2 $3",["[38]9|4(?:[45][0-5]|87)|5(?:0|6[37]|7[37])|6[36-8]|73|9[1-9]","[38]9|4(?:[45][0-5]|87)|5(?:0|6(?:3[14-7]|7)|7[37])|6[36-8]|73|9[1-9]"]],["([3-689]..)(...)(...)","$1 $2 $3",["3[1-8]2|4[13678]2|5(?:[12457]2|6[24])|6(?:[49]2|[12][29]|5[24])|8[0-8]|90","3(?:[1-46-8]2[013-9]|52)|4(?:[1378]2|62[013-9])|5(?:[12457]2|6[24])|6(?:[49]2|[12][29]|5[24])|8[0-8]|90"]],["([3-6]...)(.....)","$1 $2",["3(?:5[013-9]|[1-46-8])|4(?:[137][013-9]|6|[45][6-9]|8[4-6])|5(?:[1245][013-9]|6[0135-9]|3|7[4-6])|6(?:[49][013-9]|5[0135-9]|[12][13-8])","3(?:5[013-9]|[1-46-8](?:22|[013-9]))|4(?:[137][013-9]|6(?:[013-9]|22)|[45][6-9]|8[4-6])|5(?:[1245][013-9]|6(?:3[02389]|[015689])|3|7[4-6])|6(?:[49][013-9]|5[0135-9]|[12][13-8])"]]]],
381:[[8,9],[["([23]..)(.....?.?.?.?.?)","$1 $2",["(?:2[389]|39)0"]],["([1-3].)(......?.?.?.?.?)","$1 $2",["1|2(?:[0-24-7]|[389][1-9])|3(?:[0-8]|9[1-9])"]],["(6.)(.......?.?)","$1 $2",["6"]],["([89]..)(....?.?.?.?.?.?)","$1 $2",["[89]"]],["(7[26])(.....?.?.?.?.?)","$1 $2",["7[26]"]],["(7[08].)(.....?.?.?.?.?)","$1 $2",["7[08]"]]]],382:[[8,9],[["(..)(...)(...)","$1 $2 $3",["[2-57-9]|6[036-9]","[2-57-9]|6(?:[03689]|7(?:[0-8]|9[3-9]))"]],["(67)(9)(...)(...)","$1 $2 $3 $4",["679","679[0-2]"]]]],385:[[8,9],[["(1)(....)(...)","$1 $2 $3",["1"]],["(6[09])(....)(...)","$1 $2 $3",["6[09]"]],["([67]2)(...)(....?)","$1 $2 $3",["[67]2"]],["([2-5].)(...)(....?)","$1 $2 $3",["[2-5]"]],["(9.)(...)(....?)","$1 $2 $3",["9"]],["(9.)(....)(....)","$1 $2 $3",["9"]],["(9.)(....?)(...)(...)","$1 $2 $3 $4",["9"]],["(..)(..)(...?)","$1 $2 $3",["6[0145]|7"]],["(..)(....?)(...)","$1 $2 $3",["6[0145]|7"]],["(80[01])(..)(...?)","$1 $2 $3",["8"]],["(80[01])(....?)(...)","$1 $2 $3",["8"]]]],386:[[8],[["(.)(...)(..)(..)","$1 $2 $3 $4",["[12]|3[24-8]|4[24-8]|5[2-8]|7[3-8]"]],["([3-7].)(...)(...)","$1 $2 $3",["[37][01]|4[0139]|51|6"]],["([89][09])(....?.?.?)","$1 $2",["[89][09]"]],["([58]..)(.....)","$1 $2",["59|8[1-3]"]]]],387:[[8,9],[["(..)(...)(...)","$1 $2-$3",["[3-5]"]],["(..)(...)(...)","$1 $2 $3",["6[1-356]|[7-9]"]],["(..)(..)(..)(...)","$1 $2 $3 $4",["6[047]"]]]],389:[[8],[["(2)(...)(....)","$1 $2 $3",["2"]],["([347].)(...)(...)","$1 $2 $3",["[347]"]],["([58]..)(.)(..)(..)","$1 $2 $3 $4",["[58]"]]]],420:[[9],[["([2-9]..)(...)(...)","$1 $2 $3",["[2-8]|9[015-7]"]],["(96.)(...)(...)(...)","$1 $2 $3 $4",["96"]],["(9.)(...)(...)(...)","$1 $2 $3 $4",["9[36]"]]]],421:[[9],[["(2)(16)(....?)","$1 $2 $3",["216"]],["([3-5].)(16)(...?)","$1 $2 $3",["[3-5]"]],["(2)(...)(...)(..)","$1/$2 $3 $4",["2"]],["([3-5].)(...)(..)(..)","$1/$2 $3 $4",["[3-5]"]],["([689]..)(...)(...)","$1 $2 $3",["[689]"]],["(9090)(...)","$1 $2",["9090"]]]],423:[[7],[["(...)(..)(..)","$1 $2 $3",["[23789]"]],["(...)(...)(...)","$1 $2 $3",["6[56]"]],["(69)(7..)(....)","$1 $2 $3",["697"]]]],500:[[5],[]],501:[[7],[["(...)(....)","$1-$2",["[2-8]"]],["(0)(800)(....)(...)","$1-$2-$3-$4",["0"]]]],502:[[8],[["(....)(....)","$1 $2",["[2-7]"]],["(....)(...)(....)","$1 $2 $3",["1"]]]],503:[[8],[["(....)(....)","$1 $2",["[267]"]],["(...)(....)","$1 $2",["[89]"]],["(...)(....)(....)","$1 $2 $3",["[89]"]]]],504:[[8],[["(....)(....)","$1-$2",[]]]],505:[[8],[["(....)(....)","$1 $2",[]]]],506:[[8],[["(....)(....)","$1 $2",["[24-7]|8[3-9]"]],["(...)(...)(....)","$1-$2-$3",["[89]0"]]]],507:[[8],[["(...)(....)","$1-$2",["[1-57-9]"]],["(....)(....)","$1-$2",["6"]]]],508:[[6],[["([45].)(..)(..)","$1 $2 $3",[]]]],509:[[8],[["(..)(..)(....)","$1 $2 $3",[]]]],590:[[9],[["([56]90)(..)(....)","$1 $2-$3",[]]]],591:[[8],[["([234])(.......)","$1 $2",["[234]"]],["([67].......)","$1",["[67]"]]]],592:[[7],[["(...)(....)","$1 $2",[]]]],593:[[8,9],[["(.)(...)(....)","$1-$2-$3",["[247]|[356][2-8]"]],["(..)(...)(....)","$1 $2 $3",["9"]],["(1800)(...)(....?)","$1 $2 $3",["1"]]]],594:[[9],[["(...)(..)(..)(..)","$1 $2 $3 $4",[]]]],595:[[9],[["(..)(......?.?)","$1 $2",["(?:[26]1|3[289]|4[124678]|7[123]|8[1236])"]],["(...)(....?.?.?)","$1 $2",["[2-9]0"]],["(...)(......)","$1 $2",["9[1-9]"]],["(..)(...)(....)","$1 $2 $3",["8700"]],["(...)(.....?.?)","$1 $2",["[2-8][1-9]"]]]],596:[[9],[["(...)(..)(..)(..)","$1 $2 $3 $4",[]]]],597:[[7],[["(...)(...)","$1-$2",["[2-4]|5[2-58]"]],["(..)(..)(..)","$1-$2-$3",["56"]],["(...)(....)","$1-$2",["59|[6-8]"]]]],598:[[8],[["(....)(....)","$1 $2",["[24]"]],["(..)(...)(...)","$1 $2 $3",["9[1-9]"]],["(...)(....)","$1 $2",["[89]0"]]]],599:[[7,8],[["(...)(....)","$1 $2",["[13-7]"]],["(9)(...)(....)","$1 $2 $3",["9"]]]],670:[[8],[["(...)(....)","$1 $2",["[2-489]"]],["(....)(....)","$1 $2",["7"]]]],672:[[5,6],[["(..)(....)","$1 $2",["1"]],["(.)(.....)","$1 $2",["3"]]]],673:[[7],[["([2-578]..)(....)","$1 $2",[]]]],674:[[7],[["(...)(....)","$1 $2",[]]]],675:[[7,8],[["(...)(....)","$1 $2",["[13-689]|27"]],["(....)(....)","$1 $2",["20|7"]]]],676:[[7],[["(..)(...)","$1-$2",["[1-6]|7[0-4]|8[05]"]],["(...)(....)","$1 $2",["7[5-9]|8[47-9]"]],["(....)(...)","$1 $2",["0"]]]],677:[[7],[["(..)(.....)","$1 $2",["[7-9]"]]]],678:[[7],[["(...)(....)","$1 $2",["[579]"]]]],679:[[7],[["(...)(....)","$1 $2",["[36-9]"]],["(....)(...)(....)","$1 $2 $3",["0"]]]],680:[[7],[["(...)(....)","$1 $2",[]]]],681:[[6],[["(..)(..)(..)","$1 $2 $3",[]]]],682:[[5],[["(..)(...)","$1 $2",[]]]],683:[[4],[]],685:[[6,7],[["(8..)(....?)","$1 $2",["8"]],["(7.)(.....)","$1 $2",["7"]],["(.....)","$1",["[2-6]"]]]],686:[[8],[]],687:[[6],[["(..)(..)(..)","$1.$2.$3",["[2-46-9]|5[0-4]"]]]],688:[[6],[]],689:[[6,8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["4[09]|8[79]"]],["(..)(..)(..)","$1 $2 $3",["44"]]]],690:[[4,5,6,7],[]],691:[[7],[["(...)(....)","$1 $2",[]]]],692:[[7],[["(...)(....)","$1-$2",[]]]],850:[[10],[["(...)(...)(....)","$1 $2 $3",["1"]],["(.)(...)(....)","$1 $2 $3",["2"]],["(..)(...)(...)","$1 $2 $3",["8"]]]],852:[[8],[["(....)(....)","$1 $2",["[235-7]|[89](?:0[1-9]|[1-9])"]],["(800)(...)(...)","$1 $2 $3",["800"]],["(900)(..)(...)(...)","$1 $2 $3 $4",["900"]],["(900)(...?.?.?)","$1 $2",["900"]]]],853:[[8],[["([268]...)(....)","$1 $2",[]]]],855:[[8,9],[["(..)(...)(....?)","$1 $2 $3",["1.[1-9]|[2-9]"]],["(1[89]00)(...)(...)","$1 $2 $3",["1[89]0"]]]],856:[[10],[["(20)(..)(...)(...)","$1 $2 $3 $4",["20"]],["([2-8].)(...)(...)","$1 $2 $3",["2[13]|3[14]|[4-8]"]],["(30)(..)(..)(...)","$1 $2 $3 $4",["30"]]]],880:[[10],[["(2)(........?)","$1-$2",["2"]],["(..)(.....?.?)","$1-$2",["[3-79]1"]],["(....)(....?.?.?)","$1-$2",["1|3(?:0|[2-58]2)|4(?:0|[25]2|3[23]|[4689][25])|5(?:[02-578]2|6[25])|6(?:[0347-9]2|[26][25])|7[02-9]2|8(?:[023][23]|[4-7]2)|9(?:[02][23]|[458]2|6[016])"]],["(...)(....?.?.?.?)","$1-$2",["[3-79][2-9]|8"]]]],886:[[9],[["([2-8])(....?)(....)","$1 $2 $3",["[2-6]|[78][1-9]"]],["([89]..)(...)(...)","$1 $2 $3",["80|9"]],["(70)(....)(....)","$1 $2 $3",["70"]]]],960:[[7],[["(...)(....)","$1-$2",["[3467]|9(?:[1-9]|0[1-9])"]],["(...)(...)(....)","$1 $2 $3",["900"]]]],961:[[7,8],[["(.)(...)(...)","$1 $2 $3",["[13-6]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]|9"]],["([7-9].)(...)(...)","$1 $2 $3",["[89][01]|7(?:[01]|6[013-9]|8[89]|9[1-3])"]]]],962:[[9],[["(.)(...)(....)","$1 $2 $3",["[2356]|87"]],["(7)(....)(....)","$1 $2 $3",["7[457-9]"]],["(...)(......?)","$1 $2",["70|8[0158]|9"]]]],963:[[9],[["(..)(...)(....?)","$1 $2 $3",["[1-5]"]],["(9..)(...)(...)","$1 $2 $3",["9"]]]],964:[[10],[["(1)(...)(....)","$1 $2 $3",["1"]],["([2-6].)(...)(....?)","$1 $2 $3",["[2-6]"]],["(7..)(...)(....)","$1 $2 $3",["7"]]]],965:[[8],[["(....)(....?)","$1 $2",["[16]|2(?:[0-35-9]|4[0-35-9])|9[024-9]|52[25]"]],["(...)(.....)","$1 $2",["244|5(?:[015]|66)"]]]],966:[[9],[["([1-467])(...)(....)","$1 $2 $3",["[1-467]"]],["(1.)(...)(....)","$1 $2 $3",["1[1-467]"]],["(5.)(...)(....)","$1 $2 $3",["5"]],["(92..)(.....)","$1 $2",["92"]],["(800)(...)(....)","$1 $2 $3",["80"]],["(811)(...)(....?)","$1 $2 $3",["81"]]]],967:[[9],[["([1-7])(...)(....?)","$1 $2 $3",["[1-6]|7[24-68]"]],["(7..)(...)(...)","$1 $2 $3",["7[0137]"]]]],968:[[8],[["(2.)(......)","$1 $2",["2"]],["([79]...)(....)","$1 $2",["[79]"]],["([58]00)(.....?.?)","$1 $2",["[58]"]]]],970:[[9],[["([2489])(2..)(....)","$1 $2 $3",["[2489]"]],["(5[69].)(...)(...)","$1 $2 $3",["5"]],["(1[78]00)(...)(...)","$1 $2 $3",["1[78]"]]]],971:[[9],[["([2-4679])(...)(....)","$1 $2 $3",["[2-4679][2-8]"]],["(5.)(...)(....)","$1 $2 $3",["5"]],["([479]00)(.)(.....)","$1 $2 $3",["[479]0"]],["([68]00)(...?.?.?.?.?.?.?)","$1 $2",["60|8"]]]],972:[[9],[["([2-489])(...)(....)","$1-$2-$3",["[2-489]"]],["([57].)(...)(....)","$1-$2-$3",["[57]"]],["(1)([7-9]..)(...)(...)","$1-$2-$3-$4",["1[7-9]"]],["(1255)(...)","$1-$2",["125"]],["(1200)(...)(...)","$1-$2-$3",["120"]],["(1212)(..)(..)","$1-$2-$3",["121"]],["(1599)(......)","$1-$2",["15"]],["(....)","*$1",["[2-689]"]]]],973:[[8],[["(....)(....)","$1 $2",[]]]],974:[[8],[["([28]..)(....)","$1 $2",["[28]"]],["([3-7]...)(....)","$1 $2",["[3-7]"]]]],975:[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["1|77"]],["([2-8])(...)(...)","$1 $2 $3",["[2-68]|7[246]"]]]],976:[[8],[["([12].)(..)(....)","$1 $2 $3",["[12]1"]],["([12]2.)(......?)","$1 $2",["[12]2[1-3]"]],["([12]...)(.....)","$1 $2",["[12](?:27|[3-5])","[12](?:27|[3-5].)2"]],["(....)(....)","$1 $2",["[57-9]"]],["([12]....)(.....?)","$1 $2",["[12](?:27|[3-5])","[12](?:27|[3-5].)[4-9]"]]]],977:[[10],[["(1)(.......)","$1-$2",["1[2-6]"]],["(..)(......)","$1-$2",["1[01]|[2-8]|9(?:[1-69]|7[15-9])"]],["(9..)(.......)","$1-$2",["9(?:6[013]|7[245]|8)"]]]],992:[[9],[["([349]..)(..)(....)","$1 $2 $3",["[34]7|91[78]"]],["([4589].)(...)(....)","$1 $2 $3",["4[148]|[58]|9(?:1[59]|[0235-9])"]],["(331700)(.)(..)","$1 $2 $3",["331","3317","33170","331700"]],["(....)(.)(....)","$1 $2 $3",["3[1-5]","3(?:[1245]|3(?:[02-9]|1[0-589]))"]]]],993:[[8],[["(..)(..)(..)(..)","$1 $2-$3-$4",["12"]],["(..)(......)","$1 $2",["6"]],["(...)(.)(..)(..)","$1 $2-$3-$4",["13|[2-5]"]]]],994:[[9],[["(..)(...)(..)(..)","$1 $2 $3 $4",["(?:1[28]|2(?:[45]2|[0-36])|365)"]],["(..)(...)(..)(..)","$1 $2 $3 $4",["[4-8]"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["9"]]]],995:[[9],[["(...)(..)(..)(..)","$1 $2 $3 $4",["[348]"]],["(...)(...)(...)","$1 $2 $3",["7"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["5"]]]],996:[[9],[["(...)(...)(...)","$1 $2 $3",["[25-7]|31[25]"]],["(....)(.....)","$1 $2",["3(?:1[36]|[2-9])"]],["(...)(...)(.)(...)","$1 $2 $3 $4",["8"]]]],998:[[7,8,9],[["([679].)(...)(..)(..)","$1 $2 $3 $4",[]]]]}},function(e,t){e.exports={"application/":{applixware:"aw","atom+xml":"atom","atomcat+xml":"atomcat","atomsvc+xml":"atomsvc","ccxml+xml":"ccxml","cdmi-":{capability:"cdmia",container:"cdmic",domain:"cdmid",object:"cdmio",queue:"cdmiq"},"davmount+xml":"davmount","docbook+xml":"dbk","dssc+der":"dssc","dssc+xml":"xdssc",ecmascript:"ecma","emma+xml":"emma","epub+zip":"epub",exi:"exi","font-":{tdpfr:"pfr",woff:"woff"},"gml+xml":"gml","gpx+xml":"gpx",gxf:"gxf",hyperstudio:"stk","inkml+xml":["ink","inkml"],ipfix:"ipfix","java-":{archive:"jar",vm:"class","serialized-object":"ser"},javascript:"js",json:"json","jsonml+json":"jsonml","lost+xml":"lostxml","mac-":{binhex40:"hqx",compactpro:"cpt"},"mads+xml":"mads",marc:"mrc","marcxml+xml":"mrcx",mathematica:["ma","nb","mb"],"mathml+xml":"mathml",mbox:"mbox","mediaservercontrol+xml":"mscml","metalink+xml":"metalink","metalink4+xml":"meta4","mets+xml":"mets","mods+xml":"mods",mp21:["m21","mp21"],mp4:"mp4s",msword:["doc","dot"],mxf:"mxf",oda:"oda",ogg:"ogx","omdoc+xml":"omdoc",onenote:["onetoc","onetoc2","onetmp","onepkg"],oxps:"oxps",pdf:"pdf","pgp-":{encrypted:"pgp",signature:["asc","sig"]},pkcs10:"p10","pkcs7-":{mime:["p7m","p7c"],signature:"p7s"},pkcs8:"p8","pkix-":{cert:"cer",crl:"crl",pkipath:"pkipath","attr-cert":"ac"},pkixcmp:"pki","pls+xml":"pls",postscript:["ai","eps","ps"],"pskc+xml":"pskcxml","rdf+xml":"rdf","reginfo+xml":"rif","resource-":{"lists+xml":"rl","lists-diff+xml":"rld"},"rpki-":{ghostbusters:"gbr",manifest:"mft",roa:"roa"},"rsd+xml":"rsd","rss+xml":"rss",rtf:"rtf","sbml+xml":"sbml","scvp-":{"cv-":{request:"scq",response:"scs"},"vp-":{request:"spq",response:"spp"}},sdp:"sdp","set-":{"payment-initiation":"setpay","registration-initiation":"setreg"},"shf+xml":"shf","smil+xml":["smi","smil"],"sparql-":{query:"rq","results+xml":"srx"},srgs:"gram","srgs+xml":"grxml","sru+xml":"sru","ssdl+xml":"ssdl","ssml+xml":"ssml","tei+xml":["tei","teicorpus"],"thraud+xml":"tfi","vnd.":{acucobol:"acu",acucorp:["atc","acutc"],"adobe.":{fxp:["fxp","fxpl"],"xdp+xml":"xdp",xfdf:"xfdf","formscentral.fcdt":"fcdt","air-application-installer-package+zip":"air"},"apple.":{"installer+xml":"mpkg",mpegurl:"m3u8"},audiograph:"aep",bmi:"bmi",businessobjects:"rep","chemdraw+xml":"cdxml",cinderella:"cdy",claymore:"cla",commonspace:"csp",cosmocaller:"cmc","crick.":{clicker:"clkx","clicker.":{keyboard:"clkk",palette:"clkp",template:"clkt",wordbank:"clkw"}},"curl.":{car:"car",pcurl:"pcurl"},dart:"dart","dece.":{data:["uvf","uvvf","uvd","uvvd"],"ttml+xml":["uvt","uvvt"],unspecified:["uvx","uvvx"],zip:["uvz","uvvz"]},dna:"dna",dpgraph:"dpg",dreamfactory:"dfac","dvb.":{ait:"ait",service:"svc"},dynageo:"geo",enliven:"nml","epson.":{esf:"esf",msf:"msf",quickanime:"qam",salt:"slt",ssf:"ssf"},"eszigno3+xml":["es3","et3"],"ezpix-":{album:"ez2","package":"ez3"},fdf:"fdf","fdsn.":{mseed:"mseed",seed:["seed","dataless"]},flographit:"gph",framemaker:["fm","frame","maker","book"],"frogans.":{fnc:"fnc",ltf:"ltf"},"fujitsu.":{oasys:"oas",oasys2:"oa2",oasys3:"oa3",oasysgp:"fg5",oasysprs:"bh2"},"fujixerox.":{ddd:"ddd",docuworks:"xdw","docuworks.binder":"xbd"},fuzzysheet:"fzs","geogebra.":{file:"ggb",tool:"ggt"},geonext:"gxt",geoplan:"g2w",geospace:"g3w",gmx:"gmx",grafeq:["gqf","gqs"],"groove-":{account:"gac",help:"ghf",injector:"grv","tool-":{message:"gtm",template:"tpl"},vcard:"vcg","identity-message":"gim"},"hal+xml":"hal",hbci:"hbci","hp-":{hpgl:"hpgl",hpid:"hpid",hps:"hps",jlyt:"jlt",pcl:"pcl",pclxl:"pclxl"},"ibm.":{minipay:"mpy",modcap:["afp","listafp","list3820"],"rights-management":"irm","secure-container":"sc"},iccprofile:["icc","icm"],igloader:"igl","immervision-":{ivp:"ivp",ivu:"ivu"},intergeo:"i2g","intu.":{qbo:"qbo",qfx:"qfx"},jam:"jam",jisp:"jisp",kahootz:["ktz","ktr"],"kde.":{karbon:"karbon",kchart:"chrt",kformula:"kfo",kivio:"flw",kontour:"kon",kpresenter:["kpr","kpt"],kspread:"ksp",kword:["kwd","kwt"]},kenameaapp:"htke",kidspiration:"kia",kinar:["kne","knp"],koan:["skp","skd","skt","skm"],"lotus-":{approach:"apr",freelance:"pre",notes:"nsf",organizer:"org",screencam:"scm",wordpro:"lwp","1-2-3":"123"},mcd:"mcd",medcalcdata:"mc1",mfer:"mwf",mfmp:"mfm","micrografx.":{flo:"flo",igx:"igx"},mif:"mif","mobius.":{daf:"daf",dis:"dis",mbk:"mbk",mqy:"mqy",msl:"msl",plc:"plc",txf:"txf"},"mophun.":{application:"mpn",certificate:"mpc"},"ms-":{artgalry:"cil",excel:["xls","xlm","xla","xlc","xlt","xlw"],"excel.":{"sheet.":{"macroenabled.12":"xlsm","binary.macroenabled.12":"xlsb"},"addin.macroenabled.12":"xlam","template.macroenabled.12":"xltm"},fontobject:"eot",htmlhelp:"chm",ims:"ims",lrm:"lrm",officetheme:"thmx","pki.":{seccat:"cat",stl:"stl"},powerpoint:["ppt","pps","pot"],"powerpoint.":{"addin.macroenabled.12":"ppam","presentation.macroenabled.12":"pptm","slide.macroenabled.12":"sldm","slideshow.macroenabled.12":"ppsm","template.macroenabled.12":"potm"},project:["mpp","mpt"],"word.":{"document.macroenabled.12":"docm","template.macroenabled.12":"dotm"},works:["wps","wks","wcm","wdb"],wpl:"wpl",xpsdocument:"xps","cab-compressed":"cab"},mseq:"mseq",musician:"mus",mynfc:"taglet",nitf:["ntf","nitf"],"noblenet-":{directory:"nnd",sealer:"nns",web:"nnw"},"nokia.":{"radio-":{preset:"rpst",presets:"rpss"},"n-gage.":{data:"ngdat","symbian.install":"n-gage"}},"novadigm.":{edm:"edm",edx:"edx",ext:"ext"},"osgi.":{dp:"dp",subsystem:"esa"},palm:["pdb","pqa","oprc"],pawaafile:"paw","pg.":{format:"str",osasli:"ei6"},picsel:"efif",pocketlearn:"plf",powerbuilder6:"pbd","recordare.":{musicxml:"mxl","musicxml+xml":"musicxml"},"rn-":{realmedia:"rm","realmedia-vbr":"rmvb"},seemail:"see",sema:"sema",semd:"semd",semf:"semf",smaf:"mmf","spotfire.":{dxp:"dxp",sfs:"sfs"},"stardivision.":{calc:"sdc",draw:"sda",impress:"sdd",math:"smf",writer:["sdw","vor"],"writer-global":"sgl"},"stepmania.":{"package":"smzip",stepchart:"sm"},svd:"svd","syncml+xml":"xsm","syncml.":{"dm+wbxml":"bdm","dm+xml":"xdm"},trueapp:"tra",ufdl:["ufd","ufdl"],umajin:"umj",unity:"unityweb","uoml+xml":"uoml",vcx:"vcx",visio:["vsd","vst","vss","vsw"],visionary:"vis",vsf:"vsf","wap.":{wbxml:"wbxml",wmlc:"wmlc",wmlscriptc:"wmlsc"},webturbo:"wtb",wordperfect:"wpd",wqd:"wqd",xara:"xar",xfdl:"xfdl","yamaha.":{"hv-":{dic:"hvd",script:"hvs",voice:"hvp"},openscoreformat:"osf","smaf-":{audio:"saf",phrase:"spf"},"openscoreformat.osfpvg+xml":"osfpvg"},zul:["zir","zirz"],"3gpp2.tcap":"tcap","accpac.simply.":{aso:"aso",imp:"imp"},"ahead.space":"ahead","airzip.filesecure.":{azf:"azf",azs:"azs"},"amazon.ebook":"azw","americandynamics.acc":"acc","amiga.ami":"ami","anser-web-":{"certificate-issue-initiation":"cii","funds-transfer-initiation":"fti"},"aristanetworks.swi":"swi","blueice.multipass":"mpm","cloanto.rp9":"rp9","clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"cluetrust.cartomobile-":{config:"c11amc","config-pkg":"c11amz"},"contact.cmsg":"cdbcmsg","criticaltools.wbs+xml":"wbs","ctc-posml":"pml","cups-ppd":"ppd","dolby.mlp":"mlp","ds-keypoint":"kpxx","ecowin.chart":"mag","fluxtime.clip":"ftc","fsc.weblaunch":"fsc","genomatix.tuxedo":"txd","geometry-explorer":["gex","gre"],"google-earth.":{"kml+xml":"kml",kmz:"kmz"},"handheld-entertainment+xml":"zmm","insors.igm":"igm","intercon.formnet":["xpw","xpx"],"ipunplugged.rcprofile":"rcprofile","irepository.package+xml":"irp","is-xpr":"xpr","isac.fcs":"fcs","kodak-descriptor":"sse","las.las+xml":"lasxml","macports.portpkg":"portpkg","mediastation.cdkey":"cdkey","mozilla.xul+xml":"xul","muvee.style":"msty","neurolanguage.nlu":"nlu","oasis.opendocument.":{chart:"odc",database:"odb",formula:"odf",graphics:"odg",image:"odi",presentation:"odp",spreadsheet:"ods",text:"odt","text-":{master:"odm",template:"ott",web:"oth"},"chart-template":"otc","formula-template":"odft","graphics-template":"otg","image-template":"oti","presentation-template":"otp","spreadsheet-template":"ots"},"olpc-sugar":"xo","oma.dd2+xml":"dd2","openofficeorg.extension":"oxt","openxmlformats-officedocument.":{"presentationml.":{presentation:"pptx",slide:"sldx",slideshow:"ppsx",template:"potx"},"spreadsheetml.":{sheet:"xlsx",template:"xltx"},"wordprocessingml.":{document:"docx",template:"dotx"}},"pmi.widget":"wg","previewsystems.box":"box","proteus.magazine":"mgz","pvi.ptid1":"ptid","quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"realvnc.bed":"bed","rig.cryptonote":"cryptonote","rim.cod":"cod","route66.link66+xml":"link66","sailingtracker.track":"st","shana.informed.":{formdata:"ifm",formtemplate:"itp",interchange:"iif","package":"ipk"},"simtech-mindmapper":["twd","twds"],"smart.teacher":"teacher","solent.sdkm+xml":["sdkm","sdkd"],"sun.xml.":{calc:"sxc",draw:"sxd",impress:"sxi",math:"sxm",writer:"sxw","writer.":{global:"sxg",template:"stw"},"calc.template":"stc","draw.template":"std","impress.template":"sti"},"sus-calendar":["sus","susp"],"symbian.install":["sis","sisx"],"tcpdump.pcap":["pcap","cap","dmp"],"tmobile-livetv":"tmo","trid.tpt":"tpt","triscape.mxs":"mxs","uiq.theme":"utz","wolfram.player":"nbp","wt.stf":"stf","zzazz.deck+xml":"zaz","3gpp.pic-bw-":{large:"plb",small:"psb","var":"pvb"},"3m.post-it-notes":"pwn","android.package-archive":"apk","antix.game-component":"atx","astraea-software.iota":"iota","chipnuts.karaoke-mmd":"mmd","data-vision.rdz":"rdz","denovo.fcselayout-link":"fe_launch","hhe.lesson-player":"les","hydrostatix.sof-data":"sfd-hdstx","jcp.javame.midlet-rms":"rms","joost.joda-archive":"joda","llamagraphics.life-balance.":{desktop:"lbd","exchange+xml":"lbe"},"osgeo.mapguide.package":"mgp","publishare-delta-tree":"qps","tao.intent-module-archive":"tao","yellowriver-custom-menu":"cmp"},"voicexml+xml":"vxml",widget:"wgt",winhlp:"hlp","wsdl+xml":"wsdl","wspolicy+xml":"wspolicy","x-":{abiword:"abw","authorware-":{bin:["aab","x32","u32","vox"],map:"aam",seg:"aas"},bcpio:"bcpio",bittorrent:"torrent",blorb:["blb","blorb"],bzip:"bz",bzip2:["bz2","boz"],cbr:["cbr","cba","cbt","cbz","cb7"],cdlink:"vcd",chat:"chat",conference:"nsc",cpio:"cpio",csh:"csh",director:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],doom:"wad","dtbncx+xml":"ncx","dtbook+xml":"dtb","dtbresource+xml":"res",dvi:"dvi",envoy:"evy",eva:"eva","font-":{bdf:"bdf",ghostscript:"gsf",otf:"otf",pcf:"pcf",snf:"snf",ttf:["ttf","ttc"],type1:["pfa","pfb","pfm","afm"],"linux-psf":"psf"},freearc:"arc",futuresplash:"spl",glulx:"ulx",gnumeric:"gnumeric",gtar:"gtar",hdf:"hdf",latex:"latex",mie:"mie","ms-":{application:"application",shortcut:"lnk",wmd:"wmd",wmz:"wmz",xbap:"xbap"},msaccess:"mdb",msbinder:"obd",mscardfile:"crd",msclip:"clp",msdownload:["exe","dll","com","bat","msi"],msmediaview:["mvb","m13","m14"],msmetafile:["wmf","wmz","emf","emz"],msmoney:"mny",mspublisher:"pub",msschedule:"scd",msterminal:"trm",mswrite:"wri",netcdf:["nc","cdf"],nzb:"nzb",pkcs12:["p12","pfx"],"pkcs7-":{certificates:["p7b","spc"],certreqresp:"p7r"},sh:"sh",shar:"shar",sql:"sql",stuffit:"sit",stuffitx:"sitx",subrip:"srt",sv4cpio:"sv4cpio",sv4crc:"sv4crc",tads:"gam",tar:"tar",tcl:"tcl",tex:"tex",texinfo:["texinfo","texi"],tgif:"obj",ustar:"ustar",xfig:"fig","xliff+xml":"xlf",xpinstall:"xpi",xz:"xz",zmachine:["z1","z2","z3","z4","z5","z6","z7","z8"],"7z-compressed":"7z","ace-compressed":"ace","apple-diskimage":"dmg","cfs-compressed":"cfs","chess-pgn":"pgn","debian-package":["deb","udeb"],"dgc-compressed":"dgc","gca-compressed":"gca","gramps-xml":"gramps","install-instructions":"install","iso9660-image":"iso","lzh-compressed":["lzh","lha"],"mobipocket-ebook":["prc","mobi"],"rar-compressed":"rar","shockwave-flash":"swf","silverlight-app":"xap","t3vm-image":"t3","tex-tfm":"tfm","wais-source":"src","java-jnlp-file":"jnlp","research-info-systems":"ris","x509-ca-cert":["der","crt"]},"xaml+xml":"xaml","xenc+xml":"xenc","xhtml+xml":["xhtml","xht"],xml:["xml","xsl"],"xop+xml":"xop","xproc+xml":"xpl","xslt+xml":"xslt","xspf+xml":"xspf","xv+xml":["mxml","xhvml","xvml","xvm"],yang:"yang","yin+xml":"yin",zip:"zip","andrew-inset":"ez","cu-seeme":"cu","octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy"],"oebps-package+xml":"opf","pics-rules":"prf","prs.cww":"cww","rls-services+xml":"rs","timestamped-data":"tsd","xcap-diff+xml":"xdf","xml-dtd":"dtd","patch-ops-error+xml":"xer","relax-ng-compact-syntax":"rnc"},"audio/":{adpcm:"adp",basic:["au","snd"],midi:["mid","midi","kar","rmi"],mp4:["m4a","mp4a"],mpeg:["mpga","mp2","mp2a","mp3","m2a","m3a"],ogg:["oga","ogg","spx"],s3m:"s3m",silk:"sil","vnd.":{dra:"dra",dts:"dts","nuera.":{ecelp4800:"ecelp4800",ecelp7470:"ecelp7470",ecelp9600:"ecelp9600"},rip:"rip","dece.audio":["uva","uvva"],"digital-winds":"eol","dts.hd":"dtshd","lucent.voice":"lvp","ms-playready.media.pya":"pya"},webm:"weba","x-":{aac:"aac",aiff:["aif","aiff","aifc"],caf:"caf",flac:"flac",matroska:"mka",mpegurl:"m3u","ms-":{wax:"wax",wma:"wma"},"pn-":{realaudio:["ram","ra"],"realaudio-plugin":"rmp"},wav:"wav"},xm:"xm"},"image/":{bmp:"bmp",cgm:"cgm",g3fax:"g3",gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],ktx:"ktx",png:"png",sgi:"sgi","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"vnd.":{djvu:["djvu","djv"],dwg:"dwg",dxf:"dxf",fastbidsheet:"fbs",fpx:"fpx",fst:"fst","ms-":{modi:"mdi",photo:"wdp"},xiff:"xif","adobe.photoshop":"psd","dece.graphic":["uvi","uvvi","uvg","uvvg"],"dvb.subtitle":"sub","fujixerox.edmics-":{mmr:"mmr",rlc:"rlc"},"net-fpx":"npx","wap.wbmp":"wbmp"},webp:"webp","x-":{"3ds":"3ds",cmx:"cmx",freehand:["fh","fhc","fh4","fh5","fh7"],icon:"ico",pcx:"pcx",pict:["pic","pct"],"portable-":{anymap:"pnm",bitmap:"pbm",graymap:"pgm",pixmap:"ppm"},rgb:"rgb",tga:"tga",xbitmap:"xbm",xpixmap:"xpm",xwindowdump:"xwd","cmu-raster":"ras","mrsid-image":"sid"},"prs.btif":"btif"},"model/":{iges:["igs","iges"],mesh:["msh","mesh","silo"],"vnd.":{"collada+xml":"dae",dwf:"dwf",gdl:"gdl",gtw:"gtw",mts:"mts",vtu:"vtu"},vrml:["wrl","vrml"],"x3d+binary":["x3db","x3dbz"],"x3d+vrml":["x3dv","x3dvz"],"x3d+xml":["x3d","x3dz"]},"text/":{calendar:["ics","ifb"],css:"css",csv:"csv",html:["html","htm"],n3:"n3",plain:["txt","text","conf","def","list","log","in"],richtext:"rtx",sgml:["sgml","sgm"],troff:["t","tr","roff","man","me","ms"],turtle:"ttl",vcard:"vcard","vnd.":{curl:"curl","curl.":{dcurl:"dcurl",mcurl:"mcurl",scurl:"scurl"},fly:"fly",graphviz:"gv","in3d.":{"3dml":"3dml",spot:"spot"},"wap.":{wml:"wml",wmlscript:"wmls"},"dvb.subtitle":"sub","fmi.flexstor":"flx","sun.j2me.app-descriptor":"jad"},"x-":{asm:["s","asm"],c:["c","cc","cxx","cpp","h","hh","dic"],fortran:["f","for","f77","f90"],nfo:"nfo",opml:"opml",pascal:["p","pas"],setext:"etx",sfv:"sfv",uuencode:"uu",vcalendar:"vcs",vcard:"vcf","java-source":"java"},"cache-manifest":"appcache","uri-list":["uri","uris","urls"],"prs.lines.tag":"dsc","tab-separated-values":"tsv"},"video/":{"3gpp":"3gp","3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],mp4:["mp4","mp4v","mpg4"],mpeg:["mpeg","mpg","mpe","m1v","m2v"],ogg:"ogv",quicktime:["qt","mov"],"vnd.":{"dece.":{hd:["uvh","uvvh"],mobile:["uvm","uvvm"],pd:["uvp","uvvp"],sd:["uvs","uvvs"],video:["uvv","uvvv"]},fvt:"fvt",mpegurl:["mxu","m4u"],vivo:"viv","dvb.file":"dvb","uvvu.mp4":["uvu","uvvu"],"ms-playready.media.pyv":"pyv"},webm:"webm","x-":{f4v:"f4v",fli:"fli",flv:"flv",m4v:"m4v",matroska:["mkv","mk3d","mks"],mng:"mng","ms-":{asf:["asf","asx"],vob:"vob",wm:"wm",wmv:"wmv",wmx:"wmx",wvx:"wvx"},msvideo:"avi",smv:"smv","sgi-movie":"movie"}},"chemical/x-":{cdx:"cdx",cif:"cif",cmdf:"cmdf",cml:"cml",csml:"csml",xyz:"xyz"},"message/rfc822":["eml","mime"],"x-conference/x-cooltalk":"ice"}},function(e,t){e.exports={aa:"aa",ar:"ar",az:"az",bg:"bg",bn:"bn",ca:"ca",cs:"cs",da:"da",de:"de",el:"el",en:"en",es:"es",fa:"fa",fi:"fi",fil:"fil",fr:"fr",he:"he",hi:"hi",hr:"hr",hu:"hu",id:"id",it:"it",kk:"kk",kn:"kn",lt:"lt",lv:"lv",mk:"mk",ml:"ml",mr:"mr",ms:"ms",nb:"nb",nl:"nl",pl:"pl",pt:"pt",pt_br:"pt-BR",pt_zz:"pt-BR",ro:"ro",ru:"ru",sk:"sk",sl:"sl",sn:"sn",sq:"sq",sr:"sr",sv:"sv",sw:"sw",ta:"ta",th:"th",tr:"tr",uk:"uk",uz:"uz",vi:"vi",zh_cn:"zh-CN",zh_hk:"zh-TW",zh_sg:"zh-CN",zh_tw:"zh-TW"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){function n(e){return r(o(e))}function o(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var i={"./af":286,"./af.js":286,"./ar":289,"./ar-ma":287,"./ar-ma.js":287,"./ar-sa":288,"./ar-sa.js":288,"./ar.js":289,"./az":290,"./az.js":290,"./be":291,"./be.js":291,"./bg":292,"./bg.js":292,"./bn":293,"./bn.js":293,"./bo":294,"./bo.js":294,"./br":295,"./br.js":295,"./bs":296,"./bs.js":296,"./ca":297,"./ca.js":297,"./cs":298,"./cs.js":298,"./cv":299,"./cv.js":299,"./cy":300,"./cy.js":300,"./da":301,"./da.js":301,"./de":303,"./de-at":302,"./de-at.js":302,"./de.js":303,"./el":304,"./el.js":304,"./en-au":305,"./en-au.js":305,"./en-ca":306,"./en-ca.js":306,"./en-gb":307,"./en-gb.js":307,"./eo":308,"./eo.js":308,"./es":309,"./es.js":309,"./et":310,"./et.js":310,"./eu":311,"./eu.js":311,"./fa":312,"./fa.js":312,"./fi":313,"./fi.js":313,"./fo":314,"./fo.js":314,"./fr":316,"./fr-ca":315,"./fr-ca.js":315,"./fr.js":316,"./gl":317,"./gl.js":317,"./he":318,"./he.js":318,"./hi":319,"./hi.js":319,"./hr":320,"./hr.js":320,"./hu":321,"./hu.js":321,"./hy-am":322,"./hy-am.js":322,"./id":323,"./id.js":323,"./is":324,"./is.js":324,"./it":325,"./it.js":325,"./ja":326,"./ja.js":326,"./ka":327,"./ka.js":327,"./km":328,"./km.js":328,"./ko":329,"./ko.js":329,"./lb":330,"./lb.js":330,"./lt":331,"./lt.js":331,"./lv":332,"./lv.js":332,"./mk":333,"./mk.js":333,"./ml":334,"./ml.js":334,"./mr":335,"./mr.js":335,"./ms-my":336,"./ms-my.js":336,"./my":337,"./my.js":337,"./nb":338,"./nb.js":338,"./ne":339,"./ne.js":339,"./nl":340,"./nl.js":340,"./nn":341,"./nn.js":341,"./pl":342,"./pl.js":342,"./pt":344,"./pt-br":343,"./pt-br.js":343,"./pt.js":344,"./ro":345,"./ro.js":345,"./ru":346,"./ru.js":346,"./sk":347,"./sk.js":347,"./sl":348,"./sl.js":348,"./sq":349,"./sq.js":349,"./sr":351,"./sr-cyrl":350,"./sr-cyrl.js":350,"./sr.js":351,"./sv":352,"./sv.js":352,"./ta":353,"./ta.js":353,"./th":354,"./th.js":354,"./tl-ph":355,"./tl-ph.js":355,"./tr":356,"./tr.js":356,"./tzm":358,"./tzm-latn":357,"./tzm-latn.js":357,"./tzm.js":358,"./uk":359,"./uk.js":359,"./uz":360,"./uz.js":360,"./vi":361,"./vi.js":361,"./zh-cn":362,"./zh-cn.js":362,"./zh-tw":363,"./zh-tw.js":363};n.keys=function(){return Object.keys(i)},n.resolve=o,e.exports=n,n.id=713},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){e.exports=function(){return r(443)('/*! Copyright (c) 2015 WhatsApp Inc.  All Rights Reserved. */\n!function(t){function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}var e={};return r.m=t,r.c=e,r.oe=function(t){throw t},r.p="/",r(r.s=7)}([function(t,r,e){!function(e,n){t.exports=r=n()}(this,function(){var t=t||function(t,r){var e={},n=e.lib={},i=n.Base=function(){function t(){}return{extend:function(r){t.prototype=this;var e=new t;return r&&e.mixIn(r),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=n.WordArray=i.extend({init:function(t,e){t=this.words=t||[],e!=r?this.sigBytes=e:this.sigBytes=4*t.length},toString:function(t){return(t||s).stringify(this)},concat:function(t){var r=this.words,e=t.words,n=this.sigBytes,i=t.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var a=e[o>>>2]>>>24-o%4*8&255;r[n+o>>>2]|=a<<24-(n+o)%4*8}else for(var o=0;o<i;o+=4)r[n+o>>>2]=e[o>>>2];return this.sigBytes+=i,this},clamp:function(){var r=this.words,e=this.sigBytes;r[e>>>2]&=4294967295<<32-e%4*8,r.length=t.ceil(e/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(r){for(var e,n=[],i=function(r){var r=r,e=987654321,n=4294967295;return function(){e=36969*(65535&e)+(e>>16)&n,r=18e3*(65535&r)+(r>>16)&n;var i=(e<<16)+r&n;return i/=4294967296,i+=.5,i*(t.random()>.5?1:-1)}},a=0;a<r;a+=4){var s=i(4294967296*(e||t.random()));e=987654071*s(),n.push(4294967296*s()|0)}return new o.init(n,r)}}),a=e.enc={},s=a.Hex={stringify:function(t){for(var r=t.words,e=t.sigBytes,n=[],i=0;i<e;i++){var o=r[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var r=t.length,e=[],n=0;n<r;n+=2)e[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new o.init(e,r/2)}},c=a.Latin1={stringify:function(t){for(var r=t.words,e=t.sigBytes,n=[],i=0;i<e;i++){var o=r[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var r=t.length,e=[],n=0;n<r;n++)e[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new o.init(e,r)}},f=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(r){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},u=n.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(r){var e=this._data,n=e.words,i=e.sigBytes,a=this.blockSize,s=4*a,c=i/s;c=r?t.ceil(c):t.max((0|c)-this._minBufferSize,0);var f=c*a,u=t.min(4*f,i);if(f){for(var h=0;h<f;h+=a)this._doProcessBlock(n,h);var p=n.splice(0,f);e.sigBytes-=u}return new o.init(p,u)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),h=(n.Hasher=u.extend({cfg:i.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var r=this._doFinalize();return r},blockSize:16,_createHelper:function(t){return function(r,e){return new t.init(e).finalize(r)}},_createHmacHelper:function(t){return function(r,e){return new h.HMAC.init(t,e).finalize(r)}}}),e.algo={});return e}(Math);return t})},function(t,r,e){!function(n,i){t.exports=r=i(e(0))}(this,function(t){return function(){var r=t,e=r.lib,n=e.WordArray,i=r.enc;i.Base64={stringify:function(t){var r=t.words,e=t.sigBytes,n=this._map;t.clamp();for(var i=[],o=0;o<e;o+=3)for(var a=r[o>>>2]>>>24-o%4*8&255,s=r[o+1>>>2]>>>24-(o+1)%4*8&255,c=r[o+2>>>2]>>>24-(o+2)%4*8&255,f=a<<16|s<<8|c,u=0;u<4&&o+.75*u<e;u++)i.push(n.charAt(f>>>6*(3-u)&63));var h=n.charAt(64);if(h)for(;i.length%4;)i.push(h);return i.join("")},parse:function(t){var r=t.length,e=this._map,i=e.charAt(64);if(i){var o=t.indexOf(i);o!=-1&&(r=o)}for(var a=[],s=0,c=0;c<r;c++)if(c%4){var f=e.indexOf(t.charAt(c-1))<<c%4*2,u=e.indexOf(t.charAt(c))>>>6-c%4*2,h=f|u;a[s>>>2]|=h<<24-s%4*8,s++}return n.create(a,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),t.enc.Base64})},function(t,r,e){!function(n,i){t.exports=r=i(e(0))}(this,function(t){!function(){var r=t,e=r.lib,n=e.Base,i=r.enc,o=i.Utf8,a=r.algo;a.HMAC=n.extend({init:function(t,r){t=this._hasher=new t.init,"string"==typeof r&&(r=o.parse(r));var e=t.blockSize,n=4*e;r.sigBytes>n&&(r=t.finalize(r)),r.clamp();for(var i=this._oKey=r.clone(),a=this._iKey=r.clone(),s=i.words,c=a.words,f=0;f<e;f++)s[f]^=1549556828,c[f]^=909522486;i.sigBytes=a.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var r=this._hasher,e=r.finalize(t);r.reset();var n=r.finalize(this._oKey.clone().concat(e));return n}})}()})},function(t,r,e){"use strict";var n=e(8),i={encrypt:function(t,r,e,i){var o=CryptoJS.lib.WordArray.create(t),a=CryptoJS.AES.encrypt(o,r,{iv:CryptoJS.lib.WordArray.create(i),mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7}),s=a.iv.concat(a.ciphertext),c=CryptoJS.HmacSHA256(s,e),f=c.concat(s);return n.decode(f.toString(CryptoJS.enc.Base64))},decrypt:function(t,r,e){var i=n.encode(t.slice(0,32)),o=t.slice(32),a=CryptoJS.lib.WordArray.create(o),s=CryptoJS.HmacSHA256(a,e).toString(CryptoJS.enc.Base64);if(i!==s)throw new Error("HMAC don\'t match "+i+" vs. "+s);var c=t.slice(32,48),f=t.slice(48),u=CryptoJS.AES.decrypt({ciphertext:CryptoJS.lib.WordArray.create(f),salt:void 0},r,{iv:CryptoJS.lib.WordArray.create(c),mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7});return n.decode(u.toString(CryptoJS.enc.Base64))}};t.exports=i},function(t,r,e){!function(n,i,o){t.exports=r=i(e(0),e(1),e(11),e(10),e(9))}(this,function(t){return function(){var r=t,e=r.lib,n=e.BlockCipher,i=r.algo,o=[],a=[],s=[],c=[],f=[],u=[],h=[],p=[],l=[],d=[];!function(){for(var t=[],r=0;r<256;r++)r<128?t[r]=r<<1:t[r]=r<<1^283;for(var e=0,n=0,r=0;r<256;r++){var i=n^n<<1^n<<2^n<<3^n<<4;i=i>>>8^255&i^99,o[e]=i,a[i]=e;var y=t[e],v=t[y],_=t[v],g=257*t[i]^16843008*i;s[e]=g<<24|g>>>8,c[e]=g<<16|g>>>16,f[e]=g<<8|g>>>24,u[e]=g;var g=16843009*_^65537*v^257*y^16843008*e;h[i]=g<<24|g>>>8,p[i]=g<<16|g>>>16,l[i]=g<<8|g>>>24,d[i]=g,e?(e=y^t[t[t[_^y]]],n^=t[t[n]]):e=n=1}}();var y=[0,1,2,4,8,16,32,64,128,27,54],v=i.AES=n.extend({_doReset:function(){for(var t=this._key,r=t.words,e=t.sigBytes/4,n=this._nRounds=e+6,i=4*(n+1),a=this._keySchedule=[],s=0;s<i;s++)if(s<e)a[s]=r[s];else{var c=a[s-1];s%e?e>6&&s%e==4&&(c=o[c>>>24]<<24|o[c>>>16&255]<<16|o[c>>>8&255]<<8|o[255&c]):(c=c<<8|c>>>24,c=o[c>>>24]<<24|o[c>>>16&255]<<16|o[c>>>8&255]<<8|o[255&c],c^=y[s/e|0]<<24),a[s]=a[s-e]^c}for(var f=this._invKeySchedule=[],u=0;u<i;u++){var s=i-u;if(u%4)var c=a[s];else var c=a[s-4];u<4||s<=4?f[u]=c:f[u]=h[o[c>>>24]]^p[o[c>>>16&255]]^l[o[c>>>8&255]]^d[o[255&c]]}},encryptBlock:function(t,r){this._doCryptBlock(t,r,this._keySchedule,s,c,f,u,o)},decryptBlock:function(t,r){var e=t[r+1];t[r+1]=t[r+3],t[r+3]=e,this._doCryptBlock(t,r,this._invKeySchedule,h,p,l,d,a);var e=t[r+1];t[r+1]=t[r+3],t[r+3]=e},_doCryptBlock:function(t,r,e,n,i,o,a,s){for(var c=this._nRounds,f=t[r]^e[0],u=t[r+1]^e[1],h=t[r+2]^e[2],p=t[r+3]^e[3],l=4,d=1;d<c;d++){var y=n[f>>>24]^i[u>>>16&255]^o[h>>>8&255]^a[255&p]^e[l++],v=n[u>>>24]^i[h>>>16&255]^o[p>>>8&255]^a[255&f]^e[l++],_=n[h>>>24]^i[p>>>16&255]^o[f>>>8&255]^a[255&u]^e[l++],g=n[p>>>24]^i[f>>>16&255]^o[u>>>8&255]^a[255&h]^e[l++];f=y,u=v,h=_,p=g}var y=(s[f>>>24]<<24|s[u>>>16&255]<<16|s[h>>>8&255]<<8|s[255&p])^e[l++],v=(s[u>>>24]<<24|s[h>>>16&255]<<16|s[p>>>8&255]<<8|s[255&f])^e[l++],_=(s[h>>>24]<<24|s[p>>>16&255]<<16|s[f>>>8&255]<<8|s[255&u])^e[l++],g=(s[p>>>24]<<24|s[f>>>16&255]<<16|s[u>>>8&255]<<8|s[255&h])^e[l++];t[r]=y,t[r+1]=v,t[r+2]=_,t[r+3]=g},keySize:8});r.AES=n._createHelper(v)}(),t.AES})},function(t,r,e){!function(n,i,o){t.exports=r=i(e(0),e(13),e(2))}(this,function(t){return t.HmacSHA256})},function(t,r,e){!function(n,i){t.exports=r=i(e(0))}(this,function(t){return function(){if("function"==typeof ArrayBuffer){var r=t,e=r.lib,n=e.WordArray,i=n.init,o=n.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var r=t.byteLength,e=[],n=0;n<r;n++)e[n>>>2]|=t[n]<<24-n%4*8;i.call(this,e,r)}else i.apply(this,arguments)};o.prototype=n}}(),t.lib.WordArray})},function(t,r,e){"use strict";self.CryptoJS=e(0),e(6),e(1),e(5),e(4);var n=e(3);self.onmessage=function(t){if(!t.data)throw new Error("no data given to the worker");var r=CryptoJS.enc.Base64.parse(t.data.encKey),e=CryptoJS.enc.Base64.parse(t.data.macKey);switch(t.data.command){case"decrypt":postMessage(n.decrypt(t.data.ab,r,e));break;case"encrypt":postMessage(n.encrypt(t.data.ab,r,e,t.data.ivBuf));break;default:throw new Error("unknown crypto worker command: "+t.data.command)}}},function(t,r){"use strict";function e(t){if((Array.isArray(t)||t instanceof ArrayBuffer)&&(t=new Uint8Array(t)),t.length<=a)return n(t);for(var r=[],e=0;e<t.length;e+=a)r.push(n(t.subarray(e,e+a)));return r.join("")}function n(t){for(var r=Math.ceil(4*t.length/3),e=4*Math.ceil(t.length/3),n=new Array(e),i=0,o=0;i<e;i+=4,o+=3){var a=t[o]<<16|t[o+1]<<8|t[o+2];n[i]=a>>18,n[i+1]=a>>12&63,n[i+2]=a>>6&63,n[i+3]=63&a}for(var s=0;s<r;s++){var c=n[s];c<26?n[s]=65+c:c<52?n[s]=71+c:c<62?n[s]=c-4:62===c?n[s]=43:n[s]=47}for(var f=r;f<e;f++)n[f]=61;return String.fromCharCode.apply(String,n)}function i(t){for(var r=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],e=t.length,n=new Int32Array(e+e%4),i=0;i<e;i++){var o=t.charCodeAt(i);if(65<=o&&o<=90)n[i]=o-65;else if(97<=o&&o<=122)n[i]=o-71;else if(48<=o&&o<=57)n[i]=o+4;else if(43===o)n[i]=62;else{if(47!==o){if(61===o){e=i;break}return null}n[i]=63}}for(var a=n.length/4,s=0,c=0;s<a;s++,c+=4)n[s]=n[c]<<18|n[c+1]<<12|n[c+2]<<6|n[c+3];for(var f=Math.floor(3*e/4),u=new Uint8Array(f),h=0,p=0;p+3<=f;h++,p+=3){var l=n[h];u[p]=l>>16,u[p+1]=l>>8&255,u[p+2]=255&l}switch(f-p){case 2:u[p]=n[h]>>16,u[p+1]=n[h]>>8&255;break;case 1:u[p]=n[h]>>16}return r?Array.prototype.slice.call(u):u.buffer}function o(t){return t.replace(/\\+/g,"-").replace(/\\//g,"_")}var a=3e3;t.exports={encode:e,decode:i,urlSafe:o}},function(t,r,e){!function(n,i){t.exports=r=i(e(0))}(this,function(t){t.lib.Cipher||function(r){var e=t,n=e.lib,i=n.Base,o=n.WordArray,a=n.BufferedBlockAlgorithm,s=e.enc,c=(s.Utf8,s.Base64),f=e.algo,u=f.EvpKDF,h=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(t,r){return this.create(this._ENC_XFORM_MODE,t,r)},createDecryptor:function(t,r){return this.create(this._DEC_XFORM_MODE,t,r)},init:function(t,r,e){this.cfg=this.cfg.extend(e),this._xformMode=t,this._key=r,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){t&&this._append(t);var r=this._doFinalize();return r},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?A:B}return function(r){return{encrypt:function(e,n,i){return t(n).encrypt(r,e,n,i)},decrypt:function(e,n,i){return t(n).decrypt(r,e,n,i)}}}}()}),p=(n.StreamCipher=h.extend({_doFinalize:function(){var t=this._process(!0);return t},blockSize:1}),e.mode={}),l=n.BlockCipherMode=i.extend({createEncryptor:function(t,r){return this.Encryptor.create(t,r)},createDecryptor:function(t,r){return this.Decryptor.create(t,r)},init:function(t,r){this._cipher=t,this._iv=r}}),d=p.CBC=function(){function t(t,e,n){var i=this._iv;if(i){var o=i;this._iv=r}else var o=this._prevBlock;for(var a=0;a<n;a++)t[e+a]^=o[a]}var e=l.extend();return e.Encryptor=e.extend({processBlock:function(r,e){var n=this._cipher,i=n.blockSize;t.call(this,r,e,i),n.encryptBlock(r,e),this._prevBlock=r.slice(e,e+i)}}),e.Decryptor=e.extend({processBlock:function(r,e){var n=this._cipher,i=n.blockSize,o=r.slice(e,e+i);n.decryptBlock(r,e),t.call(this,r,e,i),this._prevBlock=o}}),e}(),y=e.pad={},v=y.Pkcs7={pad:function(t,r){for(var e=4*r,n=e-t.sigBytes%e,i=n<<24|n<<16|n<<8|n,a=[],s=0;s<n;s+=4)a.push(i);var c=o.create(a,n);t.concat(c)},unpad:function(t){var r=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=r}},_=(n.BlockCipher=h.extend({cfg:h.cfg.extend({mode:d,padding:v}),reset:function(){h.reset.call(this);var t=this.cfg,r=t.iv,e=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=e.createEncryptor;else{var n=e.createDecryptor;this._minBufferSize=1}this._mode=n.call(e,this,r&&r.words)},_doProcessBlock:function(t,r){this._mode.processBlock(t,r)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var r=this._process(!0)}else{var r=this._process(!0);t.unpad(r)}return r},blockSize:4}),n.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),g=e.format={},S=g.OpenSSL={stringify:function(t){var r=t.ciphertext,e=t.salt;if(e)var n=o.create([1398893684,1701076831]).concat(e).concat(r);else var n=r;return n.toString(c)},parse:function(t){var r=c.parse(t),e=r.words;if(1398893684==e[0]&&1701076831==e[1]){var n=o.create(e.slice(2,4));e.splice(0,4),r.sigBytes-=16}return _.create({ciphertext:r,salt:n})}},B=n.SerializableCipher=i.extend({cfg:i.extend({format:S}),encrypt:function(t,r,e,n){n=this.cfg.extend(n);var i=t.createEncryptor(e,n),o=i.finalize(r),a=i.cfg;return _.create({ciphertext:o,key:e,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,r,e,n){n=this.cfg.extend(n),r=this._parse(r,n.format);var i=t.createDecryptor(e,n).finalize(r.ciphertext);return i},_parse:function(t,r){return"string"==typeof t?r.parse(t,this):t}}),m=e.kdf={},x=m.OpenSSL={execute:function(t,r,e,n){n||(n=o.random(8));var i=u.create({keySize:r+e}).compute(t,n),a=o.create(i.words.slice(r),4*e);return i.sigBytes=4*r,_.create({key:i,iv:a,salt:n})}},A=n.PasswordBasedCipher=B.extend({cfg:B.cfg.extend({kdf:x}),encrypt:function(t,r,e,n){n=this.cfg.extend(n);var i=n.kdf.execute(e,t.keySize,t.ivSize);n.iv=i.iv;var o=B.encrypt.call(this,t,r,i.key,n);return o.mixIn(i),o},decrypt:function(t,r,e,n){n=this.cfg.extend(n),r=this._parse(r,n.format);var i=n.kdf.execute(e,t.keySize,t.ivSize,r.salt);n.iv=i.iv;var o=B.decrypt.call(this,t,r,i.key,n);return o}})}()})},function(t,r,e){!function(n,i,o){t.exports=r=i(e(0),e(12),e(2))}(this,function(t){return function(){var r=t,e=r.lib,n=e.Base,i=e.WordArray,o=r.algo,a=o.MD5,s=o.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,r){for(var e=this.cfg,n=e.hasher.create(),o=i.create(),a=o.words,s=e.keySize,c=e.iterations;a.length<s;){f&&n.update(f);var f=n.update(t).finalize(r);n.reset();for(var u=1;u<c;u++)f=n.finalize(f),n.reset();o.concat(f)}return o.sigBytes=4*s,o}});r.EvpKDF=function(t,r,e){return s.create(e).compute(t,r)}}(),t.EvpKDF})},function(t,r,e){!function(n,i){t.exports=r=i(e(0))}(this,function(t){return function(r){function e(t,r,e,n,i,o,a){var s=t+(r&e|~r&n)+i+a;return(s<<o|s>>>32-o)+r}function n(t,r,e,n,i,o,a){var s=t+(r&n|e&~n)+i+a;return(s<<o|s>>>32-o)+r}function i(t,r,e,n,i,o,a){var s=t+(r^e^n)+i+a;return(s<<o|s>>>32-o)+r}function o(t,r,e,n,i,o,a){var s=t+(e^(r|~n))+i+a;return(s<<o|s>>>32-o)+r}var a=t,s=a.lib,c=s.WordArray,f=s.Hasher,u=a.algo,h=[];!function(){for(var t=0;t<64;t++)h[t]=4294967296*r.abs(r.sin(t+1))|0}();var p=u.MD5=f.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,r){for(var a=0;a<16;a++){var s=r+a,c=t[s];t[s]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var f=this._hash.words,u=t[r+0],p=t[r+1],l=t[r+2],d=t[r+3],y=t[r+4],v=t[r+5],_=t[r+6],g=t[r+7],S=t[r+8],B=t[r+9],m=t[r+10],x=t[r+11],A=t[r+12],w=t[r+13],k=t[r+14],C=t[r+15],z=f[0],b=f[1],H=f[2],M=f[3];z=e(z,b,H,M,u,7,h[0]),M=e(M,z,b,H,p,12,h[1]),H=e(H,M,z,b,l,17,h[2]),b=e(b,H,M,z,d,22,h[3]),z=e(z,b,H,M,y,7,h[4]),M=e(M,z,b,H,v,12,h[5]),H=e(H,M,z,b,_,17,h[6]),b=e(b,H,M,z,g,22,h[7]),z=e(z,b,H,M,S,7,h[8]),M=e(M,z,b,H,B,12,h[9]),H=e(H,M,z,b,m,17,h[10]),b=e(b,H,M,z,x,22,h[11]),z=e(z,b,H,M,A,7,h[12]),M=e(M,z,b,H,w,12,h[13]),H=e(H,M,z,b,k,17,h[14]),b=e(b,H,M,z,C,22,h[15]),z=n(z,b,H,M,p,5,h[16]),M=n(M,z,b,H,_,9,h[17]),H=n(H,M,z,b,x,14,h[18]),b=n(b,H,M,z,u,20,h[19]),z=n(z,b,H,M,v,5,h[20]),M=n(M,z,b,H,m,9,h[21]),H=n(H,M,z,b,C,14,h[22]),b=n(b,H,M,z,y,20,h[23]),z=n(z,b,H,M,B,5,h[24]),M=n(M,z,b,H,k,9,h[25]),H=n(H,M,z,b,d,14,h[26]),b=n(b,H,M,z,S,20,h[27]),z=n(z,b,H,M,w,5,h[28]),M=n(M,z,b,H,l,9,h[29]),H=n(H,M,z,b,g,14,h[30]),b=n(b,H,M,z,A,20,h[31]),z=i(z,b,H,M,v,4,h[32]),M=i(M,z,b,H,S,11,h[33]),H=i(H,M,z,b,x,16,h[34]),b=i(b,H,M,z,k,23,h[35]),z=i(z,b,H,M,p,4,h[36]),M=i(M,z,b,H,y,11,h[37]),H=i(H,M,z,b,g,16,h[38]),b=i(b,H,M,z,m,23,h[39]),z=i(z,b,H,M,w,4,h[40]),M=i(M,z,b,H,u,11,h[41]),H=i(H,M,z,b,d,16,h[42]),b=i(b,H,M,z,_,23,h[43]),z=i(z,b,H,M,B,4,h[44]),M=i(M,z,b,H,A,11,h[45]),H=i(H,M,z,b,C,16,h[46]),b=i(b,H,M,z,l,23,h[47]),z=o(z,b,H,M,u,6,h[48]),M=o(M,z,b,H,g,10,h[49]),H=o(H,M,z,b,k,15,h[50]),b=o(b,H,M,z,v,21,h[51]),z=o(z,b,H,M,A,6,h[52]),M=o(M,z,b,H,d,10,h[53]),H=o(H,M,z,b,m,15,h[54]),b=o(b,H,M,z,p,21,h[55]),z=o(z,b,H,M,S,6,h[56]),M=o(M,z,b,H,C,10,h[57]),H=o(H,M,z,b,_,15,h[58]),b=o(b,H,M,z,w,21,h[59]),z=o(z,b,H,M,y,6,h[60]),M=o(M,z,b,H,x,10,h[61]),H=o(H,M,z,b,l,15,h[62]),b=o(b,H,M,z,B,21,h[63]),f[0]=f[0]+z|0,f[1]=f[1]+b|0,f[2]=f[2]+H|0,f[3]=f[3]+M|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;e[i>>>5]|=128<<24-i%32;var o=r.floor(n/4294967296),a=n;e[(i+64>>>9<<4)+15]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),e[(i+64>>>9<<4)+14]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(e.length+1),this._process();for(var s=this._hash,c=s.words,f=0;f<4;f++){var u=c[f];c[f]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var t=f.clone.call(this);return t._hash=this._hash.clone(),t}});a.MD5=f._createHelper(p),a.HmacMD5=f._createHmacHelper(p)}(Math),t.MD5})},function(t,r,e){!function(n,i){t.exports=r=i(e(0))}(this,function(t){return function(){var r=t,e=r.lib,n=e.WordArray,i=e.Hasher,o=r.algo,a=[],s=o.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,r){for(var e=this._hash.words,n=e[0],i=e[1],o=e[2],s=e[3],c=e[4],f=0;f<80;f++){if(f<16)a[f]=0|t[r+f];else{var u=a[f-3]^a[f-8]^a[f-14]^a[f-16];a[f]=u<<1|u>>>31}var h=(n<<5|n>>>27)+c+a[f];h+=f<20?(i&o|~i&s)+1518500249:f<40?(i^o^s)+1859775393:f<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,c=s,s=o,o=i<<30|i>>>2,i=n,n=h}e[0]=e[0]+n|0,e[1]=e[1]+i|0,e[2]=e[2]+o|0,e[3]=e[3]+s|0,e[4]=e[4]+c|0},_doFinalize:function(){var t=this._data,r=t.words,e=8*this._nDataBytes,n=8*t.sigBytes;return r[n>>>5]|=128<<24-n%32,r[(n+64>>>9<<4)+14]=Math.floor(e/4294967296),r[(n+64>>>9<<4)+15]=e,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});r.SHA1=i._createHelper(s),r.HmacSHA1=i._createHmacHelper(s)}(),t.SHA1})},function(t,r,e){!function(n,i){t.exports=r=i(e(0))}(this,function(t){return function(r){var e=t,n=e.lib,i=n.WordArray,o=n.Hasher,a=e.algo,s=[],c=[];!function(){function t(t){for(var e=r.sqrt(t),n=2;n<=e;n++)if(!(t%n))return!1;return!0}function e(t){return 4294967296*(t-(0|t))|0}for(var n=2,i=0;i<64;)t(n)&&(i<8&&(s[i]=e(r.pow(n,.5))),c[i]=e(r.pow(n,1/3)),i++),n++}();var f=[],u=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(t,r){for(var e=this._hash.words,n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],h=e[6],p=e[7],l=0;l<64;l++){if(l<16)f[l]=0|t[r+l];else{var d=f[l-15],y=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,v=f[l-2],_=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;f[l]=y+f[l-7]+_+f[l-16]}var g=s&u^~s&h,S=n&i^n&o^i&o,B=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),m=(s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25),x=p+m+g+c[l]+f[l],A=B+S;p=h,h=u,u=s,s=a+x|0,a=o,o=i,i=n,n=x+A|0}e[0]=e[0]+n|0,e[1]=e[1]+i|0,e[2]=e[2]+o|0,e[3]=e[3]+a|0,e[4]=e[4]+s|0,e[5]=e[5]+u|0,e[6]=e[6]+h|0,e[7]=e[7]+p|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[(i+64>>>9<<4)+14]=r.floor(n/4294967296),e[(i+64>>>9<<4)+15]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(u),e.HmacSHA256=o._createHmacHelper(u)}(Math),t.SHA256})}]);',r.p+"009577734f229df365c1.worker.js");
}},,,function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(84).then(function(t){e(r(892))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(83).then(function(t){e(r(893))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(82).then(function(t){e(r(894))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(81).then(function(t){e(r(895))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(80).then(function(t){e(r(896))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(79).then(function(t){e(r(897))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(78).then(function(t){e(r(898))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(77).then(function(t){e(r(899))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(76).then(function(t){e(r(900))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(75).then(function(t){e(r(901))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(74).then(function(t){e(r(902))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(73).then(function(t){e(r(903))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(72).then(function(t){e(r(904))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(71).then(function(t){e(r(905))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){Promise.resolve().then(function(t){e(r(254))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(70).then(function(t){e(r(906))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(69).then(function(t){e(r(907))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(68).then(function(t){e(r(908))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(67).then(function(t){e(r(909))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(66).then(function(t){e(r(910))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(65).then(function(t){e(r(911))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(64).then(function(t){e(r(912))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(63).then(function(t){e(r(913))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(62).then(function(t){e(r(914))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(61).then(function(t){e(r(915))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(60).then(function(t){e(r(916))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(59).then(function(t){e(r(917))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(58).then(function(t){e(r(918))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(57).then(function(t){e(r(919))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(56).then(function(t){e(r(920))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(55).then(function(t){e(r(921))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(54).then(function(t){e(r(922))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(53).then(function(t){e(r(923))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(52).then(function(t){e(r(924))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(51).then(function(t){e(r(925))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(50).then(function(t){e(r(926))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(49).then(function(t){e(r(927))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(48).then(function(t){e(r(928))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(47).then(function(t){e(r(929))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(46).then(function(t){e(r(930))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(45).then(function(t){e(r(931))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(44).then(function(t){e(r(932))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(43).then(function(t){e(r(933))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(42).then(function(t){e(r(934))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(41).then(function(t){e(r(935))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(40).then(function(t){e(r(936))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(39).then(function(t){e(r(937))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(38).then(function(t){e(r(938))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(37).then(function(t){e(r(939))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(36).then(function(t){e(r(940))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(35).then(function(t){e(r(941))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(34).then(function(t){e(r(942))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(33).then(function(t){e(r(943))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(32).then(function(t){e(r(944))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(31).then(function(t){e(r(945))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(30).then(function(t){e(r(946))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(29).then(function(t){e(r(947))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(28).then(function(t){e(r(948))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(27).then(function(t){e(r(949))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(26).then(function(t){e(r(950))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(25).then(function(t){e(r(951))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(24).then(function(t){e(r(952))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(23).then(function(t){e(r(953))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(22).then(function(t){e(r(954))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(21).then(function(t){e(r(955))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(20).then(function(t){e(r(956))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(19).then(function(t){e(r(957))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(18).then(function(t){e(r(958))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(17).then(function(t){e(r(959))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(16).then(function(t){e(r(960))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(15).then(function(t){e(r(961))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(14).then(function(t){e(r(962))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(13).then(function(t){e(r(963))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(12).then(function(t){e(r(964))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(11).then(function(t){e(r(965))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(10).then(function(t){e(r(966))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(9).then(function(t){e(r(967))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(8).then(function(t){e(r(968))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(7).then(function(t){e(r(969))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t,r){e.exports=function(){return new Promise(function(e,t){r.e(6).then(function(t){e(r(970))}.bind(null,r))["catch"](function(e){r.oe(e)})["catch"](function(){t()})})}},function(e,t){}],[474]);